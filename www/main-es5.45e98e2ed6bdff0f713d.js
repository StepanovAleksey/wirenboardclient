!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(u){a=!0,r=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}(e,t)||b(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){if(Array.isArray(e))return e}function r(e){var t="function"==typeof Map?new Map:void 0;return(r=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return o(e,arguments,y(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f(i,e)})(e)}function o(e,t,n){return(o=g()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&f(r,n.prototype),r}).apply(null,arguments)}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=g();return function(){var n,i=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){return function(e){if(Array.isArray(e))return k(e)}(e)||_(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function _(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(self.webpackChunkwirenboardclient=self.webpackChunkwirenboardclient||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},7334:function(e,t,n){e.exports=function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return r(t[s][1][e]||e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var o=void 0,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";n.byteLength=function(e){var t=l(e),n=t[1];return 3*(t[0]+n)/4-n},n.toByteArray=function(e){var t,n,i=l(e),s=i[0],a=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),c=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(h(e,s,s+16383>a?a:s+16383));return 1===r?o.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===r&&o.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function h(e,t,n){for(var i=[],r=t;r<n;r+=3)i.push(c((e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2])));return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){},{}],3:[function(e,t,n){(function(t){(function(){"use strict";var t=e("base64-js"),i=e("ieee754");n.Buffer=s,n.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},n.INSPECT_MAX_BYTES=50;var r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),i=o(n),r=i.write(e,t);return r!==n&&(i=i.slice(0,r)),i}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=s.prototype,i}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return s.from(i,t,n);var r=function(e){if(s.isBuffer(e)){var t=0|h(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||B(e.length)?o(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),o(e<0?0:0|h(e))}function c(e){for(var t=e.length<0?0:0|h(e.length),n=o(t),i=0;i<t;i+=1)n[i]=255&e[i];return n}function h(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return i?-1:N(e).length;t=(""+t).toLowerCase(),r=!0}}function d(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function p(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function v(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),B(n=+n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=s.from(t,i)),s.isBuffer(t))return 0===t.length?-1:g(e,t,n,i,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,i,r){var o,s=1,a=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var c=-1;for(o=n;o<a;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){h=!1;break}if(h)return o}return-1}function y(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(B(a))return s;e[n+s]=a}return s}function m(e,t,n,i){return V(N(t,e.length-n),e,n,i)}function b(e,t,n,i){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function _(e,t,n,i){return b(e,t,n,i)}function k(e,t,n,i){return V(F(t),e,n,i)}function w(e,t,n,i){return V(function(e,t){for(var n,i,r=[],o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,r.push(n%256),r.push(i);return r}(t,e.length-n),e,n,i)}function S(e,n,i){return t.fromByteArray(0===n&&i===e.length?e:e.slice(n,i))}function C(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,s,a,u,l=e[r],c=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[r+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:s=e[r+2],128==(192&(o=e[r+1]))&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=e[r+2],a=e[r+3],128==(192&(o=e[r+1]))&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(i.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}function E(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function x(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=L(e[o]);return r}function O(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,i,r,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function D(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}n.kMaxLength=r,!(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,n){return a(e,t,n)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(j(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),j(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=s.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(j(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):d.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,i,r){if(j(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(o,a),l=this.slice(i,r),c=e.slice(t,n),h=0;h<u;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},s.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return i.__proto__=s.prototype,i},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},s.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,i){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&0!==i&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r=i-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,i);else if(this===e&&n<t&&t<i)for(var o=r-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),t);return r},s.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var r=e.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,i),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var P=/[^+/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],s=0;s<i;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function B(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:5}],4:[function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(e,t){return new Promise(function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,r)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,i){var r,o,s;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=c(e))>0&&s.length>r&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(e){console&&console.warn&&console.warn(e)}(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function y(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function r(o){i.once&&e.removeEventListener(t,r),n(o)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=r[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=g(u,l);for(n=0;n<l;++n)o(c[n],this,t)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},a.prototype.off=a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},a.prototype.listenerCount=v,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},{}],5:[function(e,t,n){n.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+e[t+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=l}return(d?-1:1)*s*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*u-1)*Math.pow(2,r),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;e[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;e[n+d]=255&s,d+=p,s/=256,l-=8);e[n+d-p]|=128*v}},{}],6:[function(e,t,n){function i(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(i(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],7:[function(e,t,n){(function(n,i){(function(){"use strict";var r=e("events").EventEmitter,o=e("./store"),s=e("mqtt-packet"),a=e("readable-stream").Writable,u=e("inherits"),l=e("reinterval"),c=e("./validations"),h=e("xtend"),f=e("debug")("mqttjs:client"),d=n?n.nextTick:function(e){setTimeout(e,0)},p=i.setImmediate||function(e){d(e)},v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},g=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],y={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function m(e,t,n){f("sendPacket :: packet: %O",t),f("sendPacket :: emitting `packetsend`"),e.emit("packetsend",t),f("sendPacket :: writing to stream");var i=s.writeToStream(t,e.stream,e.options);f("sendPacket :: writeToStream result %s",i),!i&&n?(f("sendPacket :: handle events on `drain` once through callback."),e.stream.once("drain",n)):n&&(f("sendPacket :: invoking cb"),n())}function b(e){e&&(f("flush: queue exists? %b",!!e),Object.keys(e).forEach(function(t){"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])}))}function _(e,t,n,i){f("storeAndSend :: store packet with cmd %s to outgoingStore",t.cmd),e.outgoingStore.put(t,function(r){if(r)return n&&n(r);i(),m(e,t,n)})}function k(e){f("nop ::",e)}function w(e,t){var n,i=this;if(!(this instanceof w))return new w(e,t);for(n in this.options=t||{},v)this.options[n]=void 0===this.options[n]?v[n]:t[n];f("MqttClient :: options.protocol",t.protocol),f("MqttClient :: options.protocolVersion",t.protocolVersion),f("MqttClient :: options.username",t.username),f("MqttClient :: options.keepalive",t.keepalive),f("MqttClient :: options.reconnectPeriod",t.reconnectPeriod),f("MqttClient :: options.rejectUnauthorized",t.rejectUnauthorized),this.options.clientId="string"==typeof t.clientId?t.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),f("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.outgoingStore=t.outgoingStore||new o,this.incomingStore=t.incomingStore||new o,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this._firstConnection=!0,this.on("connect",function(){var e=this.queue;f("connect :: sending queued packets"),function t(){var n=e.shift();f("deliver :: entry %o",n);var r=null;!n||(f("deliver :: call _sendPacket for %o",r=n.packet),i._sendPacket(r,function(e){n.cb&&n.cb(e),t()}))}()}),this.on("close",function(){f("close :: connected set to `false`"),this.connected=!1,f("close :: clearing connackTimer"),clearTimeout(this.connackTimer),f("close :: clearing ping timer"),null!==i.pingTimer&&(i.pingTimer.clear(),i.pingTimer=null),f("close :: calling _setupReconnect"),this._setupReconnect()}),r.call(this),f("MqttClient :: setting up stream"),this._setupStream()}u(w,r),w.prototype._setupStream=function(){var e,t=this,n=this,i=new a,r=s.parser(this.options),o=null,u=[];function l(){if(u.length)d(c);else{var e=o;o=null,e()}}function c(){f("work :: getting next packet in queue");var e=u.shift();if(e)f("work :: packet pulled from queue"),n._handlePacket(e,l);else{f("work :: no packets in queue");var t=o;o=null,f("work :: done flag is %s",!!t),t&&t()}}if(f("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),f("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),r.on("packet",function(e){f("parser :: on packet push to packets array."),u.push(e)}),i._write=function(e,t,n){o=n,f("writable stream :: parsing buffer"),r.parse(e),c()},f("_setupStream :: pipe stream to writable stream"),this.stream.pipe(i),this.stream.on("error",function(e){f("streamErrorHandler :: error",e.message),g.includes(e.code)?(f("streamErrorHandler :: emitting error"),n.emit("error",e)):k(e)}),this.stream.on("close",function(){f("(%s)stream :: on close",n.options.clientId),function(e){e&&(f("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(e).forEach(function(t){e[t].volatile&&"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])}))}(n.outgoing),f("stream: emit close to MqttClient"),n.emit("close")}),f("_setupStream: sending packet `connect`"),(e=Object.create(this.options)).cmd="connect",m(this,e),r.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return n.end(function(){return t.emit("error",new Error("Packet has no Authentication Method"))}),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket&&m(this,h({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){f("!!connectTimeout hit!! Calling _cleanUp with force `true`"),n._cleanUp(!0)},this.options.connectTimeout)},w.prototype._handlePacket=function(e,t){var n=this.options;if(5===n.protocolVersion&&n.properties&&n.properties.maximumPacketSize&&n.properties.maximumPacketSize<e.length)return this.emit("error",new Error("exceeding packets size "+e.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(f("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",e),e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"pingresp":this._handlePingresp(e),t();break;case"disconnect":this._handleDisconnect(e),t()}},w.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},w.prototype.publish=function(e,t,n,i){f("publish :: message `%s` to topic `%s`",t,e);var r,o=this.options;if("function"==typeof n&&(i=n,n=null),n=h({qos:0,retain:!1,dup:!1},n),this._checkDisconnecting(i))return this;switch(r={cmd:"publish",topic:e,payload:t,qos:n.qos,retain:n.retain,messageId:this._nextId(),dup:n.dup},5===o.protocolVersion&&(r.properties=n.properties,(!o.properties&&r.properties&&r.properties.topicAlias||n.properties&&o.properties&&(n.properties.topicAlias&&o.properties.topicAliasMaximum&&n.properties.topicAlias>o.properties.topicAliasMaximum||!o.properties.topicAliasMaximum&&n.properties.topicAlias))&&delete r.properties.topicAlias),f("publish :: qos",n.qos),n.qos){case 1:case 2:this.outgoing[r.messageId]={volatile:!1,cb:i||k},this._storeProcessing?(f("_storeProcessing enabled"),this._packetIdsDuringStoreProcessing[r.messageId]=!1,this._storePacket(r,void 0,n.cbStorePut)):(f("MqttClient:publish: packet cmd: %s",r.cmd),this._sendPacket(r,void 0,n.cbStorePut));break;default:this._storeProcessing?(f("_storeProcessing enabled"),this._storePacket(r,i,n.cbStorePut)):(f("MqttClient:publish: packet cmd: %s",r.cmd),this._sendPacket(r,i,n.cbStorePut))}return this},w.prototype.subscribe=function(){for(var e,t=new Array(arguments.length),n=0;n<arguments.length;n++)t[n]=arguments[n];var i,r=[],o=t.shift(),s=o.resubscribe,a=t.pop()||k,u=t.pop(),l=this,d=this.options.protocolVersion;if(delete o.resubscribe,"string"==typeof o&&(o=[o]),"function"!=typeof a&&(u=a,a=k),null!==(i=c.validateTopics(o)))return p(a,new Error("Invalid topic "+i)),this;if(this._checkDisconnecting(a))return f("subscribe: discconecting true"),this;var v={qos:0};if(5===d&&(v.nl=!1,v.rap=!1,v.rh=0),u=h(v,u),Array.isArray(o)?o.forEach(function(e){if(f("subscribe: array topic %s",e),!l._resubscribeTopics.hasOwnProperty(e)||l._resubscribeTopics[e].qos<u.qos||s){var t={topic:e,qos:u.qos};5===d&&(t.nl=u.nl,t.rap=u.rap,t.rh=u.rh,t.properties=u.properties),f("subscribe: pushing topic `%s` and qos `%s` to subs list",t.topic,t.qos),r.push(t)}}):Object.keys(o).forEach(function(e){if(f("subscribe: object topic %s",e),!l._resubscribeTopics.hasOwnProperty(e)||l._resubscribeTopics[e].qos<o[e].qos||s){var t={topic:e,qos:o[e].qos};5===d&&(t.nl=o[e].nl,t.rap=o[e].rap,t.rh=o[e].rh,t.properties=u.properties),f("subscribe: pushing `%s` to subs list",t),r.push(t)}}),e={cmd:"subscribe",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:this._nextId()},u.properties&&(e.properties=u.properties),r.length){if(this.options.resubscribe){f("subscribe :: resubscribe true");var g=[];r.forEach(function(e){if(l.options.reconnectPeriod>0){var t={qos:e.qos};5===d&&(t.nl=e.nl||!1,t.rap=e.rap||!1,t.rh=e.rh||0,t.properties=e.properties),l._resubscribeTopics[e.topic]=t,g.push(e.topic)}}),l.messageIdToTopic[e.messageId]=g}return this.outgoing[e.messageId]={volatile:!0,cb:function(e,t){if(!e)for(var n=t.granted,i=0;i<n.length;i+=1)r[i].qos=n[i];a(e,r)}},f("subscribe :: call _sendPacket"),this._sendPacket(e),this}a(null,[])},w.prototype.unsubscribe=function(){for(var e={cmd:"unsubscribe",qos:1,messageId:this._nextId()},t=this,n=new Array(arguments.length),i=0;i<arguments.length;i++)n[i]=arguments[i];var r=n.shift(),o=n.pop()||k,s=n.pop();return"string"==typeof r&&(r=[r]),"function"!=typeof o&&(s=o,o=k),this._checkDisconnecting(o)||("string"==typeof r?e.unsubscriptions=[r]:Array.isArray(r)&&(e.unsubscriptions=r),this.options.resubscribe&&e.unsubscriptions.forEach(function(e){delete t._resubscribeTopics[e]}),"object"==typeof s&&s.properties&&(e.properties=s.properties),this.outgoing[e.messageId]={volatile:!0,cb:o},f("unsubscribe: call _sendPacket"),this._sendPacket(e)),this},w.prototype.end=function(e,t,n){var i=this;function r(){f("end :: closeStores: closing incoming and outgoing stores"),i.disconnected=!0,i.incomingStore.close(function(e){i.outgoingStore.close(function(t){if(f("end :: closeStores: emitting end"),i.emit("end"),n){var r=e||t;f("end :: closeStores: invoking callback with args"),n(r)}})}),i._deferredReconnect&&i._deferredReconnect()}function o(){f("end :: (%s) :: finish :: calling _cleanUp with force %s",i.options.clientId,e),i._cleanUp(e,function(){f("end :: finish :: calling process.nextTick on closeStores"),d(r.bind(i))},t)}return f("end :: (%s)",this.options.clientId),(null==e||"boolean"!=typeof e)&&(n=t||k,t=e,e=!1,"object"!=typeof t&&(n=t,t=null,"function"!=typeof n&&(n=k))),"object"!=typeof t&&(n=t,t=null),f("end :: cb? %s",!!n),n=n||k,this.disconnecting?(n(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(f("end :: (%s) :: calling finish in 10ms once outgoing is empty",i.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(f("end :: (%s) :: immediately calling finish",i.options.clientId),o()),this)},w.prototype.removeOutgoingMessage=function(e){var t=this.outgoing[e]?this.outgoing[e].cb:null;return delete this.outgoing[e],this.outgoingStore.del({messageId:e},function(){t(new Error("Message removed"))}),this},w.prototype.reconnect=function(e){f("client reconnect");var t=this,n=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new o,t.outgoingStore=t.options.outgoingStore||new o,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=n:n(),this},w.prototype._reconnect=function(){var e=this;f("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(function(){e._setupStream()}),f("client already connected. disconnecting first.")):(f("_reconnect: calling _setupStream"),this._setupStream())},w.prototype._setupReconnect=function(){var e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0?(this.reconnecting||(f("_setupReconnect :: emit `offline` state"),this.emit("offline"),f("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),f("_setupReconnect :: setting reconnectTimer for %d ms",e.options.reconnectPeriod),e.reconnectTimer=setInterval(function(){f("reconnectTimer :: reconnect triggered!"),e._reconnect()},e.options.reconnectPeriod)):f("_setupReconnect :: doing nothing...")},w.prototype._clearReconnect=function(){f("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},w.prototype._cleanUp=function(e,t){var n=arguments[2];if(t&&(f("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",t)),f("_cleanUp :: forced? %s",e),e)0===this.options.reconnectPeriod&&this.options.clean&&b(this.outgoing),f("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{var i=h({cmd:"disconnect"},n);f("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(i,p.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(f("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(f("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(f("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",t),t())},w.prototype._sendPacket=function(e,t,n){if(f("_sendPacket :: (%s) ::  start",this.options.clientId),n=n||k,!this.connected)return f("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(e,t,n);switch(this._shiftPingInterval(),e.cmd){case"publish":break;case"pubrel":return void _(this,e,t,n);default:return void m(this,e,t)}switch(e.qos){case 2:case 1:_(this,e,t,n);break;case 0:default:m(this,e,t)}f("_sendPacket :: (%s) ::  end",this.options.clientId)},w.prototype._storePacket=function(e,t,n){f("_storePacket :: packet: %o",e),f("_storePacket :: cb? %s",!!t),n=n||k,0===(e.qos||0)&&this.queueQoSZero||"publish"!==e.cmd?this.queue.push({packet:e,cb:t}):e.qos>0?(t=this.outgoing[e.messageId]?this.outgoing[e.messageId].cb:null,this.outgoingStore.put(e,function(e){if(e)return t&&t(e);n()})):t&&t(new Error("No connection to broker"))},w.prototype._setupPingTimer=function(){f("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);var e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=l(function(){e._checkPing()},1e3*this.options.keepalive))},w.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},w.prototype._checkPing=function(){f("_checkPing :: checking ping..."),this.pingResp?(f("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(f("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},w.prototype._handlePingresp=function(){this.pingResp=!0},w.prototype._handleConnack=function(e){f("_handleConnack");var t=this.options,n=5===t.protocolVersion?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),e.properties&&(e.properties.topicAliasMaximum&&(t.properties||(t.properties={}),t.properties.topicAliasMaximum=e.properties.topicAliasMaximum),e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)),0===n)this.reconnecting=!1,this._onConnect(e);else if(n>0){var i=new Error("Connection refused: "+y[n]);i.code=n,this.emit("error",i)}},w.prototype._handlePublish=function(e,t){f("_handlePublish: packet %o",e),t=void 0!==t?t:k;var n=e.topic.toString(),i=e.payload,r=e.qos,o=e.messageId,s=this,a=this.options,u=[0,16,128,131,135,144,145,151,153];switch(f("_handlePublish: qos %d",r),r){case 2:a.customHandleAcks(n,i,e,function(n,i){return n instanceof Error||(i=n,n=null),n?s.emit("error",n):-1===u.indexOf(i)?s.emit("error",new Error("Wrong reason code for pubrec")):void(i?s._sendPacket({cmd:"pubrec",messageId:o,reasonCode:i},t):s.incomingStore.put(e,function(){s._sendPacket({cmd:"pubrec",messageId:o},t)}))});break;case 1:a.customHandleAcks(n,i,e,function(r,a){return r instanceof Error||(a=r,r=null),r?s.emit("error",r):-1===u.indexOf(a)?s.emit("error",new Error("Wrong reason code for puback")):(a||s.emit("message",n,i,e),void s.handleMessage(e,function(e){if(e)return t&&t(e);s._sendPacket({cmd:"puback",messageId:o,reasonCode:a},t)}))});break;case 0:this.emit("message",n,i,e),this.handleMessage(e,t);break;default:f("_handlePublish: unknown QoS. Doing nothing.")}},w.prototype.handleMessage=function(e,t){t()},w.prototype._handleAck=function(e){var t,n=e.messageId,i=e.cmd,r=null,o=this.outgoing[n]?this.outgoing[n].cb:null,s=this;if(o){switch(f("_handleAck :: packet type",i),i){case"pubcomp":case"puback":var a=e.reasonCode;a&&a>0&&16!==a&&((t=new Error("Publish error: "+y[a])).code=a,o(t,e)),delete this.outgoing[n],this.outgoingStore.del(e,o);break;case"pubrec":r={cmd:"pubrel",qos:2,messageId:n};var u=e.reasonCode;u&&u>0&&16!==u?((t=new Error("Publish error: "+y[u])).code=u,o(t,e)):this._sendPacket(r);break;case"suback":delete this.outgoing[n];for(var l=0;l<e.granted.length;l++)if(0!=(128&e.granted[l])){var c=this.messageIdToTopic[n];c&&c.forEach(function(e){delete s._resubscribeTopics[e]})}o(null,e);break;case"unsuback":delete this.outgoing[n],o(null);break;default:s.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else f("_handleAck :: Server sent an ack in error. Ignoring.")},w.prototype._handlePubrel=function(e,t){f("handling pubrel packet"),t=void 0!==t?t:k;var n=this,i={cmd:"pubcomp",messageId:e.messageId};n.incomingStore.get(e,function(e,r){e?n._sendPacket(i,t):(n.emit("message",r.topic,r.payload,r),n.handleMessage(r,function(e){if(e)return t(e);n.incomingStore.del(r,k),n._sendPacket(i,t)}))})},w.prototype._handleDisconnect=function(e){this.emit("disconnect",e)},w.prototype._nextId=function(){var e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},w.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},w.prototype._resubscribe=function(e){f("_resubscribe");var t=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!e.sessionPresent)&&t.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){f("_resubscribe: protocolVersion 5");for(var n=0;n<t.length;n++){var i={};i[t[n]]=this._resubscribeTopics[t[n]],i.resubscribe=!0,this.subscribe(i,{properties:i[t[n]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},w.prototype._onConnect=function(e){if(this.disconnected)this.emit("connect",e);else{var t=this;this._setupPingTimer(),this._resubscribe(e),this.connected=!0,function n(){var i=t.outgoingStore.createStream();function r(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}}function o(){i.destroy(),i=null,r()}t.once("close",o),i.on("error",function(e){r(),t.removeListener("close",o),t.emit("error",e)}),i.on("end",function(){var i=!0;for(var s in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[s]){i=!1;break}i?(r(),t.removeListener("close",o),t.emit("connect",e)):n()}),function e(){if(i){t._storeProcessing=!0;var n,r=i.read(1);if(!r)return void i.once("readable",e);if(t._packetIdsDuringStoreProcessing[r.messageId])return void e();t.disconnecting||t.reconnectTimer?i.destroy&&i.destroy():(n=t.outgoing[r.messageId]?t.outgoing[r.messageId].cb:null,t.outgoing[r.messageId]={volatile:!1,cb:function(t,i){n&&n(t,i),e()}},t._packetIdsDuringStoreProcessing[r.messageId]=!0,t._sendPacket(r))}}()}()}},t.exports=w}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./store":13,"./validations":14,_process:69,debug:19,events:4,inherits:34,"mqtt-packet":38,"readable-stream":60,reinterval:61,xtend:68}],8:[function(e,t,n){(function(n){(function(){"use strict";var i,r,o,s=e("readable-stream").Transform,a=e("duplexify"),u=!1;t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(t);var c=function(e,t){var n="alis"===e.protocol?"wss":"ws",i=n+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(i=n+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(i=e.transformWsUrl(i,e,t)),i}(t,e);return(i=t.my).connectSocket({url:c,protocols:l}),r=function(){var e=new s;return e._write=function(e,t,n){i.sendSocketMessage({data:e.buffer,success:function(){n()},fail:function(){n(new Error)}})},e._flush=function(e){i.closeSocket({success:function(){e()}})},e}(),o=a.obj(),u||(u=!0,i.onSocketOpen(function(){o.setReadable(r),o.setWritable(r),o.emit("connect")}),i.onSocketMessage(function(e){if("string"==typeof e.data){var t=n.from(e.data,"base64");r.push(t)}else{var i=new FileReader;i.addEventListener("load",function(){var e=i.result;e=e instanceof ArrayBuffer?n.from(e):n.from(e,"utf8"),r.push(e)}),i.readAsArrayBuffer(e.data)}}),i.onSocketClose(function(){o.end(),o.destroy()}),i.onSocketError(function(e){o.destroy(e)})),o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:3,duplexify:21,"readable-stream":60}],9:[function(e,t,n){"use strict";var i=e("net"),r=e("debug")("mqttjs:tcp");t.exports=function(e,t){var n,o;return t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",r("port %d and host %s",n=t.port,o=t.hostname),i.createConnection(n,o)}},{debug:19,net:2}],10:[function(e,t,n){"use strict";var i=e("tls"),r=e("debug")("mqttjs:tls");t.exports=function(e,t){var n;function o(i){t.rejectUnauthorized&&e.emit("error",i),n.end()}return t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",t.servername=t.host,t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,r("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized),(n=i.connect(t)).on("secureConnect",function(){t.rejectUnauthorized&&!n.authorized?n.emit("error",new Error("TLS not authorized")):n.removeListener("error",o)}),n.on("error",o),n}},{debug:19,tls:2}],11:[function(e,t,i){(function(i,r){(function(){"use strict";var o=e("ws"),s=e("debug")("mqttjs:ws"),a=e("duplexify"),u=e("readable-stream").Transform,l=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],c=void 0!==i&&"browser"===i.title||"function"==typeof n;function h(e,t){var n=e.protocol+"://"+e.hostname+":"+e.port+e.path;return"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}function f(e){var t=e;return e.hostname||(t.hostname="localhost"),e.port||(t.port="wss"===e.protocol?443:80),e.path||(t.path="/"),e.wsOptions||(t.wsOptions={}),!c&&"wss"===e.protocol&&l.forEach(function(n){e.hasOwnProperty(n)&&!e.wsOptions.hasOwnProperty(n)&&(t.wsOptions[n]=e[n])}),t}t.exports=c?function(e,t){var n;s("browserStreamBuilder");var i=function(e){var t=f(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var n=new URL(document.URL);t.hostname=n.hostname,t.port||(t.port=n.port)}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}(t).browserBufferSize||524288,o=t.browserBufferTimeout||1e3,l=!t.objectMode,c=function(e,t){var n="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",i=h(t,e),r=new WebSocket(i,[n]);return r.binaryType="arraybuffer",r}(e,t),d=function(e,t,n){var i=new u({objectModeMode:e.objectMode});return i._write=t,i._flush=function(e){c.close(),e()},i}(t,function e(t,n,s){c.bufferedAmount>i&&setTimeout(e,o,t,n,s),l&&"string"==typeof t&&(t=r.from(t,"utf8"));try{c.send(t)}catch(a){return s(a)}s()});t.objectMode||(d._writev=b),d.on("close",function(){c.close()});var p=void 0===c.addEventListener;function v(){n.setReadable(d),n.setWritable(d),n.emit("connect")}function g(){n.end(),n.destroy()}function y(e){n.destroy(e)}function m(e){var t=e.data;t=t instanceof ArrayBuffer?r.from(t):r.from(t,"utf8"),d.push(t)}function b(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)n[i]="string"==typeof e[i].chunk?r.from(e[i],"utf8"):e[i].chunk;this._write(r.concat(n),"binary",t)}return c.readyState===c.OPEN?n=d:(n=n=a(void 0,void 0,t),t.objectMode||(n._writev=b),p?c.addEventListener("open",v):c.onopen=v),n.socket=c,p?(c.addEventListener("close",g),c.addEventListener("error",y),c.addEventListener("message",m)):(c.onclose=g,c.onerror=y,c.onmessage=m),n}:function(e,t){s("streamBuilder");var n=f(t),i=h(n,e),r=function(e,t,n){s("createWebSocket"),s("protocol: "+n.protocolId+" "+n.protocolVersion);var i="MQIsdp"===n.protocolId&&3===n.protocolVersion?"mqttv3.1":"mqtt";return s("creating new Websocket for url: "+t+" and protocol: "+i),new o(t,[i],n.wsOptions)}(0,i,n),a=o.createWebSocketStream(r,n.wsOptions);return a.url=i,a}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:69,buffer:3,debug:19,duplexify:21,"readable-stream":60,ws:67}],12:[function(e,t,n){(function(n){(function(){"use strict";var i,r,o,s=e("readable-stream").Transform,a=e("duplexify");t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");var u="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(t);var l=function(e,t){var n="wxs"===e.protocol?"wss":"ws",i=n+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(i=n+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(i=e.transformWsUrl(i,e,t)),i}(t,e);i=wx.connectSocket({url:l,protocols:[u]}),r=function(){var e=new s;return e._write=function(e,t,n){i.send({data:e.buffer,success:function(){n()},fail:function(e){n(new Error(e))}})},e._flush=function(e){i.close({success:function(){e()}})},e}(),(o=a.obj())._destroy=function(e,t){i.close({success:function(){t&&t(e)}})};var c=o.destroy;return o.destroy=(function(){o.destroy=c;var e=this;setTimeout(function(){i.close({fail:function(){e._destroy(new Error)}})},0)}).bind(o),i.onOpen(function(){o.setReadable(r),o.setWritable(r),o.emit("connect")}),i.onMessage(function(e){var t=e.data;t=t instanceof ArrayBuffer?n.from(t):n.from(t,"utf8"),r.push(t)}),i.onClose(function(){o.end(),o.destroy()}),i.onError(function(e){o.destroy(new Error(e.errMsg))}),o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:3,duplexify:21,"readable-stream":60}],13:[function(e,t,n){"use strict";var i=e("xtend"),r=e("readable-stream").Readable,o={objectMode:!0},s={clean:!0};function a(e){if(!(this instanceof a))return new a(e);this.options=e||{},this.options=i(s,e),this._inflights=new Map}a.prototype.put=function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this},a.prototype.createStream=function(){var e=new r(o),t=!1,n=[],i=0;return this._inflights.forEach(function(e,t){n.push(e)}),e._read=function(){this.push(!t&&i<n.length?n[i++]:null)},e.destroy=function(){if(!t){var e=this;t=!0,setTimeout(function(){e.emit("close")},0)}},e},a.prototype.del=function(e,t){return(e=this._inflights.get(e.messageId))?(this._inflights.delete(e.messageId),t(null,e)):t&&t(new Error("missing packet")),this},a.prototype.get=function(e,t){return(e=this._inflights.get(e.messageId))?t(null,e):t&&t(new Error("missing packet")),this},a.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},t.exports=a},{"readable-stream":60,xtend:68}],14:[function(e,t,n){"use strict";function i(e){for(var t=e.split("/"),n=0;n<t.length;n++)if("+"!==t[n]){if("#"===t[n])return n===t.length-1;if(-1!==t[n].indexOf("+")||-1!==t[n].indexOf("#"))return!1}return!0}t.exports={validateTopics:function(e){if(0===e.length)return"empty_topic_list";for(var t=0;t<e.length;t++)if(!i(e[t]))return e[t];return null}}},{}],15:[function(e,t,i){(function(i){(function(){"use strict";var r=e("../client"),o=e("../store"),s=e("url"),a=e("xtend"),u=e("debug")("mqttjs"),l={};function c(e,t){if(u("connecting to an MQTT broker..."),"object"==typeof e&&!t&&(t=e,e=null),t=t||{},e){var n=s.parse(e,!0);if(null!=n.port&&(n.port=Number(n.port)),null===(t=a(n,t)).protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(function(e){var t;e.auth&&((t=e.auth.match(/^(.+):(.+)$/))?(e.username=t[1],e.password=t[2]):e.username=e.auth)}(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!l[t.protocol]){var i=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(e,t){return(!i||t%2!=0)&&"function"==typeof l[e]})[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");t.protocol&&(t.defaultProtocol=t.protocol);var o=new r(function(e){return t.servers&&((!e._reconnectCount||e._reconnectCount===t.servers.length)&&(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),u("calling streambuilder for",t.protocol),l[t.protocol](e,t)},t);return o.on("error",function(){}),o}void 0!==i&&"browser"!==i.title||"function"!=typeof n?(l.mqtt=e("./tcp"),l.tcp=e("./tcp"),l.ssl=e("./tls"),l.tls=e("./tls"),l.mqtts=e("./tls")):(l.wx=e("./wx"),l.wxs=e("./wx"),l.ali=e("./ali"),l.alis=e("./ali")),l.ws=e("./ws"),l.wss=e("./ws"),t.exports=c,t.exports.connect=c,t.exports.MqttClient=r,t.exports.Store=o}).call(this)}).call(this,e("_process"))},{"../client":7,"../store":13,"./ali":8,"./tcp":9,"./tls":10,"./ws":11,"./wx":12,_process:69,debug:19,url:75,xtend:68}],16:[function(e,t,n){"use strict";var i=e("buffer").Buffer,r=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];for(var t=0,n=0;n<this._bufs.length;n++){var i=t+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-t];t=i}},o.prototype._reverseOffset=function(e){for(var t=e[0],n=e[1],i=0;i<t;i++)n+=this._bufs[i].length;return n},o.prototype.get=function(e){if(!(e>this.length||e<0)){var t=this._offset(e);return this._bufs[t[0]][t[1]]}},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,n,r){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length||r<=0)return e||i.alloc(0);var o=!!e,s=this._offset(n),a=r-n,u=a,l=o&&t||0,c=s[1];if(0===n&&r===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:i.concat(this._bufs,this.length);for(var h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,l),l+=this._bufs[h].length;return e}if(u<=this._bufs[s[0]].length-c)return o?this._bufs[s[0]].copy(e,t,c,c+u):this._bufs[s[0]].slice(c,c+u);o||(e=i.allocUnsafe(a));for(var f=s[0];f<this._bufs.length;f++){var d=this._bufs[f].length-c;if(!(u>d)){this._bufs[f].copy(e,l,c,c+u),l+=d;break}this._bufs[f].copy(e,l,c),l+=d,u-=d,c&&(c=0)}return e.length>l?e.slice(0,l):e},o.prototype.shallowSlice=function(e,t){if((e=e||0)<0&&(e+=this.length),(t="number"!=typeof t?this.length:t)<0&&(t+=this.length),e===t)return this._new();var n=this._offset(e),i=this._offset(t),r=this._bufs.slice(n[0],i[0]+1);return 0===i[1]?r.pop():r[r.length-1]=r[r.length-1].slice(0,i[1]),0!==n[1]&&(r[0]=r[0].slice(n[1])),this._new(r)},o.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){for(var e=this._new(),t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(i.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(var t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(var n=0;n<e._bufs.length;n++)this.append(e._bufs[n]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(i.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=i.from([e]):"string"==typeof e?e=i.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=i.from(e.buffer,e.byteOffset,e.byteLength):i.isBuffer(e)||(e=i.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;for(var r=this._offset(t),o=r[0],s=r[1];o<this._bufs.length;o++){for(var a=this._bufs[o];s<a.length;)if(a.length-s>=e.length){var u=a.indexOf(e,s);if(-1!==u)return this._reverseOffset([o,u]);s=a.length-e.length+1}else{var l=this._reverseOffset([o,s]);if(this._match(l,e))return l;s++}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(var n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var t in e)!function(t){o.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(n,n+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[r]},t.exports=o},{buffer:3}],17:[function(e,t,n){"use strict";var i=e("readable-stream").Duplex,r=e("inherits"),o=e("./BufferList");function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;var t=(function(e){this._callback&&(this._callback(e),this._callback=null)}).bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),e=null}o._init.call(this,e),i.call(this)}r(s,i),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){i.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,t.exports=s,t.exports.BufferListStream=s,t.exports.BufferList=o},{"./BufferList":16,inherits:34,"readable-stream":60}],18:[function(e,t,n){(function(e){(function(){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==typeof e&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e.isBuffer}).call(this)}).call(this,{isBuffer:e("../../../../is-buffer/index.js")})},{"../../../../is-buffer/index.js":6}],19:[function(e,t,n){(function(i){(function(){n.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))}),e.splice(r,0,n)}},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(t){}},n.load=function(){var e;try{e=n.storage.getItem("debug")}catch(t){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e},n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(e){}}(),n.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||function(){},t.exports=e("./common")(n),t.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this)}).call(this,e("_process"))},{"./common":20,_process:69}],20:[function(e,t,n){t.exports=function(t){function n(e){var t,r=null;function o(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(o.enabled){var s=o,a=Number(new Date);s.diff=a-(t||a),s.prev=t,s.curr=a,t=a,i[0]=n.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return"%";u++;var r=n.formatters[t];return"function"==typeof r&&(e=r.call(s,i[u]),i.splice(u,1),u--),e}),n.formatArgs.call(s,i),(s.log||n.log).apply(s,i)}}return o.namespace=e,o.useColors=n.useColors(),o.color=n.selectColor(e),o.extend=i,o.destroy=n.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===r?n.enabled(e):r},set:function(e){r=e}}),"function"==typeof n.init&&n.init(o),o}function i(e,t){var i=n(this.namespace+(void 0===t?":":t)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){var e=[].concat(m(n.names.map(r)),m(n.skips.map(r).map(function(e){return"-"+e}))).join(",");return n.enable(""),e},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(t=0;t<r;t++)!i[t]||("-"===(e=i[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(function(e){n[e]=t[e]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){for(var t=0,i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return n.colors[Math.abs(t)%n.colors.length]},n.enable(n.load()),n}},{ms:43}],21:[function(e,t,n){(function(n,i){(function(){var r=e("readable-stream"),o=e("end-of-stream"),s=e("inherits"),a=e("stream-shift"),u=i.from&&i.from!==Uint8Array.from?i.from([0]):new i([0]),l=function(e,t){e._corked?e.once("uncork",t):t()},c=function(e,t){return function(n){n?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===n.message?null:n):t&&!e._ended&&e.end()}},h=function e(t,n,i){if(!(this instanceof e))return new e(t,n,i);r.Duplex.call(this,i),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!i||!1!==i.autoDestroy,this._forwardDestroy=!i||!1!==i.destroy,this._forwardEnd=!i||!1!==i.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),n&&this.setReadable(n)};s(h,r.Duplex),h.obj=function(e,t,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new h(e,t,n)},h.prototype.cork=function(){1==++this._corked&&this.emit("cork")},h.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},h.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,i=o(e,{writable:!0,readable:!1},c(this,this._forwardEnd)),r=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&n.nextTick(r),this._writable=e,this._writable.on("drain",r),this._unwrite=function(){t._writable.removeListener("drain",r),i()},this.uncork()}else this.end()},h.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t=this,n=o(e,{writable:!1,readable:!0},c(this)),i=function(){t._forward()},s=function(){t.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:function(e){return new r.Readable({objectMode:!0,highWaterMark:16}).wrap(e)}(e),this._readable2.on("readable",i),this._readable2.on("end",s),this._unread=function(){t._readable2.removeListener("readable",i),t._readable2.removeListener("end",s),n()},this._forward()}},h.prototype._read=function(){this._drained=!0,this._forward()},h.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){this._forwarding=!0;for(var e;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},h.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;n.nextTick(function(){t._destroy(e)})}},h.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},h.prototype._write=function(e,t,n){return this.destroyed?n():this._corked?l(this,this._write.bind(this,e,t,n)):e===u?this._finish(n):this._writable?void(!1===this._writable.write(e)?this._ondrain=n:n()):n()},h.prototype._finish=function(e){var t=this;this.emit("preend"),l(this,function(){!function(e,t){!e||e._writableState&&e._writableState.finished?t():e._writableState?e.end(t):(e.end(),t())}(t._forwardEnd&&t._writable,function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),l(t,e)})})},h.prototype.end=function(e,t,n){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(u),r.Writable.prototype.end.call(this,n))},t.exports=h}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:69,buffer:3,"end-of-stream":33,inherits:34,"readable-stream":30,"stream-shift":63}],22:[function(e,t,n){"use strict";var i=e("process-nextick-args"),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=h;var o=Object.create(e("core-util-is"));o.inherits=e("inherits");var s=e("./_stream_readable"),a=e("./_stream_writable");o.inherits(h,s);for(var u=r(a.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},{"./_stream_readable":24,"./_stream_writable":26,"core-util-is":18,inherits:34,"process-nextick-args":45}],23:[function(e,t,n){"use strict";t.exports=o;var i=e("./_stream_transform"),r=Object.create(e("core-util-is"));function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r.inherits=e("inherits"),r.inherits(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":25,"core-util-is":18,inherits:34}],24:[function(e,t,n){(function(n,i){(function(){"use strict";var r=e("process-nextick-args");t.exports=b;var o,s=e("isarray");b.ReadableState=m,e("events");var a=function(e,t){return e.listeners(t).length},u=e("./internal/streams/stream"),l=e("safe-buffer").Buffer,c=i.Uint8Array||function(){},h=Object.create(e("core-util-is"));h.inherits=e("inherits");var f=e("util"),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,v=e("./internal/streams/BufferList"),g=e("./internal/streams/destroy");h.inherits(b,u);var y=["error","close","destroy","pause","resume"];function m(t,n){var i=n instanceof(o=o||e("./_stream_duplex"));this.objectMode=!!(t=t||{}).objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,s=t.readableHighWaterMark;this.highWaterMark=r||0===r?r:i&&(s||0===s)?s:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||e("./_stream_duplex"),!(this instanceof b))return new b(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function _(e,t,n,i,r){var o,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}}(e,s)):(r||(o=function(e,t){var n;return!function(e){return l.isBuffer(e)||e instanceof c}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"!=typeof t&&!s.objectMode&&Object.getPrototypeOf(t)!==l.prototype&&(t=function(e){return l.from(e)}(t)),i?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):k(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?k(e,s,t,!1):E(e,s)):k(e,s,t,!1))):i||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function k(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),E(e,t)}function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(C,e):C(e))}function C(e){d("emit readable"),e.emit("readable"),I(e)}function E(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(T,e,t))}function T(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function x(e){d("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;for(e-=r.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(r+=s===o.length?o:o.slice(0,e),0==(e-=s)){s===o.length?(++i,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=l.allocUnsafe(e),i=t.head,r=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var o=i.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0==(e-=s)){s===o.length?(++r,t.head=i.next?i.next:t.tail=null):(t.head=i,i.data=o.slice(s));break}++r}return t.length-=r,n}(e,t),i}(e,t.buffer,t.decoder),n);var n}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(R,t,e))}function R(e,t){!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=l.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return p||(p=e("string_decoder/").StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this},b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&D(this),null;var i,r=t.needReadable;return d("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",r=!0),t.ended||t.reading?d("reading or ended",r=!1):r&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(i=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var i=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:l;function l(){d("onend"),e.end()}o.endEmitted?r.nextTick(u):i.once("end",u),e.on("unpipe",function t(n,r){d("onunpipe"),n===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",v),e.removeListener("unpipe",t),i.removeListener("end",l),i.removeListener("end",m),i.removeListener("data",p),h=!0,o.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c())});var c=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,I(e))}}(i);e.on("drain",c);var h=!1,f=!1;function p(t){d("ondata"),f=!1,!1===e.write(t)&&!f&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==M(o.pipes,e))&&!h&&(d("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,f=!0),i.pause())}function v(t){d("onerror",t),m(),e.removeListener("error",v),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),m()}function y(){d("onfinish"),e.removeListener("close",g),m()}function m(){d("unpipe"),i.unpipe(e)}return i.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",v),e.once("close",g),e.once("finish",y),e.emit("pipe",i),o.flowing||(d("pipe resume"),i.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var s=M(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.addListener=b.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):r.nextTick(x,this))}return n},b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(O,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){d("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||!(n.objectMode||r&&r.length)||t.push(r)||(i=!0,e.pause())}),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){d("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=A}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":22,"./internal/streams/BufferList":27,"./internal/streams/destroy":28,"./internal/streams/stream":29,_process:69,"core-util-is":18,events:4,inherits:34,isarray:35,"process-nextick-args":45,"safe-buffer":31,"string_decoder/":32,util:2}],25:[function(e,t,n){"use strict";t.exports=s;var i=e("./_stream_duplex"),r=Object.create(e("core-util-is"));function o(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);i.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){u(e,t,n)}):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=e("inherits"),r.inherits(s,i),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{"./_stream_duplex":22,"core-util-is":18,inherits:34}],26:[function(e,t,n){(function(n,i,r){(function(){"use strict";var o=e("process-nextick-args");function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(undefined),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=m;var a,u=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?r:o.nextTick;m.WritableState=y;var l=Object.create(e("core-util-is"));l.inherits=e("inherits");var c,h={deprecate:e("util-deprecate")},f=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,p=i.Uint8Array||function(){},v=e("./internal/streams/destroy");function g(){}function y(t,n){a=a||e("./_stream_duplex");var i=n instanceof a;this.objectMode=!!(t=t||{}).objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,l=t.writableHighWaterMark;this.highWaterMark=r||0===r?r:i&&(l||0===l)?l:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(o.nextTick(r,i),o.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(r(i),e._writableState.errorEmitted=!0,e.emit("error",i),C(e,t))}(e,n,i,t,r);else{var s=w(n);!s&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&k(e,n),i?u(_,e,n,s,r):_(e,n,s,r)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function m(t){if(a=a||e("./_stream_duplex"),!(c.call(m,this)||this instanceof a))return new m(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function b(e,t,n,i,r,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function _(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),C(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=new Array(t.bufferedRequestCount),r=t.corkedRequestsFree;r.entry=n;for(var o=0,a=!0;n;)i[o]=n,n.isBuf||(a=!1),n=n.next,o+=1;i.allBuffers=a,b(e,t,!0,t.length,i,"",r.finish),t.pendingcb++,t.lastBufferedRequest=null,r.next?(t.corkedRequestsFree=r.next,r.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(b(e,t,!1,t.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function C(e,t){var n=w(t);return n&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(m,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===m&&e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,n){var i=this._writableState,r=!1,s=!i.objectMode&&function(e){return d.isBuffer(e)||e instanceof p}(e);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=g),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var r=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"!=typeof n&&void 0!==n&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(i,s),r=!1),r}(this,i,e,n))&&(i.pendingcb++,r=function(e,t,n,i,r,o){if(!n){var s=function(e,t,n){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=d.from(t,n)),t}(t,i,r);i!==s&&(n=!0,r="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,a,i,r,o);return u}(this,i,s,e,t,n)),r},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&k(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),!i.ending&&!i.finished&&function(e,t,n){t.ending=!0,C(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}}),m.prototype.destroy=v.destroy,m.prototype._undestroy=v.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":22,"./internal/streams/destroy":28,"./internal/streams/stream":29,_process:69,"core-util-is":18,inherits:34,"process-nextick-args":45,"safe-buffer":31,timers:74,"util-deprecate":65}],27:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=e("util");function o(e,t,n){e.copy(t,n)}t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)o(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":31,util:2}],28:[function(e,t,n){"use strict";var i=e("process-nextick-args");function r(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":45}],29:[function(e,t,n){t.exports=e("events").EventEmitter},{events:4}],30:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":22,"./lib/_stream_passthrough.js":23,"./lib/_stream_readable.js":24,"./lib/_stream_transform.js":25,"./lib/_stream_writable.js":26}],31:[function(e,t,n){var i=e("buffer"),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,n),n.Buffer=s),o(r,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},{buffer:3}],32:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}n.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=s(t[i]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--i<n||-2===r?0:(r=s(t[i]))>=0?(r>0&&(e.lastNeed=r-2),r):--i<n||-2===r?0:(r=s(t[i]))>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":31}],33:[function(e,t,n){(function(n){(function(){var i=e("once"),r=function(){};t.exports=function e(t,o,s){if("function"==typeof o)return e(t,null,o);o||(o={}),s=i(s||r);var a=t._writableState,u=t._readableState,l=o.readable||!1!==o.readable&&t.readable,c=o.writable||!1!==o.writable&&t.writable,h=!1,f=function(){t.writable||d()},d=function(){c=!1,l||s.call(t)},p=function(){l=!1,c||s.call(t)},v=function(e){s.call(t,e?new Error("exited with error code: "+e):null)},g=function(e){s.call(t,e)},y=function(){n.nextTick(m)},m=function(){if(!h){if(l&&(!u||!u.ended||u.destroyed))return s.call(t,new Error("premature close"));if(c&&(!a||!a.ended||a.destroyed))return s.call(t,new Error("premature close"))}},b=function(){t.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",d),t.on("abort",y),t.req?b():t.on("request",b)):c&&!a&&(t.on("end",f),t.on("close",f)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(t)&&t.on("exit",v),t.on("end",p),t.on("finish",d),!1!==o.error&&t.on("error",g),t.on("close",y),function(){h=!0,t.removeListener("complete",d),t.removeListener("abort",y),t.removeListener("request",b),t.req&&t.req.removeListener("finish",d),t.removeListener("end",f),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("exit",v),t.removeListener("end",p),t.removeListener("error",g),t.removeListener("close",y)}}}).call(this)}).call(this,e("_process"))},{_process:69,once:44}],34:[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],35:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],36:[function(e,t,n){(function(e){(function(){var n=t.exports;for(var i in n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},n.codes={},n.types)n.codes[n.types[i]]=i;for(var r in n.CMD_SHIFT=4,n.CMD_MASK=240,n.DUP_MASK=8,n.QOS_MASK=3,n.QOS_SHIFT=1,n.RETAIN_MASK=1,n.VARBYTEINT_MASK=127,n.VARBYTEINT_FIN_MASK=128,n.VARBYTEINT_MAX=268435455,n.SESSIONPRESENT_MASK=1,n.SESSIONPRESENT_HEADER=e.from([n.SESSIONPRESENT_MASK]),n.CONNACK_HEADER=e.from([n.codes.connack<<n.CMD_SHIFT]),n.USERNAME_MASK=128,n.PASSWORD_MASK=64,n.WILL_RETAIN_MASK=32,n.WILL_QOS_MASK=24,n.WILL_QOS_SHIFT=3,n.WILL_FLAG_MASK=4,n.CLEAN_SESSION_MASK=2,n.CONNECT_HEADER=e.from([n.codes.connect<<n.CMD_SHIFT]),n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},n.propertiesCodes={},n.properties)n.propertiesCodes[n.properties[r]]=r;function o(t){return[0,1,2].map(function(i){return[0,1].map(function(r){return[0,1].map(function(o){var s=e.alloc(1);return s.writeUInt8(n.codes[t]<<n.CMD_SHIFT|(r?n.DUP_MASK:0)|i<<n.QOS_SHIFT|o,0,!0),s})})})}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},n.PUBLISH_HEADER=o("publish"),n.SUBSCRIBE_HEADER=o("subscribe"),n.SUBSCRIBE_OPTIONS_QOS_MASK=3,n.SUBSCRIBE_OPTIONS_NL_MASK=1,n.SUBSCRIBE_OPTIONS_NL_SHIFT=2,n.SUBSCRIBE_OPTIONS_RAP_MASK=1,n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,n.SUBSCRIBE_OPTIONS_RH_MASK=3,n.SUBSCRIBE_OPTIONS_RH_SHIFT=4,n.SUBSCRIBE_OPTIONS_RH=[0,16,32],n.SUBSCRIBE_OPTIONS_NL=4,n.SUBSCRIBE_OPTIONS_RAP=8,n.SUBSCRIBE_OPTIONS_QOS=[0,1,2],n.UNSUBSCRIBE_HEADER=o("unsubscribe"),n.ACKS={unsuback:o("unsuback"),puback:o("puback"),pubcomp:o("pubcomp"),pubrel:o("pubrel"),pubrec:o("pubrec")},n.SUBACK_HEADER=e.from([n.codes.suback<<n.CMD_SHIFT]),n.VERSION3=e.from([3]),n.VERSION4=e.from([4]),n.VERSION5=e.from([5]),n.VERSION131=e.from([131]),n.VERSION132=e.from([132]),n.QOS=[0,1,2].map(function(t){return e.from([t])}),n.EMPTY={pingreq:e.from([n.codes.pingreq<<4,0]),pingresp:e.from([n.codes.pingresp<<4,0]),disconnect:e.from([n.codes.disconnect<<4,0])}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:3}],37:[function(e,t,n){(function(n){(function(){var i=e("./writeToStream"),r=function(e){h(i,e);var t=d(i);function i(){var e;return u(this,i),(e=t.call(this))._array=new Array(20),e._i=0,e}return c(i,[{key:"write",value:function(e){return this._array[this._i++]=e,!0}},{key:"concat",value:function(){var e,t=0,i=new Array(this._array.length),r=this._array,o=0;for(e=0;e<r.length&&void 0!==r[e];e++)i[e]="string"!=typeof r[e]?r[e].length:n.byteLength(r[e]),t+=i[e];var s=n.allocUnsafe(t);for(e=0;e<r.length&&void 0!==r[e];e++)"string"!=typeof r[e]?(r[e].copy(s,o),o+=i[e]):(s.write(r[e],o),o+=i[e]);return s}}]),i}(e("events"));t.exports=function(e,t){var n=new r;return i(e,n,t),n.concat()}}).call(this)}).call(this,e("buffer").Buffer)},{"./writeToStream":42,buffer:3,events:4}],38:[function(e,t,n){n.parser=e("./parser").parser,n.generate=e("./generate"),n.writeToStream=e("./writeToStream")},{"./generate":37,"./parser":41,"./writeToStream":42}],39:[function(e,t,n){(function(e){(function(){var n={},i=e.isBuffer(e.from([1,2]).subarray(0,1));function r(t){var n=e.allocUnsafe(2);return n.writeUInt8(t>>8,0),n.writeUInt8(255&t,1),n}t.exports={cache:n,generateCache:function(){for(var e=0;e<65536;e++)n[e]=r(e)},generateNumber:r,genBufVariableByteInt:function(t){var n=0,r=0,o=e.allocUnsafe(4);do{n=t%128|0,(t=t/128|0)>0&&(n|=128),o.writeUInt8(n,r++)}while(t>0&&r<4);return t>0&&(r=0),i?o.subarray(0,r):o.slice(0,r)},generate4ByteBuffer:function(t){var n=e.allocUnsafe(4);return n.writeUInt32BE(t,0),n}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:3}],40:[function(e,t,n){t.exports=function(){return function e(){u(this,e),this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}()},{}],41:[function(e,t,n){var i=e("bl"),r=e("events"),o=e("./packet"),s=e("./constants"),a=e("debug")("mqtt-packet:parser"),l=function(e){h(n,e);var t=d(n);function n(){var e;return u(this,n),(e=t.call(this)).parser=e.constructor.parser,e}return c(n,[{key:"_resetState",value:function(){a("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=i(),this._stateCounter=0}},{key:"parse",value:function(e){for(this.error&&this._resetState(),this._list.append(e),a("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,a("parse: state complete. _stateCounter is now: %d",this._stateCounter),a("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return a("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}},{key:"_parseHeader",value:function(){var e=this._list.readUInt8(0);return this.packet.cmd=s.types[e>>s.CMD_SHIFT],this.packet.retain=0!=(e&s.RETAIN_MASK),this.packet.qos=e>>s.QOS_SHIFT&s.QOS_MASK,this.packet.dup=0!=(e&s.DUP_MASK),a("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}},{key:"_parseLength",value:function(){var e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),a("_parseLength %d",e.value),!!e}},{key:"_parsePayload",value:function(){a("_parsePayload: payload %O",this._list);var e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return a("_parsePayload complete result: %s",e),e}},{key:"_parseConnect",value:function(){var e,t,n,i;a("_parseConnect");var r={},o=this.packet,u=this._parseString();if(null===u)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==u&&"MQIsdp"!==u)return this._emitError(new Error("Invalid protocolId"));if(o.protocolId=u,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.protocolVersion=this._list.readUInt8(this._pos),o.protocolVersion>=128&&(o.bridgeMode=!0,o.protocolVersion=o.protocolVersion-128),3!==o.protocolVersion&&4!==o.protocolVersion&&5!==o.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(r.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,r.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,r.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK,r.will&&(o.will={},o.will.retain=0!=(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),o.will.qos=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT),o.clean=0!=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK),this._pos++,o.keepalive=this._parseNum(),-1===o.keepalive)return this._emitError(new Error("Packet too short"));if(5===o.protocolVersion){var l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(o.properties=l)}var c=this._parseString();if(null===c)return this._emitError(new Error("Packet too short"));if(o.clientId=c,a("_parseConnect: packet.clientId: %s",o.clientId),r.will){if(5===o.protocolVersion){var h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(o.will.properties=h)}if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(o.will.topic=e,a("_parseConnect: packet.will.topic: %s",o.will.topic),null===(t=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));o.will.payload=t,a("_parseConnect: packet.will.paylaod: %s",o.will.payload)}if(r.username){if(null===(i=this._parseString()))return this._emitError(new Error("Cannot parse username"));o.username=i,a("_parseConnect: packet.username: %s",o.username)}if(r.password){if(null===(n=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));o.password=n}return this.settings=o,a("_parseConnect: complete"),o}},{key:"_parseConnack",value:function(){a("_parseConnack");var e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&s.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)e.reasonCode=this._list.length>=2?this._list.readUInt8(this._pos++):0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}a("_parseConnack: complete")}},{key:"_parsePublish",value:function(){a("_parsePublish");var e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),a("_parsePublish: payload from buffer list: %o",e.payload)}}},{key:"_parseSubscribe",value:function(){a("_parseSubscribe");var e,t,n,i,r,o,u,l=this.packet;if(1!==l.qos)return this._emitError(new Error("Wrong subscribe header"));if(l.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(l.properties=c)}for(;this._pos<l.length;){if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=l.length)return this._emitError(new Error("Malformed Subscribe Payload"));n=(t=this._parseByte())&s.SUBSCRIBE_OPTIONS_QOS_MASK,o=0!=(t>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK),r=0!=(t>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK),i=t>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,u={topic:e,qos:n},5===this.settings.protocolVersion?(u.nl=o,u.rap=r,u.rh=i):this.settings.bridgeMode&&(u.rh=0,u.rap=!0,u.nl=!0),a("_parseSubscribe: push subscription `%s` to subscription",u),l.subscriptions.push(u)}}}},{key:"_parseSuback",value:function(){a("_parseSuback");var e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}},{key:"_parseUnsubscribe",value:function(){a("_parseUnsubscribe");var e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){var n=this._parseString();if(null===n)return this._emitError(new Error("Cannot parse topic"));a("_parseUnsubscribe: push topic `%s` to unsubscriptions",n),e.unsubscriptions.push(n)}}}},{key:"_parseUnsuback",value:function(){a("_parseUnsuback");var e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){var t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}},{key:"_parseConfirmation",value:function(){a("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);var e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(e.length>2?(e.reasonCode=this._parseByte(),a("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)):e.reasonCode=0,e.length>3)){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return!0}},{key:"_parseDisconnect",value:function(){var e=this.packet;if(a("_parseDisconnect"),5===this.settings.protocolVersion){e.reasonCode=this._list.length>0?this._parseByte():0;var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return a("_parseDisconnect result: true"),!0}},{key:"_parseAuth",value:function(){a("_parseAuth");var e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();var t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),a("_parseAuth: result: true"),!0}},{key:"_parseMessageId",value:function(){var e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(a("_parseMessageId: packet.messageId %d",e.messageId),!0)}},{key:"_parseString",value:function(e){var t=this._parseNum(),n=t+this._pos;if(-1===t||n>this._list.length||n>this.packet.length)return null;var i=this._list.toString("utf8",this._pos,n);return this._pos+=t,a("_parseString: result: %s",i),i}},{key:"_parseStringPair",value:function(){return a("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}},{key:"_parseBuffer",value:function(){var e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;var n=this._list.slice(this._pos,t);return this._pos+=e,a("_parseBuffer: result: %o",n),n}},{key:"_parseNum",value:function(){if(this._list.length-this._pos<2)return-1;var e=this._list.readUInt16BE(this._pos);return this._pos+=2,a("_parseNum: result: %s",e),e}},{key:"_parse4ByteNum",value:function(){if(this._list.length-this._pos<4)return-1;var e=this._list.readUInt32BE(this._pos);return this._pos+=4,a("_parse4ByteNum: result: %s",e),e}},{key:"_parseVarByteNum",value:function(e){a("_parseVarByteNum");for(var t,n=0,i=1,r=0,o=!1,u=this._pos?this._pos:0;n<4&&u+n<this._list.length;){if(r+=i*((t=this._list.readUInt8(u+n++))&s.VARBYTEINT_MASK),i*=128,0==(t&s.VARBYTEINT_FIN_MASK)){o=!0;break}if(this._list.length<=n)break}return!o&&4===n&&this._list.length>=n&&this._emitError(new Error("Invalid variable byte integer")),u&&(this._pos+=n),a("_parseVarByteNum: result: %o",o=!!o&&(e?{bytes:n,value:r}:r)),o}},{key:"_parseByte",value:function(){var e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),a("_parseByte: result: %o",e),e}},{key:"_parseByType",value:function(e){switch(a("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}},{key:"_parseProperties",value:function(){a("_parseProperties");for(var e=this._parseVarByteNum(),t=this._pos+e,n={};this._pos<t;){var i=this._parseByte();if(!i)return this._emitError(new Error("Cannot parse property code type")),!1;var r=s.propertiesCodes[i];if(!r)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==r)n[r]?(Array.isArray(n[r])||(n[r]=[n[r]]),n[r].push(this._parseByType(s.propertiesTypes[r]))):n[r]=this._parseByType(s.propertiesTypes[r]);else{n[r]||(n[r]=Object.create(null));var o=this._parseByType(s.propertiesTypes[r]);n[r][o.name]?(Array.isArray(n[r][o.name])||(n[r][o.name]=[n[r][o.name]]),n[r][o.name].push(o.value)):n[r][o.name]=o.value}}return n}},{key:"_newPacket",value:function(){return a("_newPacket"),this.packet&&(this._list.consume(this.packet.length),a("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),a("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}},{key:"_emitError",value:function(e){a("_emitError"),this.error=e,this.emit("error",e)}}],[{key:"parser",value:function(e){return this instanceof n?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new n).parser(e)}}]),n}(r);t.exports=l},{"./constants":36,"./packet":40,bl:17,debug:19,events:4}],42:[function(e,t,n){(function(n){(function(){var i=e("./constants"),r=n.allocUnsafe(0),o=n.from([0]),s=e("./numbers"),u=e("process-nextick-args").nextTick,l=e("debug")("mqtt-packet:writeToStream"),c=s.cache,h=s.generateNumber,f=s.generateCache,d=s.genBufVariableByteInt,p=s.generate4ByteBuffer,v=S,g=!0;function y(e,t,s){switch(l("generate called"),t.cork&&(t.cork(),u(m,t)),g&&(g=!1,f()),l("generate: packet.cmd: %s",e.cmd),e.cmd){case"connect":return function(e,t,r){var o=e||{},s=o.protocolId||"MQTT",a=o.protocolVersion||4,u=o.will,l=o.clean,c=o.keepalive||0,h=o.clientId||"",f=o.username,d=o.password,p=o.properties;void 0===l&&(l=!0);var g=0;if(!s||"string"!=typeof s&&!n.isBuffer(s))return t.emit("error",new Error("Invalid protocolId")),!1;if(g+=s.length+2,3!==a&&4!==a&&5!==a)return t.emit("error",new Error("Invalid protocol version")),!1;if(g+=1,("string"==typeof h||n.isBuffer(h))&&(h||a>=4)&&(h||l))g+=n.byteLength(h)+2;else{if(a<4)return t.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*l==0)return t.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof c||c<0||c>65535||c%1!=0)return t.emit("error",new Error("Invalid keepalive")),!1;if(g+=2,g+=1,5===a){var y=T(t,p);if(!y)return!1;g+=y.length}if(u){if("object"!=typeof u)return t.emit("error",new Error("Invalid will")),!1;if(!u.topic||"string"!=typeof u.topic)return t.emit("error",new Error("Invalid will topic")),!1;if(g+=n.byteLength(u.topic)+2,g+=2,u.payload){if(!(u.payload.length>=0))return t.emit("error",new Error("Invalid will payload")),!1;g+="string"==typeof u.payload?n.byteLength(u.payload):u.payload.length}var m={};if(5===a){if(!(m=T(t,u.properties)))return!1;g+=m.length}}var b=!1;if(null!=f){if(!D(f))return t.emit("error",new Error("Invalid username")),!1;b=!0,g+=n.byteLength(f)+2}if(null!=d){if(!b)return t.emit("error",new Error("Username is required to use password")),!1;if(!D(d))return t.emit("error",new Error("Invalid password")),!1;g+=A(d)+2}t.write(i.CONNECT_HEADER),_(t,g),E(t,s),o.bridgeMode&&(a+=128),t.write(131===a?i.VERSION131:132===a?i.VERSION132:4===a?i.VERSION4:5===a?i.VERSION5:i.VERSION3);var w=0;return w|=null!=f?i.USERNAME_MASK:0,w|=null!=d?i.PASSWORD_MASK:0,w|=u&&u.retain?i.WILL_RETAIN_MASK:0,w|=u&&u.qos?u.qos<<i.WILL_QOS_SHIFT:0,w|=u?i.WILL_FLAG_MASK:0,w|=l?i.CLEAN_SESSION_MASK:0,t.write(n.from([w])),v(t,c),5===a&&y.write(),E(t,h),u&&(5===a&&m.write(),k(t,u.topic),E(t,u.payload)),null!=f&&E(t,f),null!=d&&E(t,d),!0}(e,t);case"connack":return function(e,t,r){var s=r?r.protocolVersion:4,a=e||{},u=5===s?a.reasonCode:a.returnCode,l=a.properties,c=2;if("number"!=typeof u)return t.emit("error",new Error("Invalid return code")),!1;var h=null;if(5===s){if(!(h=T(t,l)))return!1;c+=h.length}return t.write(i.CONNACK_HEADER),_(t,c),t.write(a.sessionPresent?i.SESSIONPRESENT_HEADER:o),t.write(n.from([u])),null!=h&&h.write(),!0}(e,t,s);case"publish":return function(e,t,o){l("publish: packet: %o",e);var s=o?o.protocolVersion:4,a=e||{},u=a.qos||0,c=a.retain?i.RETAIN_MASK:0,h=a.topic,f=a.payload||r,d=a.messageId,p=a.properties,g=0;if("string"==typeof h)g+=n.byteLength(h)+2;else{if(!n.isBuffer(h))return t.emit("error",new Error("Invalid topic")),!1;g+=h.length+2}if(n.isBuffer(f)?g+=f.length:g+=n.byteLength(f),u&&"number"!=typeof d)return t.emit("error",new Error("Invalid messageId")),!1;u&&(g+=2);var y=null;if(5===s){if(!(y=T(t,p)))return!1;g+=y.length}return t.write(i.PUBLISH_HEADER[u][a.dup?1:0][c?1:0]),_(t,g),v(t,A(h)),t.write(h),u>0&&v(t,d),null!=y&&y.write(),l("publish: payload: %o",f),t.write(f)}(e,t,s);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(e,t,r){var o=r?r.protocolVersion:4,s=e||{},a=s.cmd||"puback",u=s.messageId,l=s.dup&&"pubrel"===a?i.DUP_MASK:0,c=0,h=s.reasonCode,f=s.properties,d=5===o?3:2;if("pubrel"===a&&(c=1),"number"!=typeof u)return t.emit("error",new Error("Invalid messageId")),!1;var p=null;if(5===o&&"object"==typeof f){if(!(p=x(t,f,r,d)))return!1;d+=p.length}return t.write(i.ACKS[a][c][l][0]),_(t,d),v(t,u),5===o&&t.write(n.from([h])),null!==p&&p.write(),!0}(e,t,s);case"subscribe":return function(e,t,r){l("subscribe: packet: ");var o=r?r.protocolVersion:4,s=e||{},u=s.dup?i.DUP_MASK:0,c=s.messageId,h=s.subscriptions,f=s.properties,d=0;if("number"!=typeof c)return t.emit("error",new Error("Invalid messageId")),!1;d+=2;var p=null;if(5===o){if(!(p=T(t,f)))return!1;d+=p.length}if("object"!=typeof h||!h.length)return t.emit("error",new Error("Invalid subscriptions")),!1;for(var g=0;g<h.length;g+=1){var y=h[g].topic,m=h[g].qos;if("string"!=typeof y)return t.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof m)return t.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===o){if("boolean"!=typeof(h[g].nl||!1))return t.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(h[g].rap||!1))return t.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;var b=h[g].rh||0;if("number"!=typeof b||b>2)return t.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}d+=n.byteLength(y)+2+1}l("subscribe: writing to stream: %o",i.SUBSCRIBE_HEADER),t.write(i.SUBSCRIBE_HEADER[1][u?1:0][0]),_(t,d),v(t,c),null!==p&&p.write();var w,S=!0,C=a(h);try{for(C.s();!(w=C.n()).done;){var E=w.value,x=E.qos,O=+E.nl,I=+E.rap,A=E.rh,D=void 0;k(t,E.topic),D=i.SUBSCRIBE_OPTIONS_QOS[x],5===o&&(D|=O?i.SUBSCRIBE_OPTIONS_NL:0,D|=I?i.SUBSCRIBE_OPTIONS_RAP:0,D|=A?i.SUBSCRIBE_OPTIONS_RH[A]:0),S=t.write(n.from([D]))}}catch(R){C.e(R)}finally{C.f()}return S}(e,t,s);case"suback":return function(e,t,r){var o=r?r.protocolVersion:4,s=e||{},a=s.messageId,u=s.granted,l=s.properties,c=0;if("number"!=typeof a)return t.emit("error",new Error("Invalid messageId")),!1;if(c+=2,"object"!=typeof u||!u.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var h=0;h<u.length;h+=1){if("number"!=typeof u[h])return t.emit("error",new Error("Invalid qos vector")),!1;c+=1}var f=null;if(5===o){if(!(f=x(t,l,r,c)))return!1;c+=f.length}return t.write(i.SUBACK_HEADER),_(t,c),v(t,a),null!==f&&f.write(),t.write(n.from(u))}(e,t,s);case"unsubscribe":return function(e,t,r){var o=r?r.protocolVersion:4,s=e||{},a=s.messageId,u=s.dup?i.DUP_MASK:0,l=s.unsubscriptions,c=s.properties,h=0;if("number"!=typeof a)return t.emit("error",new Error("Invalid messageId")),!1;if(h+=2,"object"!=typeof l||!l.length)return t.emit("error",new Error("Invalid unsubscriptions")),!1;for(var f=0;f<l.length;f+=1){if("string"!=typeof l[f])return t.emit("error",new Error("Invalid unsubscriptions")),!1;h+=n.byteLength(l[f])+2}var d=null;if(5===o){if(!(d=T(t,c)))return!1;h+=d.length}t.write(i.UNSUBSCRIBE_HEADER[1][u?1:0][0]),_(t,h),v(t,a),null!==d&&d.write();for(var p=!0,g=0;g<l.length;g++)p=k(t,l[g]);return p}(e,t,s);case"unsuback":return function(e,t,r){var o=r?r.protocolVersion:4,s=e||{},a=s.messageId,u=s.dup?i.DUP_MASK:0,l=s.granted,c=s.properties,h=s.cmd,f=2;if("number"!=typeof a)return t.emit("error",new Error("Invalid messageId")),!1;if(5===o){if("object"!=typeof l||!l.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var d=0;d<l.length;d+=1){if("number"!=typeof l[d])return t.emit("error",new Error("Invalid qos vector")),!1;f+=1}}var p=null;if(5===o){if(!(p=x(t,c,r,f)))return!1;f+=p.length}return t.write(i.ACKS[h][0][u][0]),_(t,f),v(t,a),null!==p&&p.write(),5===o&&t.write(n.from(l)),!0}(e,t,s);case"pingreq":case"pingresp":return function(e,t,n){return t.write(i.EMPTY[e.cmd])}(e,t);case"disconnect":return function(e,t,r){var o=r?r.protocolVersion:4,s=e||{},a=s.reasonCode,u=5===o?1:0,l=null;if(5===o){if(!(l=x(t,s.properties,r,u)))return!1;u+=l.length}return t.write(n.from([i.codes.disconnect<<4])),_(t,u),5===o&&t.write(n.from([a])),null!==l&&l.write(),!0}(e,t,s);case"auth":return function(e,t,r){var o=r?r.protocolVersion:4,s=e||{},a=s.reasonCode,u=s.properties,l=5===o?1:0;5!==o&&t.emit("error",new Error("Invalid mqtt version for auth packet"));var c=x(t,u,r,l);return!!c&&(l+=c.length,t.write(n.from([i.codes.auth<<4])),_(t,l),t.write(n.from([a])),null!==c&&c.write(),!0)}(e,t,s);default:return t.emit("error",new Error("Unknown command")),!1}}function m(e){e.uncork()}Object.defineProperty(y,"cacheNumbers",{get:function(){return v===S},set:function(e){e?((!c||0===Object.keys(c).length)&&(g=!0),v=S):(g=!1,v=C)}});var b={};function _(e,t){if(t>i.VARBYTEINT_MAX)return e.emit("error",new Error("Invalid variable byte integer: ".concat(t))),!1;var n=b[t];return n||(n=d(t),t<16384&&(b[t]=n)),l("writeVarByteInt: writing to stream: %o",n),e.write(n)}function k(e,t){var i=n.byteLength(t);return v(e,i),l("writeString: %s",t),e.write(t,"utf8")}function w(e,t,n){k(e,t),k(e,n)}function S(e,t){return l("writeNumberCached: number: %d",t),l("writeNumberCached: %o",c[t]),e.write(c[t])}function C(e,t){var n=h(t);return l("writeNumberGenerated: %o",n),e.write(n)}function E(e,t){"string"==typeof t?k(e,t):t?(v(e,t.length),e.write(t)):v(e,0)}function T(e,t){if("object"!=typeof t||null!=t.length)return{length:1,write:function(){I(e,{},0)}};var r=0;function o(t,r){var o=0;switch(i.propertiesTypes[t]){case"byte":if("boolean"!=typeof r)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=2;break;case"int8":if("number"!=typeof r||r<0||r>255)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=2;break;case"binary":if(r&&null===r)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=1+n.byteLength(r)+2;break;case"int16":if("number"!=typeof r||r<0||r>65535)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=3;break;case"int32":if("number"!=typeof r||r<0||r>4294967295)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=5;break;case"var":if("number"!=typeof r||r<0||r>268435455)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=1+n.byteLength(d(r));break;case"string":if("string"!=typeof r)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=3+n.byteLength(r.toString());break;case"pair":if("object"!=typeof r)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=Object.getOwnPropertyNames(r).reduce(function(e,t){var i=r[t];return Array.isArray(i)?e+=i.reduce(function(e,i){return e+(3+n.byteLength(t.toString())+2+n.byteLength(i.toString()))},0):e+=3+n.byteLength(t.toString())+2+n.byteLength(r[t].toString()),e},0);break;default:return e.emit("error",new Error("Invalid property ".concat(t,": ").concat(r))),!1}return o}if(t)for(var s in t){var a=0,u=0,l=t[s];if(Array.isArray(l))for(var c=0;c<l.length;c++){if(!(u=o(s,l[c])))return!1;a+=u}else{if(!(u=o(s,l)))return!1;a=u}if(!a)return!1;r+=a}return{length:n.byteLength(d(r))+r,write:function(){I(e,t,r)}}}function x(e,t,n,i){var r=["reasonString","userProperties"],o=n&&n.properties&&n.properties.maximumPacketSize?n.properties.maximumPacketSize:0,s=T(e,t);if(o)for(;i+s.length>o;){var a=r.shift();if(!a||!t[a])return!1;delete t[a],s=T(e,t)}return s}function O(e,t,r){switch(i.propertiesTypes[t]){case"byte":e.write(n.from([i.properties[t]])),e.write(n.from([+r]));break;case"int8":e.write(n.from([i.properties[t]])),e.write(n.from([r]));break;case"binary":e.write(n.from([i.properties[t]])),E(e,r);break;case"int16":e.write(n.from([i.properties[t]])),v(e,r);break;case"int32":e.write(n.from([i.properties[t]])),function(e,t){var n=p(t);l("write4ByteNumber: %o",n),e.write(n)}(e,r);break;case"var":e.write(n.from([i.properties[t]])),_(e,r);break;case"string":e.write(n.from([i.properties[t]])),k(e,r);break;case"pair":Object.getOwnPropertyNames(r).forEach(function(o){var s=r[o];Array.isArray(s)?s.forEach(function(r){e.write(n.from([i.properties[t]])),w(e,o.toString(),r.toString())}):(e.write(n.from([i.properties[t]])),w(e,o.toString(),s.toString()))});break;default:return e.emit("error",new Error("Invalid property ".concat(t," value: ").concat(r))),!1}}function I(e,t,n){for(var i in _(e,n),t)if(Object.prototype.hasOwnProperty.call(t,i)&&null!==t[i]){var r=t[i];if(Array.isArray(r))for(var o=0;o<r.length;o++)O(e,i,r[o]);else O(e,i,r)}}function A(e){return e?e instanceof n?e.length:n.byteLength(e):0}function D(e){return"string"==typeof e||e instanceof n}t.exports=y}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":36,"./numbers":39,buffer:3,debug:19,"process-nextick-args":45}],43:[function(e,t,n){var i=1e3,r=60*i,o=60*r,s=24*o;function a(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*r;case"seconds":case"second":case"secs":case"sec":case"s":return n*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=s?a(e,t,s,"day"):t>=o?a(e,t,o,"hour"):t>=r?a(e,t,r,"minute"):t>=i?a(e,t,i,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=s?Math.round(e/s)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=i?Math.round(e/i)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],44:[function(e,t,n){var i=e("wrappy");function r(e){var t=function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function t(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)};return t.onceError=(e.name||"Function wrapped with `once`")+" shouldn't be called more than once",t.called=!1,t}t.exports=i(r),t.exports.strict=i(o),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},{wrappy:66}],45:[function(e,t,n){(function(e){(function(){"use strict";t.exports=void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?{nextTick:function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:e}).call(this)}).call(this,e("_process"))},{_process:69}],46:[function(e,t,n){"use strict";var i={};function r(e,t,n){n||(n=Error);var r=function(e){function n(n,i,r){return e.call(this,function(e,n,i){return"string"==typeof t?t:t(e,n,i)}(n,i,r))||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(n,e),n}(n);r.prototype.name=n.name,r.prototype.code=e,i[e]=r}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,n){var i,r;if("string"==typeof t&&function(e,t,n){return e.substr(0,t.length)===t}(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))r="The ".concat(e," ").concat(i," ").concat(o(t,"type"));else{var s=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+".".length>e.length)&&-1!==e.indexOf(".",n)}(e)?"property":"argument";r='The "'.concat(e,'" ').concat(s," ").concat(i," ").concat(o(t,"type"))}return r+". Received type ".concat(typeof n)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],47:[function(e,t,n){(function(n){(function(){"use strict";var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=l;var r=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(l,r);for(var s=i(o.prototype),a=0;a<s.length;a++){var u=s[a];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);r.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":49,"./_stream_writable":51,_process:69,inherits:34}],48:[function(e,t,n){"use strict";t.exports=r;var i=e("./_stream_transform");function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e("inherits")(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":50,inherits:34}],49:[function(e,t,n){(function(n,i){(function(){"use strict";var r;t.exports=E,E.ReadableState=C,e("events");var o,s=function(e,t){return e.listeners(t).length},a=e("./internal/streams/stream"),u=e("buffer").Buffer,l=i.Uint8Array||function(){},c=e("util");o=c&&c.debuglog?c.debuglog("stream"):function(){};var h,f,d,p=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),g=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,m=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,k=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(E,a);var w=v.errorOrDestroy,S=["error","close","destroy","pause","resume"];function C(t,n,i){r=r||e("./_stream_duplex"),"boolean"!=typeof i&&(i=n instanceof r),this.objectMode=!!(t=t||{}).objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=e("string_decoder/").StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function E(t){if(r=r||e("./_stream_duplex"),!(this instanceof E))return new E(t);this._readableState=new C(t,this,this instanceof r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function T(e,t,n,i,r){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,D(e)))}}(e,a);else if(r||(s=function(e,t){var n;return!function(e){return u.isBuffer(e)||e instanceof l}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(n=new m("chunk",["string","Buffer","Uint8Array"],t)),n}(a,t)),s)w(e,s);else if(a.objectMode||t&&t.length>0)if("string"!=typeof t&&!a.objectMode&&Object.getPrototypeOf(t)!==u.prototype&&(t=function(e){return u.from(e)}(t)),i)a.endEmitted?w(e,new k):x(e,a,t,!0);else if(a.ended)w(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?x(e,a,t,!1):R(e,a)):x(e,a,t,!1)}else i||(a.reading=!1,R(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function x(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&A(e)),R(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}}),E.prototype.destroy=v.destroy,E.prototype._undestroy=v.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=u.from(e,t),t=""),n=!0),T(this,e,t,!1,n)},E.prototype.unshift=function(e){return T(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){h||(h=e("string_decoder/").StringDecoder);var n=new h(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";null!==i;)r+=n.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var O=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(D,e))}function D(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function R(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(M,e,t))}function M(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(o("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){o("readable nexttick read 0"),e.read(0)}function N(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function V(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(B,t,e))}function B(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function U(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}E.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):A(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&j(this),null;var i,r=t.needReadable;return o("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",r=!0),t.ended||t.reading?o("reading or ended",r=!1):r&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(i=e>0?V(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==i&&this.emit("data",i),i},E.prototype._read=function(e){w(this,new _("_read()"))},E.prototype.pipe=function(e,t){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,o("pipe count=%d opts=%j",r.pipesCount,t);var a=t&&!1===t.end||e===n.stdout||e===n.stderr?v:u;function u(){o("onend"),e.end()}r.endEmitted?n.nextTick(a):i.once("end",a),e.on("unpipe",function t(n,s){o("onunpipe"),n===i&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",t),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",h),c=!0,r.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l())});var l=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,F(e))}}(i);e.on("drain",l);var c=!1;function h(t){o("ondata");var n=e.write(t);o("dest.write",n),!1===n&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==U(r.pipes,e))&&!c&&(o("false write response, pause",r.awaitDrain),r.awaitDrain++),i.pause())}function f(t){o("onerror",t),v(),e.removeListener("error",f),0===s(e,"error")&&w(e,t)}function d(){e.removeListener("finish",p),v()}function p(){o("onfinish"),e.removeListener("close",d),v()}function v(){o("unpipe"),i.unpipe(e)}return i.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",i),r.flowing||(o("pipe resume"),i.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},E.prototype.addListener=E.prototype.on=function(e,t){var i=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,o("on readable",r.length,r.reading),r.length?A(this):r.reading||n.nextTick(L,this)),i},E.prototype.removeListener=function(e,t){var i=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(P,this),i},E.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.nextTick(P,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(N,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",function(){if(o("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){o("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||!(n.objectMode||r&&r.length)||t.push(r)||(i=!0,e.pause())}),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){o("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=e("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=V,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,n){return void 0===d&&(d=e("./internal/streams/from")),d(E,t,n)})}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":46,"./_stream_duplex":47,"./internal/streams/async_iterator":52,"./internal/streams/buffer_list":53,"./internal/streams/destroy":54,"./internal/streams/from":56,"./internal/streams/state":58,"./internal/streams/stream":59,_process:69,buffer:3,events:4,inherits:34,"string_decoder/":64,util:2}],50:[function(e,t,n){"use strict";t.exports=c;var i=e("../errors").codes,r=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function l(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,n){f(e,t,n)})}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e("inherits")(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new r("_transform()"))},c.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":46,"./_stream_duplex":47,inherits:34}],51:[function(e,t,n){(function(n,i){(function(){"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(undefined),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var o;t.exports=E,E.WritableState=C;var s,a={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),l=e("buffer").Buffer,c=i.Uint8Array||function(){},h=e("./internal/streams/destroy"),f=e("./internal/streams/state").getHighWaterMark,d=e("../errors").codes,p=d.ERR_INVALID_ARG_TYPE,v=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,y=d.ERR_STREAM_CANNOT_PIPE,m=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,_=d.ERR_STREAM_WRITE_AFTER_END,k=d.ERR_UNKNOWN_ENCODING,w=h.errorOrDestroy;function S(){}function C(t,i,s){o=o||e("./_stream_duplex"),"boolean"!=typeof s&&(s=i instanceof o),this.objectMode=!!(t=t||{}).objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,r=i.sync,o=i.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,r,o){--t.pendingcb,i?(n.nextTick(o,r),n.nextTick(D,e,t),e._writableState.errorEmitted=!0,w(e,r)):(o(r),e._writableState.errorEmitted=!0,w(e,r),D(e,t))}(e,i,r,t,o);else{var s=I(i)||e.destroyed;!s&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&O(e,i),r?n.nextTick(x,e,i,s,o):x(e,i,s,o)}}(i,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function E(t){var n=this instanceof(o=o||e("./_stream_duplex"));if(!n&&!s.call(E,this))return new E(t);this._writableState=new C(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function T(e,t,n,i,r,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function x(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),D(e,t)}function O(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=new Array(t.bufferedRequestCount),o=t.corkedRequestsFree;o.entry=n;for(var s=0,a=!0;n;)i[s]=n,n.isBuf||(a=!1),n=n.next,s+=1;i.allBuffers=a,T(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(T(e,t,!1,t.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final(function(n){t.pendingcb--,n&&w(e,n),t.prefinished=!0,e.emit("prefinish"),D(e,t)})}function D(e,t){var i=I(t);if(i&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return i}e("inherits")(E,u),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===E&&e&&e._writableState instanceof C}})):s=function(e){return e instanceof this},E.prototype.pipe=function(){w(this,new y)},E.prototype.write=function(e,t,i){var r=this._writableState,o=!1,s=!r.objectMode&&function(e){return l.isBuffer(e)||e instanceof c}(e);return s&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=S),r.ending?function(e,t){var i=new _;w(e,i),n.nextTick(t,i)}(this,i):(s||function(e,t,i,r){var o;return null===i?o=new b:"string"!=typeof i&&!t.objectMode&&(o=new p("chunk",["string","Buffer"],i)),!o||(w(e,o),n.nextTick(r,o),!1)}(this,r,e,i))&&(r.pendingcb++,o=function(e,t,n,i,r,o){if(!n){var s=function(e,t,n){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=l.from(t,n)),t}(t,i,r);i!==s&&(n=!0,r="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,a,i,r,o);return u}(this,r,s,e,t,i)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&O(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,n){n(new v("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,i){var r=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,i){t.ending=!0,D(e,t),i&&(t.finished?n.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}(this,r,i),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}}),E.prototype.destroy=h.destroy,E.prototype._undestroy=h.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":46,"./_stream_duplex":47,"./internal/streams/destroy":54,"./internal/streams/state":58,"./internal/streams/stream":59,_process:69,buffer:3,inherits:34,"util-deprecate":65}],52:[function(e,t,n){(function(n){(function(){"use strict";var i;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=e("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var n=e[f].read();null!==n&&(e[c]=null,e[s]=null,e[a]=null,t(d(n,!1)))}}function v(e){n.nextTick(p,e)}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((r(i={get stream(){return this[f]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(t,i){n.nextTick(function(){e[u]?i(e[u]):t(d(void 0,!0))})});var i,r=this[c];if(r)i=new Promise(function(e,t){return function(n,i){e.then(function(){t[l]?n(d(void 0,!0)):t[h](n,i)},i)}}(r,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(d(o,!1));i=new Promise(this[h])}return this[c]=i,i}},Symbol.asyncIterator,function(){return this}),r(i,"return",function(){var e=this;return new Promise(function(t,n){e[f].destroy(null,function(e){e?n(e):t(d(void 0,!0))})})}),i),g);t.exports=function(e){var t,n=Object.create(y,(r(t={},f,{value:e,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,u,{value:null,writable:!0}),r(t,l,{value:e._readableState.endEmitted,writable:!0}),r(t,h,{value:function(e,t){var i=n[f].read();i?(n[c]=null,n[s]=null,n[a]=null,e(d(i,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[c]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[c]=null,n[s]=null,n[a]=null,t(e)),void(n[u]=e)}var i=n[s];null!==i&&(n[c]=null,n[s]=null,n[a]=null,i(d(void 0,!0))),n[l]=!0}),e.on("readable",v.bind(null,n)),n}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":55,_process:69}],53:[function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=e("buffer").Buffer,a=e("util").inspect,u=a&&a.custom||"inspect";function l(e,t,n){s.prototype.copy.call(e,t,n)}t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,n){t&&o(e.prototype,t)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t=s.allocUnsafe(e>>>0),n=this.head,i=0;n;)l(n.data,t,i),i+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var r=t.data,o=e>r.length?r.length:e;if(i+=o===r.length?r:r.slice(0,e),0==(e-=o)){o===r.length?(++n,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=r.slice(o));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,o=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,o),0==(e-=o)){o===r.length?(++i,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=r.slice(o));break}++i}return this.length-=i,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()},{buffer:3,util:2}],54:[function(e,t,n){(function(e){(function(){"use strict";function n(e,t){r(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var s=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(r,this,t)):e.nextTick(r,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(i,s):(s._writableState.errorEmitted=!0,e.nextTick(n,s,t)):e.nextTick(n,s,t):o?(e.nextTick(i,s),o(t)):e.nextTick(i,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))},{_process:69}],55:[function(e,t,n){"use strict";var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}t.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i)}}}(o||r);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||c()},l=t._writableState&&t._writableState.finished,c=function(){a=!1,l=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!h?((!t._readableState||!t._readableState.ended)&&(e=new i),o.call(t,e)):a&&!l?((!t._writableState||!t._writableState.ended)&&(e=new i),o.call(t,e)):void 0},v=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",p),t.req?v():t.on("request",v)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",f),t.on("finish",c),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}},{"../../../errors":46}],56:[function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],57:[function(e,t,n){"use strict";var i,r=e("../../../errors").codes,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(t,n,r,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on("close",function(){a=!0}),void 0===i&&(i=e("./end-of-stream")),i(t,{readable:n,writable:r},function(e){if(e)return o(e);a=!0,o()});var u=!1;return function(e){if(!a&&!u){if(u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t))return t.abort();if("function"==typeof t.destroy)return t.destroy();o(e||new s("pipe"))}}}function l(e){e()}function c(e,t){return e.pipe(t)}function h(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var r,s=t.map(function(e,n){var o=n<t.length-1;return u(e,o,n>0,function(e){r||(r=e),e&&s.forEach(l),!o&&(s.forEach(l),i(r))})});return t.reduce(c)}},{"../../../errors":46,"./end-of-stream":55}],58:[function(e,t,n){"use strict";var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,r){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new i(r?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},{"../../../errors":46}],59:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{dup:29,events:4}],60:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":47,"./lib/_stream_passthrough.js":48,"./lib/_stream_readable.js":49,"./lib/_stream_transform.js":50,"./lib/_stream_writable.js":51,"./lib/internal/streams/end-of-stream.js":55,"./lib/internal/streams/pipeline.js":57}],61:[function(e,t,n){"use strict";function i(e,t,n){var i=this;this._callback=e,this._args=n,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=i._interval),i._interval&&clearInterval(i._interval),i._interval=setInterval(i._callback,e,i._args)},this.clear=function(){i._interval&&(clearInterval(i._interval),i._interval=void 0)},this.destroy=function(){i._interval&&clearInterval(i._interval),i._callback=void 0,i._interval=void 0,i._args=void 0}}t.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new i(arguments[0],arguments[1],e)}},{}],62:[function(e,t,n){var i=e("buffer"),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,n),n.Buffer=s),s.prototype=Object.create(r.prototype),o(r,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},{buffer:3}],63:[function(e,t,n){t.exports=function(e){var t=e._readableState;return t?t.objectMode||"number"==typeof e._duplexState?e.read():e.read(function(e){return e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length}(t)):null}},{}],64:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32,"safe-buffer":62}],65:[function(e,t,n){(function(e){(function(){function n(t){try{if(!e.localStorage)return!1}catch(i){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],66:[function(e,t,n){t.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){i[e]=t[e]}),i;function i(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var i=t.apply(this,e),r=e[e.length-1];return"function"==typeof i&&i!==r&&Object.keys(r).forEach(function(e){i[e]=r[e]}),i}}},{}],67:[function(e,t,n){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],68:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e};var i=Object.prototype.hasOwnProperty},{}],69:[function(e,t,n){var i,r,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(n){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],h=!1,f=-1;function d(){!h||!l||(h=!1,l.length?c=l.concat(c):f=-1,c.length&&p())}function p(){if(!h){var e=u(d);h=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new v(e,t)),1===c.length&&!h&&u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],70:[function(e,t,n){(function(e){(function(){!function(i){var r="object"==typeof n&&n&&!n.nodeType&&n,o="object"==typeof t&&t&&!t.nodeType&&t,s="object"==typeof e&&e;(s.global===s||s.window===s||s.self===s)&&(i=s);var a,u,l=2147483647,c=36,h=/^xn--/,f=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,g=String.fromCharCode;function y(e){throw new RangeError(p[e])}function m(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function b(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+m((e=e.replace(d,".")).split("."),t).join(".")}function _(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function k(e){return m(e,function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+g(e)}).join("")}function w(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function C(e,t,n){var i=0;for(e=n?v(e/700):e>>1,e+=v(e/t);e>455;i+=c)e=v(e/35);return v(i+36*e/(e+38))}function E(e){var t,n,i,r,o,s,a,u,h,f,d=[],p=e.length,g=0,m=128,b=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&y("not-basic"),d.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<p;){for(o=g,s=1,a=c;r>=p&&y("invalid-input"),((u=w(e.charCodeAt(r++)))>=c||u>v((l-g)/s))&&y("overflow"),g+=u*s,!(u<(h=a<=b?1:a>=b+26?26:a-b));a+=c)s>v(l/(f=c-h))&&y("overflow"),s*=f;b=C(g-o,t=d.length+1,0==o),v(g/t)>l-m&&y("overflow"),m+=v(g/t),g%=t,d.splice(g++,0,m)}return k(d)}function T(e){var t,n,i,r,o,s,a,u,h,f,d,p,m,b,k,w=[];for(p=(e=_(e)).length,t=128,n=0,o=72,s=0;s<p;++s)(d=e[s])<128&&w.push(g(d));for(i=r=w.length,r&&w.push("-");i<p;){for(a=l,s=0;s<p;++s)(d=e[s])>=t&&d<a&&(a=d);for(a-t>v((l-n)/(m=i+1))&&y("overflow"),n+=(a-t)*m,t=a,s=0;s<p;++s)if((d=e[s])<t&&++n>l&&y("overflow"),d==t){for(u=n,h=c;!(u<(f=h<=o?1:h>=o+26?26:h-o));h+=c)w.push(g(S(f+(k=u-f)%(b=c-f),0))),u=v(k/b);w.push(g(S(u,0))),o=C(n,m,i==r),n=0,++i}++n,++t}return w.join("")}if(a={version:"1.4.1",ucs2:{decode:_,encode:k},decode:E,encode:T,toASCII:function(e){return b(e,function(e){return f.test(e)?"xn--"+T(e):e})},toUnicode:function(e){return b(e,function(e){return h.test(e)?E(e.slice(4).toLowerCase()):e})}},r&&o)if(t.exports==r)o.exports=a;else for(u in a)a.hasOwnProperty(u)&&(r[u]=a[u]);else i.punycode=a}(this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],71:[function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t=t||"&");var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,f,d,p,v=e[c].replace(a,"%20"),g=v.indexOf(n);g>=0?(h=v.substr(0,g),f=v.substr(g+1)):(h=v,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),i(s,d)?r(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],72:[function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),function(s){var a=encodeURIComponent(i(s))+n;return r(e[s])?o(e[s],function(e){return a+encodeURIComponent(i(e))}).join(t):a+encodeURIComponent(i(e[s]))}).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],73:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":71,"./encode":72}],74:[function(e,t,n){(function(t,i){(function(){var r=e("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},u=0;function l(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,i=!(arguments.length<2)&&s.call(arguments,1);return a[t]=!0,r(function(){a[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof i?i:function(e){delete a[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":69,timers:74}],75:[function(e,t,n){"use strict";var i=e("punycode"),r=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=b,n.resolve=function(e,t){return b(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},n.format=function(e){return r.isString(e)&&(e=b(e)),e instanceof o?e.format():o.prototype.format.call(e)},n.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=e("querystring");function b(e,t,n){if(e&&r.isObject(e)&&e instanceof o)return e;var i=new o;return i.parse(e,t,n),i}o.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var k=s.exec(b);if(k){var w=(k=k[0]).toLowerCase();this.protocol=w,b=b.substr(k.length)}if(n||k||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);S&&(!k||!g[k])&&(b=b.substr(2),this.slashes=!0)}if(!g[k]&&(S||k&&!y[k])){for(var C=-1,E=0;E<f.length;E++)-1!==(O=b.indexOf(f[E]))&&(-1===C||O<C)&&(C=O);var T,x;for(-1!==(x=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(T=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(T)),C=-1,E=0;E<h.length;E++){var O;-1!==(O=b.indexOf(h[E]))&&(-1===C||O<C)&&(C=O)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var A=this.hostname.split(/\./),D=(E=0,A.length);E<D;E++){var R=A[E];if(R&&!R.match(d)){for(var M="",P=0,L=R.length;P<L;P++)R.charCodeAt(P)>127?M+="x":M+=R[P];if(!M.match(d)){var N=A.slice(0,E),F=A.slice(E+1),V=R.match(p);V&&(N.push(V[1]),F.unshift(V[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=N.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[w])for(E=0,D=c.length;E<D;E++){var j=c[E];if(-1!==b.indexOf(j)){var B=encodeURIComponent(j);B===j&&(B=escape(j)),b=b.split(j).join(B)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var H=b.indexOf("?");return-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=m.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(r.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(n[c]=e[c])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=m||v||n.host&&e.pathname,_=b,k=n.pathname&&n.pathname.split("/")||[],w=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===k[0])),m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=p;else if(p.length)k||(k=[]),k.pop(),k=k.concat(p),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search))return w&&(n.hostname=n.host=k.shift(),(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift())),n.search=e.search,n.query=e.query,(!r.isNull(n.pathname)||!r.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!k.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var S=k.slice(-1)[0],C=(n.host||e.host||k.length>1)&&("."===S||".."===S)||""===S,E=0,T=k.length;T>=0;T--)"."===(S=k[T])?k.splice(T,1):".."===S?(k.splice(T,1),E++):E&&(k.splice(T,1),E--);if(!b&&!_)for(;E--;E)k.unshift("..");b&&""!==k[0]&&(!k[0]||"/"!==k[0].charAt(0))&&k.unshift(""),C&&"/"!==k.join("/").substr(-1)&&k.push("");var x,O=""===k[0]||k[0]&&"/"===k[0].charAt(0);return w&&(n.hostname=n.host=O?"":k.length?k.shift():"",(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift())),(b=b||n.host&&k.length)&&!O&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),(!r.isNull(n.pathname)||!r.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":76,punycode:70,querystring:73}],76:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}]},{},[15])(15)},166:function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)t.call(i,r)&&(e[r]=i[r])}return e};var t=Object.prototype.hasOwnProperty},4341:function(l,f,g){"use strict";var k,w;function S(e){return"function"==typeof e}var C=!1,E={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else C&&console.log("RxJS: Back to a better error behavior. Thank you. <3");C=e},get useDeprecatedSynchronousErrorHandling(){return C}};function T(e){setTimeout(function(){throw e},0)}var x={closed:!0,next:function(e){},error:function(e){if(E.useDeprecatedSynchronousErrorHandling)throw e;T(e)},complete:function(){}},O=Array.isArray||function(e){return e&&"number"==typeof e.length};function I(e){return null!==e&&"object"==typeof e}var A,D=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),R=function(){function e(t){u(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return c(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(S(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(T){t=T instanceof D?M(T.errors):[T]}}if(O(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(I(l))try{l.unsubscribe()}catch(x){t=t||[],x instanceof D?t=t.concat(M(x.errors)):t.push(x)}}if(t)throw new D(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();function M(e){return e.reduce(function(e,t){return e.concat(t instanceof D?t.errors:t)},[])}R.EMPTY=((A=new R).closed=!0,A);var P="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),L=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;switch(u(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=x;break;case 1:if(!e){o.destination=x;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(v(o))):(o.syncErrorThrowable=!0,o.destination=new N(v(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new N(v(o),e,i,r)}return o}return c(n,[{key:P,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,s(y(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,i){var r=new n(e,t,i);return r.syncErrorThrowable=!1,r}}]),n}(R),N=function(e){h(n,e);var t=d(n);function n(e,i,r,o){var s;u(this,n),(s=t.call(this))._parentSubscriber=e;var a,l=v(s);return S(i)?a=i:i&&(a=i.next,r=i.error,o=i.complete,i!==x&&(S((l=Object.create(i)).unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(v(s)))),s._context=l,s._next=a,s._error=r,s._complete=o,s}return c(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;E.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=E.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):T(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;T(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};E.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(g){if(this.unsubscribe(),E.useDeprecatedSynchronousErrorHandling)throw g;T(g)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!E.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(S){return E.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=S,e.syncErrorThrown=!0,!0):(T(S),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(L),F="function"==typeof Symbol&&Symbol.observable||"@@observable";function V(e){return e}var j=function(){var e=function(){function e(t){u(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return c(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,r=function(e,t,n){if(e){if(e instanceof L)return e;if(e[P])return e[P]()}return e||t||n?new L(e,t,n):new L(x)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||E.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),E.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(f){E.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=f),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,r=t.isStopped;if(n||r)return!1;e=i&&i instanceof L?i:null}return!0}(e)?e.error(f):console.warn(f)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=B(t))(function(t,i){var r;r=n.subscribe(function(t){try{e(t)}catch(C){i(C),r&&r.unsubscribe()}},i,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:F,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:function(e){return 0===e.length?V:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=B(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})}}]),e}();return e.create=function(t){return new e(t)},e}();function B(e){if(e||(e=E.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var U=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),H=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this)).subject=e,r.subscriber=i,r.closed=!1,r}return c(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(R),q=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this,e)).destination=e,i}return n}(L),z=function(){var e=function(e){h(n,e);var t=d(n);function n(){var e;return u(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return c(n,[{key:P,value:function(){return new q(this)}},{key:"lift",value:function(e){var t=new W(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new U;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)}},{key:"error",value:function(e){if(this.closed)throw new U;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new U;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new U;return s(y(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new U;return this.hasError?(e.error(this.thrownError),R.EMPTY):this.isStopped?(e.complete(),R.EMPTY):(this.observers.push(e),new H(this,e))}},{key:"asObservable",value:function(){var e=new j;return e.source=this,e}}]),n}(j);return e.create=function(e,t){return new W(e,t)},e}(),W=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this)).destination=e,r.source=i,r}return c(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):R.EMPTY}}]),n}(z);function K(e){return e&&"function"==typeof e.schedule}function G(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Q(e,t))}}var Q=function(){function e(t,n){u(this,e),this.project=t,this.thisArg=n}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Y(e,this.project,this.thisArg))}}]),e}(),Y=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,e)).project=i,o.count=0,o.thisArg=r||v(o),o}return c(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(g){return void this.destination.error(g)}this.destination.next(t)}}]),n}(L),Z=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}},$="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",J=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function X(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var ee=function(e){if(e&&"function"==typeof e[F])return function(e){return function(t){var n=e[F]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}(e);if(J(e))return Z(e);if(X(e))return function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,T),t}}(e);if(e&&"function"==typeof e[$])return function(e){return function(t){for(var n=e[$]();;){var i=void 0;try{i=n.next()}catch(S){return t.error(S),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}(e);var t="You provided ".concat(I(e)?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.");throw new TypeError(t)};function te(e,t){return new j(function(n){var i=new R,r=0;return i.add(t.schedule(function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function ne(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[F]}(e))return function(e,t){return new j(function(n){var i=new R;return i.add(t.schedule(function(){var r=e[F]();i.add(r.subscribe({next:function(e){i.add(t.schedule(function(){return n.next(e)}))},error:function(e){i.add(t.schedule(function(){return n.error(e)}))},complete:function(){i.add(t.schedule(function(){return n.complete()}))}}))})),i})}(e,t);if(X(e))return function(e,t){return new j(function(n){var i=new R;return i.add(t.schedule(function(){return e.then(function(e){i.add(t.schedule(function(){n.next(e),i.add(t.schedule(function(){return n.complete()}))}))},function(e){i.add(t.schedule(function(){return n.error(e)}))})})),i})}(e,t);if(J(e))return te(e,t);if(function(e){return e&&"function"==typeof e[$]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new j(function(n){var i,r=new R;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(function(){i=e[$](),r.add(t.schedule(function(){if(!n.closed){var e,t;try{var o=i.next();e=o.value,t=o.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof j?e:new j(ee(e))}var ie=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this)).parent=e,i}return c(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(L),re=function(e){h(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(L);function oe(e,t){if(!t.closed){if(e instanceof j)return e.subscribe(t);var n;try{n=ee(e)(t)}catch(S){t.error(S)}return n}}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(i){return i.pipe(se(function(n,i){return ne(e(n,i)).pipe(G(function(e,r){return t(n,e,i,r)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ae(e,n))})}var ae=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;u(this,e),this.project=t,this.concurrent=n}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new ue(e,this.project,this.concurrent))}}]),e}(),ue=function(e){h(n,e);var t=d(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return u(this,n),(r=t.call(this,e)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return c(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(S){return void this.destination.error(S)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new ie(this),n=this.destination;n.add(t);var i=oe(e,t);i!==t&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(re);function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return se(V,e)}function ce(e,t){return t?te(e,t):new j(Z(e))}function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return K(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof o&&(i=t.pop()),null===r&&1===t.length&&t[0]instanceof j?t[0]:le(i)(ce(t,r))}function fe(){return function(e){return e.lift(new de(e))}}var de=function(){function e(t){u(this,e),this.connectable=t}return c(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new pe(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),e}(),pe=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).connectable=i,r}return c(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,i&&(!n||i===n)&&i.unsubscribe()}}else this.connection=null}}]),n}(L),ve=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this)).source=e,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return c(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new R).add(this.source.subscribe(new ye(this.getSubject(),this))),e.closed&&(this._connection=null,e=R.EMPTY)),e}},{key:"refCount",value:function(){return fe()(this)}}]),n}(j),ge=function(){var e=ve.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),ye=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).connectable=i,r}return c(n,[{key:"_error",value:function(e){this._unsubscribe(),s(y(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),s(y(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(q);function me(e,t){return function(n){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new be(i,t));var r=Object.create(n,ge);return r.source=n,r.subjectFactory=i,r}}var be=function(){function e(t,n){u(this,e),this.subjectFactory=t,this.selector=n}return c(e,[{key:"call",value:function(e,t){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(e);return r.add(t.subscribe(i)),r}}]),e}();function _e(){return new z}function ke(e){for(var t in e)if(e[t]===ke)return t;throw Error("Could not find renamed property on target object.")}function we(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Se(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Se).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ce(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Ee=ke({__forward_ref__:ke});function Te(e){return e.__forward_ref__=Te,e.toString=function(){return Se(this())},e}function xe(e){return Oe(e)?e():e}function Oe(e){return"function"==typeof e&&e.hasOwnProperty(Ee)&&e.__forward_ref__===Te}var Ie=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,i))).code=e,r}return n}(r(Error));function Ae(e){return"string"==typeof e?e:null==e?"":String(e)}function De(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ae(e)}function Re(e,t){var n=t?" in ".concat(t):"";throw new Ie("201","No provider for ".concat(De(e)," found").concat(n))}function Me(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pe(e){return{providers:e.providers||[],imports:e.imports||[]}}function Le(e){return Ne(e,je)||Ne(e,Ue)}function Ne(e,t){return e.hasOwnProperty(t)?e[t]:null}function Fe(e){return e&&(e.hasOwnProperty(Be)||e.hasOwnProperty(He))?e[Be]:null}var Ve,je=ke({"\u0275prov":ke}),Be=ke({"\u0275inj":ke}),Ue=ke({ngInjectableDef:ke}),He=ke({ngInjectorDef:ke}),qe=((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe);function ze(e){var t=Ve;return Ve=e,t}function We(e,t,n){var i=Le(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&qe.Optional?null:void 0!==t?t:void Re(Se(e),"Injector")}function Ke(e){return{toString:e}.toString()}var Ge=((Ge=Ge||{})[Ge.OnPush=0]="OnPush",Ge[Ge.Default=1]="Default",Ge),Qe=((Qe=Qe||{})[Qe.Emulated=0]="Emulated",Qe[Qe.None=2]="None",Qe[Qe.ShadowDom=3]="ShadowDom",Qe),Ye="undefined"!=typeof globalThis&&globalThis,Ze="undefined"!=typeof window&&window,$e="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Je=Ye||"undefined"!=typeof global&&global||Ze||$e,Xe={},et=[],tt=ke({"\u0275cmp":ke}),nt=ke({"\u0275dir":ke}),it=ke({"\u0275pipe":ke}),rt=ke({"\u0275mod":ke}),ot=ke({"\u0275loc":ke}),st=ke({"\u0275fac":ke}),at=ke({__NG_ELEMENT_ID__:ke}),ut=0;function lt(e){return Ke(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||et,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Qe.Emulated,id:"c",styles:e.styles||et,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,r=e.features,o=e.pipes;return n.id+=ut++,n.inputs=pt(e.inputs,t),n.outputs=pt(e.outputs),r&&r.forEach(function(e){return e(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(ct)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ht)}:null,n})}function ct(e){return yt(e)||function(e){return e[nt]||null}(e)}function ht(e){return function(e){return e[it]||null}(e)}var ft={};function dt(e){return Ke(function(){var t={type:e.type,bootstrap:e.bootstrap||et,declarations:e.declarations||et,imports:e.imports||et,exports:e.exports||et,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ft[e.id]=e.type),t})}function pt(e,t){if(null==e)return Xe;var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}var vt=lt;function gt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function yt(e){return e[tt]||null}function mt(e,t){var n=e[rt]||null;if(!n&&!0===t)throw new Error("Type ".concat(Se(e)," does not have '\u0275mod' property."));return n}function bt(e){return Array.isArray(e)&&"object"==typeof e[1]}function _t(e){return Array.isArray(e)&&!0===e[1]}function kt(e){return 0!=(8&e.flags)}function wt(e){return 2==(2&e.flags)}function St(e){return 1==(1&e.flags)}function Ct(e){return null!==e.template}function Et(e){return 0!=(512&e[2])}function Tt(e,t){return e.hasOwnProperty(st)?e[st]:null}var xt=function(){function e(t,n,i){u(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return c(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Ot(){return It}function It(e){return e.type.prototype.ngOnChanges&&(e.setInput=Dt),At}function At(){var e=Pt(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Xe)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Dt(e,t,n,i){var r=Pt(e)||function(e,t){return e[Mt]=t}(e,{previous:Xe,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],u=s[a];o[a]=new xt(u&&u.currentValue,t,s===Xe),e[i]=t}Ot.ngInherit=!0;var Rt,Mt="__ngSimpleChanges__";function Pt(e){return e[Mt]||null}function Lt(e){return!!e.listen}var Nt={createRenderer:function(e,t){return void 0!==Rt?Rt:"undefined"!=typeof document?document:void 0}};function Ft(e){for(;Array.isArray(e);)e=e[0];return e}function Vt(e,t){return Ft(t[e])}function jt(e,t){return Ft(t[e.index])}function Bt(e,t){return e.data[t]}function Ut(e,t){return e[t]}function Ht(e,t){var n=t[e];return bt(n)?n:n[0]}function qt(e){return 4==(4&e[2])}function zt(e){return 128==(128&e[2])}function Wt(e,t){return null==t?null:e[t]}function Kt(e){e[18]=0}function Gt(e,t){e[5]+=t;for(var n=e,i=e[3];null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}var Qt={lFrame:mn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Yt(){return Qt.bindingsEnabled}function Zt(){return Qt.lFrame.lView}function $t(){return Qt.lFrame.tView}function Jt(e){return Qt.lFrame.contextLView=e,e[8]}function Xt(){for(var e=en();null!==e&&64===e.type;)e=e.parent;return e}function en(){return Qt.lFrame.currentTNode}function tn(e,t){var n=Qt.lFrame;n.currentTNode=e,n.isParent=t}function nn(){return Qt.lFrame.isParent}function rn(){Qt.lFrame.isParent=!1}function on(){return Qt.isInCheckNoChangesMode}function sn(e){Qt.isInCheckNoChangesMode=e}function an(){var e=Qt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function un(){return Qt.lFrame.bindingIndex++}function ln(e){var t=Qt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function cn(e,t){var n=Qt.lFrame;n.bindingIndex=n.bindingRootIndex=e,hn(t)}function hn(e){Qt.lFrame.currentDirectiveIndex=e}function fn(){return Qt.lFrame.currentQueryIndex}function dn(e){Qt.lFrame.currentQueryIndex=e}function pn(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function vn(e,t,n){if(n&qe.SkipSelf){for(var i=t,r=e;!(null!==(i=i.parent)||n&qe.Host||(i=pn(r),null===i||(r=r[15],10&i.type))););if(null===i)return!1;t=i,e=r}var o=Qt.lFrame=yn();return o.currentTNode=t,o.lView=e,!0}function gn(e){var t=yn(),n=e[1];Qt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function yn(){var e=Qt.lFrame,t=null===e?null:e.child;return null===t?mn(e):t}function mn(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function bn(){var e=Qt.lFrame;return Qt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var _n=bn;function kn(){var e=bn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wn(){return Qt.lFrame.selectedIndex}function Sn(e){Qt.lFrame.selectedIndex=e}function Cn(){var e=Qt.lFrame;return Bt(e.tView,e.selectedIndex)}function En(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var r=e.data[n].type.prototype,o=r.ngAfterContentInit,s=r.ngAfterContentChecked,a=r.ngAfterViewInit,u=r.ngAfterViewChecked,l=r.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),a&&(e.viewHooks||(e.viewHooks=[])).push(-n,a),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=l&&(e.destroyHooks||(e.destroyHooks=[])).push(n,l)}}function Tn(e,t,n){In(e,t,3,n)}function xn(e,t,n,i){(3&e[2])===n&&In(e,t,n,i)}function On(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function In(e,t,n,i){for(var r=null!=i?i:-1,o=t.length-1,s=0,a=void 0!==i?65535&e[18]:0;a<o;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=i&&s>=i)break}else t[a]<0&&(e[18]+=65536),(s<r||-1==r)&&(An(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function An(e,t,n,i){var r=n[i]<0,o=n[i+1],s=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}var Dn=function e(t,n,i){u(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function Rn(e,t,n){for(var i=Lt(e),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var s=n[r++],a=n[r++],u=n[r++];i?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{var l=o,c=n[++r];Pn(l)?i&&e.setProperty(t,l,c):i?e.setAttribute(t,l,c):t.setAttribute(l,c),r++}}return r}function Mn(e){return 3===e||4===e||6===e}function Pn(e){return 64===e.charCodeAt(0)}function Ln(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?n=r:0===n||Nn(e,n,r,null,-1===n||2===n?t[++i]:null)}return e}function Nn(e,t,n,i,r){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function Fn(e){return-1!==e}function Vn(e){return 32767&e}function jn(e,t){for(var n=function(e){return e>>16}(e),i=t;n>0;)i=i[15],n--;return i}var Bn=!0;function Un(e){var t=Bn;return Bn=e,t}var Hn=0;function qn(e,t){var n=Wn(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,zn(i.data,e),zn(t,null),zn(i.blueprint,null));var r=Kn(e,t),o=e.injectorIndex;if(Fn(r))for(var s=Vn(r),a=jn(r,t),u=a[1].data,l=0;l<8;l++)t[o+l]=a[s+l]|u[s+l];return t[o+8]=r,o}function zn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Kn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,i=null,r=t;null!==r;){var o=r[1],s=o.type;if(null===(i=2===s?o.declTNode:1===s?r[6]:null))return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Gn(e,t,n){!function(e,t,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(at)&&(i=n[at]),null==i&&(i=n[at]=Hn++);var r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function Qn(e,t,n){if(n&qe.Optional)return e;Re(t,"NodeInjector")}function Yn(e,t,n,i){if(n&qe.Optional&&void 0===i&&(i=null),0==(n&(qe.Self|qe.Host))){var r=e[9],o=ze(void 0);try{return r?r.get(t,i,n&qe.Optional):We(t,i,n&qe.Optional)}finally{ze(o)}}return Qn(i,t,n)}function Zn(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qe.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(at)?e[at]:void 0;return"number"==typeof t?t>=0?255&t:Jn:t}(n);if("function"==typeof o){if(!vn(t,e,i))return i&qe.Host?Qn(r,n,i):Yn(t,n,i,r);try{var s=o(i);if(null!=s||i&qe.Optional)return s;Re(n)}finally{_n()}}else if("number"==typeof o){var a=null,u=Wn(e,t),l=-1,c=i&qe.Host?t[16][6]:null;for((-1===u||i&qe.SkipSelf)&&(-1!==(l=-1===u?Kn(e,t):t[u+8])&&ii(i,!1)?(a=t[1],u=Vn(l),t=jn(l,t)):u=-1);-1!==u;){var h=t[1];if(ni(o,u,h.data)){var f=Xn(u,t,n,a,i,c);if(f!==$n)return f}-1!==(l=t[u+8])&&ii(i,t[1].data[u+8]===c)&&ni(o,u,t)?(a=h,u=Vn(l),t=jn(l,t)):u=-1}}}return Yn(t,n,i,r)}var $n={};function Jn(){return new ri(Xt(),Zt())}function Xn(e,t,n,i,r,o){var s=t[1],a=s.data[e+8],u=ei(a,s,n,null==i?wt(a)&&Bn:i!=s&&0!=(3&a.type),r&qe.Host&&o===a);return null!==u?ti(t,s,u,a):$n}function ei(e,t,n,i,r){for(var o=e.providerIndexes,s=t.data,a=1048575&o,u=e.directiveStart,l=o>>20,c=r?a+l:e.directiveEnd,h=i?a:a+l;h<c;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(r){var d=s[u];if(d&&Ct(d)&&d.type===n)return u}return null}function ti(e,t,n,i){var r=e[n],o=t.data;if(function(e){return e instanceof Dn}(r)){var s=r;s.resolving&&function(e,t){throw new Ie("200","Circular dependency in DI detected for ".concat(e))}(De(o[n]));var a=Un(s.canSeeViewProviders);s.resolving=!0;var u=s.injectImpl?ze(s.injectImpl):null;vn(e,i,qe.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.type.prototype,r=i.ngOnChanges,o=i.ngOnInit,s=i.ngDoCheck;if(r){var a=It(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,o[n],t)}finally{null!==u&&ze(u),Un(a),s.resolving=!1,_n()}}return r}function ni(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function ii(e,t){return!(e&qe.Self||e&qe.Host&&t)}var ri=function(){function e(t,n){u(this,e),this._tNode=t,this._lView=n}return c(e,[{key:"get",value:function(e,t){return Zn(this._tNode,this._lView,e,void 0,t)}}]),e}();function oi(e){return Ke(function(){for(var t=e.prototype.constructor,n=t[st]||si(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;r&&r!==i;){var o=r[st]||si(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return function(e){return new e}})}function si(e){return Oe(e)?function(){var t=si(xe(e));return t&&t()}:Tt(e)}function ai(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var i=n.length,r=0;r<i;){var o=n[r];if(Mn(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}return null}(Xt(),e)}var ui="__parameters__";function li(e,t,n){return Ke(function(){var i=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof r)return i.apply(this,t),this;var s=o(r,t);return a.annotation=s,a;function a(e,t,n){for(var i=e.hasOwnProperty(ui)?e[ui]:Object.defineProperty(e,ui,{value:[]})[ui];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(s),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var ci=function(){function e(t,n){u(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Me({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return c(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),hi=new ci("AnalyzeForEntryComponents"),fi=Function;function di(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),di(i,t)):t!==e&&t.push(i)}return t}function pi(e,t){e.forEach(function(e){return Array.isArray(e)?pi(e,t):t(e)})}function vi(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function gi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function yi(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}function mi(e,t,n){var i=_i(e,t);return i>=0?e[1|i]=n:function(e,t,n,i){var r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i=~i,t,n),i}function bi(e,t){var n=_i(e,t);if(n>=0)return e[1|n]}function _i(e,t){return function(e,t,n){for(var i=0,r=e.length>>1;r!==i;){var o=i+(r-i>>1),s=e[o<<1];if(t===s)return o<<1;s>t?r=o:i=o+1}return~(r<<1)}(e,t)}var ki,wi={},Si="__NG_DI_FLAG__",Ci="ngTempTokenPath",Ei=/\n/gm,Ti="__source",xi=ke({provide:String,useValue:ke});function Oi(e){var t=ki;return ki=e,t}function Ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.Default;if(void 0===ki)throw new Error("inject() must be called from an injection context");return null===ki?We(e,void 0,t):ki.get(e,t&qe.Optional?null:void 0,t)}function Ai(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.Default;return(Ve||Ii)(xe(e),t)}var Di=Ai;function Ri(e){for(var t=[],n=0;n<e.length;n++){var i=xe(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=qe.Default,s=0;s<i.length;s++){var a=i[s],u=Pi(a);"number"==typeof u?-1===u?r=a.token:o|=u:r=a}t.push(Ai(r,o))}else t.push(Ai(i))}return t}function Mi(e,t){return e[Si]=t,e.prototype[Si]=t,e}function Pi(e){return e[Si]}function Li(e,t,n,i){var r=e[Ci];throw t[Ti]&&r.unshift(t[Ti]),e.message=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var r=Se(t);if(Array.isArray(t))r=t.map(Se).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Se(a)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(e.replace(Ei,"\n  "))}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[Ci]=null,e}var Ni=Mi(li("Inject",function(e){return{token:e}}),-1),Fi=Mi(li("Optional"),8),Vi=Mi(li("SkipSelf"),4),ji=function(){function e(t){u(this,e),this.changingThisBreaksApplicationSecurity=t}return c(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}();function Bi(e){return e instanceof ji?e.changingThisBreaksApplicationSecurity:e}var Ui=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,qi=((qi=qi||{})[qi.NONE=0]="NONE",qi[qi.HTML=1]="HTML",qi[qi.STYLE=2]="STYLE",qi[qi.SCRIPT=3]="SCRIPT",qi[qi.URL=4]="URL",qi[qi.RESOURCE_URL=5]="RESOURCE_URL",qi);function zi(e){var t=function(){var e=Zt();return e&&e[12]}();return t?t.sanitize(qi.URL,e)||"":function(e,t){var n=function(e){return e instanceof ji&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}(e,"URL")?Bi(e):function(e){return(e=String(e)).match(Ui)||e.match(Hi)?e:"unsafe:"+e}(Ae(e))}var Wi="__ngContext__";function Ki(e,t){e[Wi]=t}function Gi(e){var t=function(e){return e[Wi]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Qi(e){return e.ngOriginalError}function Yi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var Zi=function(){function e(){u(this,e),this._console=console}return c(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e&&e.ngErrorLogger||Yi}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(Qi(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=e&&Qi(e);t&&Qi(t);)t=Qi(t);return t||null}}]),e}(),$i=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Je);function Ji(e){return e instanceof Function?e():e}var Xi=((Xi=Xi||{})[Xi.Important=1]="Important",Xi[Xi.DashCase=2]="DashCase",Xi);function er(e,t){return(void 0)(e,t)}function tr(e){var t=e[3];return _t(t)?t[3]:t}function nr(e){return rr(e[13])}function ir(e){return rr(e[4])}function rr(e){for(;null!==e&&!_t(e);)e=e[4];return e}function or(e,t,n,i,r){if(null!=i){var o,s=!1;_t(i)?o=i:bt(i)&&(s=!0,i=i[0]);var a=Ft(i);0===e&&null!==n?null==r?dr(t,n,a):fr(t,n,a,r||null,!0):1===e&&null!==n?fr(t,n,a,r||null,!0):2===e?function(e,t,n){var i=vr(e,t);i&&function(e,t,n,i){Lt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,i,r){var o=n[7];o!==Ft(n)&&or(t,e,i,o,r);for(var s=10;s<n.length;s++){var a=n[s];Sr(a[1],a,e,t,i,o)}}(t,e,o,n,r)}}function sr(e,t,n){return Lt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ar(e,t){var n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Gt(r,-1)),n.splice(i,1)}function ur(e,t){if(!(e.length<=10)){var n=10+t,i=e[n];if(i){var r=i[17];null!==r&&r!==e&&ar(r,i),t>0&&(e[n-1][4]=i[4]);var o=gi(e,10+t);!function(e,t){Sr(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);var s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function lr(e,t){if(!(256&t[2])){var n=t[11];Lt(n)&&n.destroyNode&&Sr(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return cr(e[1],e);for(;t;){var n=null;if(bt(t))n=t[13];else{var i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)bt(t)&&cr(t[1],t),t=t[3];null===t&&(t=e),bt(t)&&cr(t[1],t),n=t&&t[4]}t=n}}(t)}}function cr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var r=t[n[i]];if(!(r instanceof Dn)){var o=n[i+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2){var a=r[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(r)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,i=t[7],r=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var s=n[o+1],a="function"==typeof s?s(t):Ft(t[s]),u=i[r=n[o+2]],l=n[o+3];"boolean"==typeof l?a.removeEventListener(n[o],u,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),o+=2}else{var c=i[r=n[o+1]];n[o].call(c)}if(null!==i){for(var h=r+1;h<i.length;h++)i[h]();t[7]=null}}(e,t),1===t[1].type&&Lt(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&_t(t[3])){n!==t[3]&&ar(n,t);var i=t[19];null!==i&&i.detachView(e)}}}function hr(e,t,n){return function(e,t,n){for(var i=t;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){var r=e.data[i.directiveStart].encapsulation;if(r===Qe.None||r===Qe.Emulated)return null}return jt(i,n)}(e,t.parent,n)}function fr(e,t,n,i,r){Lt(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function dr(e,t,n){Lt(e)?e.appendChild(t,n):t.appendChild(n)}function pr(e,t,n,i,r){null!==i?fr(e,t,n,i,r):dr(e,t,n)}function vr(e,t){return Lt(e)?e.parentNode(t):t.parentNode}function gr(e,t,n){return yr(e,t,n)}var yr=function(e,t,n){return 40&e.type?jt(e,n):null};function mr(e,t,n,i){var r=hr(e,i,t),o=t[11],s=gr(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(var a=0;a<n.length;a++)pr(o,r,n[a],s,!1);else pr(o,r,n,s,!1)}function br(e,t){if(null!==t){var n=t.type;if(3&n)return jt(t,e);if(4&n)return kr(-1,e[t.index]);if(8&n){var i=t.child;if(null!==i)return br(e,i);var r=e[t.index];return _t(r)?kr(-1,r):Ft(r)}if(32&n)return er(t,e)()||Ft(e[t.index]);var o=_r(e,t);return null!==o?Array.isArray(o)?o[0]:br(tr(e[16]),o):br(e,t.next)}return null}function _r(e,t){return null!==t?e[16][6].projection[t.projection]:null}function kr(e,t){var n=10+e+1;if(n<t.length){var i=t[n],r=i[1].firstChild;if(null!==r)return br(i,r)}return t[7]}function wr(e,t,n,i,r,o,s){for(;null!=n;){var a=i[n.index],u=n.type;if(s&&0===t&&(a&&Ki(Ft(a),i),n.flags|=4),64!=(64&n.flags))if(8&u)wr(e,t,n.child,i,r,o,!1),or(t,e,r,a,o);else if(32&u){for(var l=er(n,i),c=void 0;c=l();)or(t,e,r,c,o);or(t,e,r,a,o)}else 16&u?Cr(e,t,i,n,r,o):or(t,e,r,a,o);n=s?n.projectionNext:n.next}}function Sr(e,t,n,i,r,o){wr(n,i,e.firstChild,t,r,o,!1)}function Cr(e,t,n,i,r,o){var s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)or(t,e,r,a[u],o);else wr(e,t,a,s[3],r,o,!0)}function Er(e,t,n){Lt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Tr(e,t,n){Lt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function xr(e,t,n){for(var i=e.length;;){var r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){var o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var Or="ng-template";function Ir(e,t,n){for(var i=0;i<e.length;){var r=e[i++];if(n&&"class"===r){if(-1!==xr((r=e[i]).toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Ar(e){return 4===e.type&&e.value!==Or}function Dr(e,t,n){return t===(4!==e.type||n?e.value:Or)}function Rr(e,t,n){for(var i=4,r=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Mn(e[t]))return t;return e.length}(r),s=!1,a=0;a<t.length;a++){var u=t[a];if("number"!=typeof u){if(!s)if(4&i){if(i=2|1&i,""!==u&&!Dr(e,u,n)||""===u&&1===t.length){if(Mr(i))return!1;s=!0}}else{var l=8&i?u:t[++a];if(8&i&&null!==e.attrs){if(!Ir(e.attrs,l,n)){if(Mr(i))return!1;s=!0}continue}var c=Pr(8&i?"class":u,r,Ar(e),n);if(-1===c){if(Mr(i))return!1;s=!0;continue}if(""!==l){var h;h=c>o?"":r[c+1].toLowerCase();var f=8&i?h:null;if(f&&-1!==xr(f,l,0)||2&i&&l!==h){if(Mr(i))return!1;s=!0}}}}else{if(!s&&!Mr(i)&&!Mr(u))return!1;if(s&&Mr(u))continue;s=!1,i=u|1&i}}return Mr(i)||s}function Mr(e){return 0==(1&e)}function Pr(e,t,n,i){if(null===t)return-1;var r=0;if(i||!n){for(var o=!1;r<t.length;){var s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++r];"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Lr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<t.length;i++)if(Rr(e,t[i],n))return!0;return!1}function Nr(e,t){e:for(var n=0;n<t.length;n++){var i=t[n];if(e.length===i.length){for(var r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Fr(e,t){return e?":not("+t.trim()+")":t}function Vr(e){for(var t=e[0],n=1,i=2,r="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&i){var a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Mr(s)&&(t+=Fr(o,r),r=""),i=s,o=o||!Mr(i);n++}return""!==r&&(t+=Fr(o,r)),t}var jr={};function Br(e){Ur($t(),Zt(),wn()+e,on())}function Ur(e,t,n,i){if(!i)if(3==(3&t[2])){var r=e.preOrderCheckHooks;null!==r&&Tn(t,r,n)}else{var o=e.preOrderHooks;null!==o&&xn(t,o,0,n)}Sn(n)}function Hr(e,t){return e<<17|t<<2}function qr(e){return e>>17&32767}function zr(e){return 2|e}function Wr(e){return(131068&e)>>2}function Kr(e,t){return-131069&e|t<<2}function Gr(e){return 1|e}function Qr(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1];if(-1!==o){var s=e.data[o];dn(r),s.contentQueries(2,t[o],o)}}}function Yr(e,t,n,i,r,o,s,a,u,l){var c=t.blueprint.slice();return c[0]=r,c[2]=140|i,Kt(c),c[3]=c[15]=e,c[8]=n,c[10]=s||e&&e[10],c[11]=a||e&&e[11],c[12]=u||e&&e[12]||null,c[9]=l||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function Zr(e,t,n,i,r){var o=e.data[t];if(null===o)o=function(e,t,n,i,r){var o=en(),s=nn(),a=e.data[t]=function(e,t,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(e,t,n,i,r),Qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;var s=function(){var e=Qt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return tn(o,!0),o}function $r(e,t,n,i){if(0===n)return-1;for(var r=t.length,o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Jr(e,t,n){gn(t);try{var i=e.viewQuery;null!==i&&Io(1,i,n);var r=e.template;null!==r&&to(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Qr(e,t),e.staticViewQueries&&Io(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Co(e,t[n])}(t,o)}catch(S){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),S}finally{t[2]&=-5,kn()}}function Xr(e,t,n,i){var r=t[2];if(256!=(256&r)){gn(t);var o=on();try{Kt(t),function(e){Qt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&to(e,t,n,2,i);var s=3==(3&r);if(!o)if(s){var a=e.preOrderCheckHooks;null!==a&&Tn(t,a,null)}else{var u=e.preOrderHooks;null!==u&&xn(t,u,0,null),On(t,0)}if(function(e){for(var t=nr(e);null!==t;t=ir(t))if(t[2])for(var n=t[9],i=0;i<n.length;i++){var r=n[i],o=r[3];0==(1024&r[2])&&Gt(o,1),r[2]|=1024}}(t),function(e){for(var t=nr(e);null!==t;t=ir(t))for(var n=10;n<t.length;n++){var i=t[n],r=i[1];zt(i)&&Xr(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&Qr(e,t),!o)if(s){var l=e.contentCheckHooks;null!==l&&Tn(t,l)}else{var c=e.contentHooks;null!==c&&xn(t,c,1),On(t,1)}!function(e,t){var n=e.hostBindingOpCodes;if(null!==n)try{for(var i=0;i<n.length;i++){var r=n[i];if(r<0)Sn(~r);else{var o=r,s=n[++i],a=n[++i];cn(s,o),a(2,t[o])}}}finally{Sn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)wo(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Io(2,f,i),!o)if(s){var d=e.viewCheckHooks;null!==d&&Tn(t,d)}else{var p=e.viewHooks;null!==p&&xn(t,p,2),On(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Gt(t[3],-1))}finally{kn()}}}function eo(e,t,n,i){var r=t[10],o=!on(),s=qt(t);try{o&&!s&&r.begin&&r.begin(),s&&Jr(e,t,i),Xr(e,t,n,i)}finally{o&&!s&&r.end&&r.end()}}function to(e,t,n,i,r){var o=wn(),s=2&i;try{Sn(-1),s&&t.length>20&&Ur(e,t,20,on()),n(i,r)}finally{Sn(o)}}function no(e,t,n){if(kt(t))for(var i=t.directiveEnd,r=t.directiveStart;r<i;r++){var o=e.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}function io(e,t,n){!Yt()||(function(e,t,n,i){var r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||qn(n,t),Ki(i,t);for(var s=n.initialInputs,a=r;a<o;a++){var u=e.data[a],l=Ct(u);l&&mo(t,n,u);var c=ti(t,e,a,n);Ki(c,t),null!==s&&bo(0,a-r,c,u,0,s),l&&(Ht(n.index,t)[8]=c)}}(e,t,n,jt(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Qt.lFrame.currentDirectiveIndex;try{Sn(o);for(var a=i;a<r;a++){var u=e.data[a],l=t[a];hn(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&fo(u,l)}}finally{Sn(-1),hn(s)}}(e,t,n))}function ro(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jt,i=t.localNames;if(null!==i)for(var r=t.index+1,o=0;o<i.length;o+=2){var s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}function oo(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=so(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function so(e,t,n,i,r,o,s,a,u,l){var c=20+i,h=c+r,f=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:jr);return n}(c,h),d="function"==typeof l?l():l;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ao(e,t,n,i){var r=Do(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&Ro(e).push(i,r.length-1))}function uo(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function lo(e,t,n,i,r,o,s,a){var u,l=jt(t,n),c=t.inputs;!a&&null!=c&&(u=c[i])?(Po(e,n,u,i,r),wt(t)&&function(e,t){var n=Ht(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=s?s(r,t.value||"",i):r,Lt(o)?o.setProperty(l,i,r):Pn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function co(e,t,n,i){var r=!1;if(Yt()){var o=function(e,t,n){var i=e.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var s=i[o];Lr(n,s.selectors,!1)&&(r||(r=[]),Gn(qn(n,t),e,s.type),Ct(s)?(po(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===i?null:{"":-1};if(null!==o){r=!0,go(n,e.data.length,o.length);for(var a=0;a<o.length;a++){var u=o[a];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,h=$r(e,t,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Ln(n.mergedAttrs,d.hostAttrs),yo(e,n,t,h,d),vo(h,d,s),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);var p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),l=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),h++}!function(e,t){for(var n=t.directiveEnd,i=e.data,r=t.attrs,o=[],s=null,a=null,u=t.directiveStart;u<n;u++){var l=i[u],c=l.inputs,h=null===r||Ar(t)?null:_o(c,r);o.push(h),s=uo(c,u,s),a=uo(l.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n)}s&&function(e,t,n){if(t)for(var i=e.localNames=[],r=0;r<t.length;r+=2){var o=n[t[r+1]];if(null==o)throw new Ie("301","Export of name '".concat(t[r+1],"' not found!"));i.push(t[r],o)}}(n,i,s)}return n.mergedAttrs=Ln(n.mergedAttrs,n.attrs),r}function ho(e,t,n,i,r,o){var s=o.hostBindings;if(s){var a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(i,r,s)}}function fo(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function po(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function vo(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Ct(t)&&(n[""]=e)}}function go(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function yo(e,t,n,i,r){e.data[i]=r;var o=r.factory||(r.factory=Tt(r.type)),s=new Dn(o,Ct(r),null);e.blueprint[i]=s,n[i]=s,ho(e,t,0,i,$r(e,n,r.hostVars,jr),r)}function mo(e,t,n){var i=jt(t,e),r=oo(n),o=e[10],s=Eo(e,Yr(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n),null,null));e[t.index]=s}function bo(e,t,n,i,r,o){var s=o[t];if(null!==s)for(var a=i.setInput,u=0;u<s.length;){var l=s[u++],c=s[u++],h=s[u++];null!==a?i.setInput(n,h,l,c):n[c]=h}}function _o(e,t){for(var n=null,i=0;i<t.length;){var r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function ko(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function wo(e,t){var n=Ht(t,e);if(zt(n)){var i=n[1];80&n[2]?Xr(i,n,i.template,n[8]):n[5]>0&&So(n)}}function So(e){for(var t=nr(e);null!==t;t=ir(t))for(var n=10;n<t.length;n++){var i=t[n];if(1024&i[2]){var r=i[1];Xr(r,i,r.template,i[8])}else i[5]>0&&So(i)}var o=e[1].components;if(null!==o)for(var s=0;s<o.length;s++){var a=Ht(o[s],e);zt(a)&&a[5]>0&&So(a)}}function Co(e,t){var n=Ht(t,e),i=n[1];(function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),Jr(i,n,n[8])}function Eo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function To(e){for(;e;){e[2]|=64;var t=tr(e);if(Et(e)&&!t)return e;e=t}return null}function xo(e,t,n){var i=t[10];i.begin&&i.begin();try{Xr(e,t,e.template,n)}catch(C){throw Mo(t,C),C}finally{i.end&&i.end()}}function Oo(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=Gi(n),r=i[1];eo(r,i,r.template,n)}}(e[8])}function Io(e,t,n){dn(0),t(e,n)}var Ao=Promise.resolve(null);function Do(e){return e[7]||(e[7]=[])}function Ro(e){return e.cleanup||(e.cleanup=[])}function Mo(e,t){var n=e[9],i=n?n.get(Zi,null):null;i&&i.handleError(t)}function Po(e,t,n,i,r){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=t[s],l=e.data[s];null!==l.setInput?l.setInput(u,r,i,a):u[a]=r}}function Lo(e,t,n){var i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];"number"==typeof a?o=a:1==o?r=Ce(r,a):2==o&&(i=Ce(i,a+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var No,Fo=new ci("INJECTOR",-1),Vo=function(){function e(){u(this,e)}return c(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wi;if(t===wi){var n=new Error("NullInjectorError: No provider for ".concat(Se(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),jo=new ci("Set Injector scope."),Bo={},Uo={};function Ho(){return void 0===No&&(No=new Vo),No}function qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new zo(e,n,t||Ho(),i)}var zo=function(){function e(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;u(this,e),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&pi(n,function(e){return r.processProvider(e,t,n)}),pi([t],function(e){return r.processInjectorType(e,[],s)}),this.records.set(Fo,Go(void 0,this));var a=this.records.get(jo);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof t?null:Se(t))}return c(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wi,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe.Default;this.assertNotDestroyed();var i=Oi(this),r=ze(void 0);try{if(!(n&qe.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=function(e){return"function"==typeof e||"object"==typeof e&&e instanceof ci}(e)&&Le(e);o=s&&this.injectableDefInScope(s)?Go(Wo(e),Bo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&qe.Self?Ho():this.parent).get(e,t=n&qe.Optional&&t===wi?null:t)}catch(E){if("NullInjectorError"===E.name){if((E[Ci]=E[Ci]||[]).unshift(Se(e)),i)throw E;return Li(E,e,"R3InjectorError",this.source)}throw E}finally{ze(r),Oi(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(Se(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var i=this;if(!(e=xe(e)))return!1;var r=Fe(e),o=null==r&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(r=Fe(o)),null==r)return!1;if(null!=r.imports&&!a){var u;n.push(s);try{pi(r.imports,function(e){i.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var l=function(e){var t=u[e],n=t.ngModule,r=t.providers;pi(r,function(e){return i.processProvider(e,n,r||et)})},c=0;c<u.length;c++)l(c)}this.injectorDefTypes.add(s);var h=Tt(s)||function(){return new s};this.records.set(s,Go(h,Bo));var f=r.providers;if(null!=f&&!a){var d=e;pi(f,function(e){return i.processProvider(e,d,f)})}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var i=Yo(e=xe(e))?e:xe(e&&e.provide),r=function(e,t,n){return Qo(e)?Go(void 0,e.useValue):Go(Ko(e),Bo)}(e);if(Yo(e)||!0!==e.multi)this.records.get(i);else{var o=this.records.get(i);o||((o=Go(void 0,Bo,!0)).factory=function(){return Ri(o.multi)},this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,r)}},{key:"hydrate",value:function(e,t){return t.value===Bo&&(t.value=Uo,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var t=xe(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}]),e}();function Wo(e){var t=Le(e),n=null!==t?t.factory:Tt(e);if(null!==n)return n;if(e instanceof ci)throw new Error("Token ".concat(Se(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=yi(t,"?");throw new Error("Can't resolve all parameters for ".concat(Se(e),": (").concat(n.join(", "),")."))}var i=function(e){var t=e&&(e[je]||e[Ue]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Ko(e,t,n){var i;if(Yo(e)){var r=xe(e);return Tt(r)||Wo(r)}if(Qo(e))i=function(){return xe(e.useValue)};else if(function(e){return!(!e||!e.useFactory)}(e))i=function(){return e.useFactory.apply(e,m(Ri(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Ai(xe(e.useExisting))};else{var s=xe(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Tt(s)||Wo(s);i=function(){return o(s,m(Ri(e.deps)))}}return i}function Go(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Qo(e){return null!==e&&"object"==typeof e&&xi in e}function Yo(e){return"function"==typeof e}var Zo=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=qo(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)},$o=function(){var e=function(){function e(){u(this,e)}return c(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Zo(e,t,""):Zo(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=wi,e.NULL=new Vo,e.\u0275prov=Me({token:e,providedIn:"any",factory:function(){return Ai(Fo)}}),e.__NG_ELEMENT_ID__=-1,e}();function Jo(e,t){En(Gi(e)[1],Xt())}function Xo(e){for(var t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0,i=[e];t;){var r=void 0;if(Ct(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);var o=e;o.inputs=es(e.inputs),o.declaredInputs=es(e.declaredInputs),o.outputs=es(e.outputs);var s=r.hostBindings;s&&is(e,s);var a=r.viewQuery,u=r.contentQueries;if(a&&ts(e,a),u&&ns(e,u),we(e.inputs,r.inputs),we(e.declaredInputs,r.declaredInputs),we(e.outputs,r.outputs),Ct(r)&&r.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(r.data.animation)}}var c=r.features;if(c)for(var h=0;h<c.length;h++){var f=c[h];f&&f.ngInherit&&f(e),f===Xo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ln(r.hostAttrs,n=Ln(n,r.hostAttrs))}}(i)}function es(e){return e===Xe?{}:e===et?[]:e}function ts(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function ns(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}function is(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i){t(e,i),n(e,i)}:t}var rs=null;function os(){if(!rs){var e=Je.Symbol;if(e&&e.iterator)rs=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(rs=i)}}return rs}var ss=function(){function e(t){u(this,e),this.wrapped=t}return c(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function as(e){return!!us(e)&&(Array.isArray(e)||!(e instanceof Map)&&os()in e)}function us(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ls(e,t,n){return e[t]=n}function cs(e,t){return e[t]}function hs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function fs(e,t,n,i){var r=hs(e,t,n);return hs(e,t+1,i)||r}function ds(e,t,n,i,r,o){var s=fs(e,t,n,i);return fs(e,t+2,r,o)||s}function ps(e,t,n,i){var r=Zt();return hs(r,un(),t)&&($t(),function(e,t,n,i,r,o){var s=jt(e,t);!function(e,t,n,i,r,o,s){if(null==o)Lt(e)?e.removeAttribute(t,r,n):t.removeAttribute(r);else{var a=null==s?Ae(o):s(o,i||"",r);Lt(e)?e.setAttribute(t,r,a,n):n?t.setAttributeNS(n,r,a):t.setAttribute(r,a)}}(t[11],s,o,e.value,n,i,r)}(Cn(),r,e,t,n,i)),ps}function vs(e,t,n,i,r,o,s,a){var u=Zt(),l=$t(),c=e+20,h=l.firstCreatePass?function(e,t,n,i,r,o,s,a,u){var l=t.consts,c=Zr(t,e,4,s||null,Wt(l,a));co(t,n,c,Wt(l,u)),En(t,c);var h=c.tViews=so(2,c,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,l,u,t,n,i,r,o,s):l.data[c];tn(h,!1);var f=u[11].createComment("");mr(l,u,f,h),Ki(f,u),Eo(u,u[c]=ko(f,u,f,h)),St(h)&&io(l,u,h),null!=s&&ro(u,h,a)}function gs(e){return Ut(Qt.lFrame.contextLView,20+e)}function ys(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.Default,n=Zt();return null===n?Ai(e,t):Zn(Xt(),n,xe(e),t)}function ms(e,t,n){var i=Zt();return hs(i,un(),t)&&lo($t(),Cn(),i,e,t,i[11],n,!1),ms}function bs(e,t,n,i,r){var o=r?"class":"style";Po(e,n,t.inputs[o],o,i)}function _s(e,t,n,i){var r=Zt(),o=$t(),s=20+e,a=r[11],u=r[s]=sr(a,t,Qt.lFrame.currentNamespace),l=o.firstCreatePass?function(e,t,n,i,r,o,s){var a=t.consts,u=Zr(t,e,2,r,Wt(a,o));return co(t,n,u,Wt(a,s)),null!==u.attrs&&Lo(u,u.attrs,!1),null!==u.mergedAttrs&&Lo(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,r,0,t,n,i):o.data[s];tn(l,!0);var c=l.mergedAttrs;null!==c&&Rn(a,u,c);var h=l.classes;null!==h&&Tr(a,u,h);var f=l.styles;null!==f&&Er(a,u,f),64!=(64&l.flags)&&mr(o,r,u,l),0===Qt.lFrame.elementDepthCount&&Ki(u,r),Qt.lFrame.elementDepthCount++,St(l)&&(io(o,r,l),no(o,l,r)),null!==i&&ro(r,l)}function ks(){var e=Xt();nn()?rn():tn(e=e.parent,!1);var t=e;Qt.lFrame.elementDepthCount--;var n=$t();n.firstCreatePass&&(En(n,e),kt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&bs(n,t,Zt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&bs(n,t,Zt(),t.stylesWithoutHost,!1)}function ws(e,t,n,i){_s(e,t,n,i),ks()}function Ss(e,t,n){var i=Zt(),r=$t(),o=e+20,s=r.firstCreatePass?function(e,t,n,i,r){var o=t.consts,s=Wt(o,i),a=Zr(t,e,8,"ng-container",s);return null!==s&&Lo(a,s,!0),co(t,n,a,Wt(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,n):r.data[o];tn(s,!0);var a=i[o]=i[11].createComment("");mr(r,i,a,s),Ki(a,i),St(s)&&(io(r,i,s),no(r,s,i)),null!=n&&ro(i,s)}function Cs(){var e=Xt(),t=$t();nn()?rn():tn(e=e.parent,!1),t.firstCreatePass&&(En(t,e),kt(e)&&t.queries.elementEnd(e))}function Es(e,t,n){Ss(e,t,n),Cs()}function Ts(){return Zt()}function xs(e){return!!e&&"function"==typeof e.then}function Os(e){return!!e&&"function"==typeof e.subscribe}var Is=Os;function As(e,t,n,i){var r=Zt(),o=$t(),s=Xt();return function(e,t,n,i,r,o,s,a){var u=St(i),l=e.firstCreatePass&&Ro(e),c=t[8],h=Do(t),f=!0;if(3&i.type||a){var d=jt(i,t),p=a?a(d):d,v=h.length,g=a?function(e){return a(Ft(e[i.index]))}:i.index;if(Lt(n)){var y=null;if(!a&&u&&(y=function(e,t,n,i){var r=e.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var s=r[o];if(s===n&&r[o+1]===i){var a=t[7],u=r[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,r,i.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,f=!1;else{o=Rs(i,t,c,o,!1);var m=n.listen(p,r,o);h.push(o,m),l&&l.push(r,g,v,v+1)}}else o=Rs(i,t,c,o,!0),p.addEventListener(r,o,s),h.push(o),l&&l.push(r,g,v,s)}else o=Rs(i,t,c,o,!1);var b,_=i.outputs;if(f&&null!==_&&(b=_[r])){var k=b.length;if(k)for(var w=0;w<k;w+=2){var S=t[b[w]][b[w+1]].subscribe(o),C=h.length;h.push(o,S),l&&l.push(r,i.index,C,-(C+1))}}}(o,r,r[11],s,e,t,!!n,i),As}function Ds(e,t,n,i){try{return!1!==n(i)}catch(C){return Mo(e,C),!1}}function Rs(e,t,n,i,r){return function n(o){if(o===Function)return i;var s=2&e.flags?Ht(e.index,t):t;0==(32&t[2])&&To(s);for(var a=Ds(t,0,i,o),u=n.__ngNextListenerFn__;u;)a=Ds(t,0,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Qt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Qt.lFrame.contextLView))[8]}(e)}function Ps(e,t){for(var n=null,i=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),r=0;r<t.length;r++){var o=t[r];if("*"!==o){if(null===i?Lr(e,o,!0):Nr(i,o))return r}else n=r}return n}function Ls(e){var t=Zt()[16][6];if(!t.projection)for(var n=t.projection=yi(e?e.length:1,null),i=n.slice(),r=t.child;null!==r;){var o=e?Ps(r,e):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}function Ns(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=Zt(),r=$t(),o=Zr(r,20+e,16,null,n||null);null===o.projection&&(o.projection=t),rn(),64!=(64&o.flags)&&function(e,t,n){Cr(t[11],0,t,n,hr(e,n,t),gr(n.parent||t[6],n,t))}(r,i,o)}function Fs(e,t,n,i,r){for(var o=e[n+1],s=null===t,a=i?qr(o):Wr(o),u=!1;0!==a&&(!1===u||s);){var l=e[a+1];Vs(e[a],t)&&(u=!0,e[a+1]=i?Gr(l):zr(l)),a=i?qr(l):Wr(l)}u&&(e[n+1]=i?zr(o):Gr(o))}function Vs(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&_i(e,t)>=0}var js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Bs(e){return e.substring(js.key,js.keyEnd)}function Us(e,t){var n=js.textEnd;return n===t?-1:(t=js.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,js.key=t,n),Hs(e,t,n))}function Hs(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function qs(e,t,n){return Gs(e,t,n,!1),qs}function zs(e,t){return Gs(e,t,null,!0),zs}function Ws(e){!function(e,t,n,i){var r=$t(),o=ln(2);r.firstUpdatePass&&Ys(r,null,o,i);var s=Zt();if(n!==jr&&hs(s,o,n)){var a=r.data[wn()];if(ta(a,i)&&!Qs(r,o)){var u=a.classesWithoutHost;null!==u&&(n=Ce(u,n||"")),bs(r,a,s,n,i)}else!function(e,t,n,i,r,o,s,a){r===jr&&(r=et);for(var u=0,l=0,c=0<r.length?r[0]:null,h=0<o.length?o[0]:null;null!==c||null!==h;){var f=u<r.length?r[u+1]:void 0,d=l<o.length?o[l+1]:void 0,p=void 0,v=null;c===h?(u+=2,l+=2,f!==d&&(v=h,p=d)):null===h||null!==c&&c<h?(u+=2,v=c):(l+=2,v=h,p=d),null!==v&&Js(e,t,n,i,v,p,true,a),c=u<r.length?r[u]:null,h=l<o.length?o[l]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return et;var i=[],r=Bi(n);if(Array.isArray(r))for(var o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(var s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(e,t,n),0,o)}}(mi,Ks,e,!0)}function Ks(e,t){for(var n=function(e){return function(e){js.key=0,js.keyEnd=0,js.value=0,js.valueEnd=0,js.textEnd=e.length}(e),Us(e,Hs(e,0,js.textEnd))}(t);n>=0;n=Us(t,n))mi(e,Bs(t),!0)}function Gs(e,t,n,i){var r=Zt(),o=$t(),s=ln(2);o.firstUpdatePass&&Ys(o,e,s,i),t!==jr&&hs(r,s,t)&&Js(o,o.data[wn()],r,r[11],e,r[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Se(Bi(e)))),e}(t,n),i,s)}function Qs(e,t){return t>=e.expandoStartIndex}function Ys(e,t,n,i){var r=e.data;if(null===r[n+1]){var o=r[wn()],s=Qs(e,n);ta(o,i)&&null===t&&!s&&(t=!1),function(e,t,n,i,r,o){var s=o?t.classBindings:t.styleBindings,a=qr(s),u=Wr(s);e[i]=n;var l,c=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||_i(h,l)>0)&&(c=!0)}else l=n;if(r)if(0!==u){var f=qr(e[a+1]);e[i+1]=Hr(f,a),0!==f&&(e[f+1]=Kr(e[f+1],i)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],i)}else e[i+1]=Hr(a,0),0!==a&&(e[a+1]=Kr(e[a+1],i)),a=i;else e[i+1]=Hr(u,0),0===a?a=i:e[u+1]=Kr(e[u+1],i),u=i;c&&(e[i+1]=zr(e[i+1])),Fs(e,l,i,!0),Fs(e,l,i,!1),function(e,t,n,i,r){var o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&_i(o,t)>=0&&(n[i+1]=Gr(n[i+1]))}(t,l,e,i,o),s=Hr(a,u),o?t.classBindings=s:t.styleBindings=s}(r,o,t=function(e,t,n,i){var r=function(e){var t=Qt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=$s(n=Zs(null,e,t,n,i),t.attrs,i),o=null);else{var s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=Zs(r,e,t,n,i),null===o){var a=function(e,t,n){var i=n?t.classBindings:t.styleBindings;if(0!==Wr(i))return e[qr(i)]}(e,t,i);void 0!==a&&Array.isArray(a)&&function(e,t,n,i){e[qr(n?t.classBindings:t.styleBindings)]=i}(e,t,i,a=$s(a=Zs(null,e,t,a[1],i),t.attrs,i))}else o=function(e,t,n){for(var i,r=t.directiveEnd,o=1+t.directiveStylingLast;o<r;o++)i=$s(i,e[o].hostAttrs,n);return $s(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),n,s,i)}}function Zs(e,t,n,i,r){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=$s(i,(o=t[a]).hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function $s(e,t,n){var i=n?1:2,r=-1;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),mi(e,s,!!n||t[++o]))}return void 0===e?null:e}function Js(e,t,n,i,r,o,s,a){if(3&t.type){var u=e.data,l=u[a+1];ea(function(e){return 1==(1&e)}(l)?Xs(u,t,n,r,Wr(l),s):void 0)||(ea(o)||function(e){return 2==(2&e)}(l)&&(o=Xs(u,null,n,r,a,s)),function(e,t,n,i,r){var o=Lt(e);if(t)r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i);else{var s=-1===i.indexOf("-")?void 0:Xi.DashCase;if(null==r)o?e.removeStyle(n,i,s):n.style.removeProperty(i);else{var a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=Xi.Important),o?e.setStyle(n,i,r,s):n.style.setProperty(i,r,a?"important":"")}}}(i,s,Vt(wn(),n),r,o))}}function Xs(e,t,n,i,r,o){for(var s,a=null===t;r>0;){var u=e[r],l=Array.isArray(u),c=l?u[1]:u,h=null===c,f=n[r+1];f===jr&&(f=h?et:void 0);var d=h?bi(f,i):c===i?f:void 0;if(l&&!ea(d)&&(d=bi(u,i)),ea(d)&&(s=d,a))return s;var p=e[r+1];r=a?qr(p):Wr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=bi(v,i))}return s}function ea(e){return void 0!==e}function ta(e,t){return 0!=(e.flags&(t?16:32))}function na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Zt(),i=$t(),r=e+20,o=i.firstCreatePass?Zr(i,r,1,t,null):i.data[r],s=n[r]=function(e,t){return Lt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);mr(i,n,s,o),tn(o,!1)}function ia(e){return ra("",e,""),ia}function ra(e,t,n){var i=Zt(),r=function(e,t,n,i){return hs(e,un(),n)?t+Ae(n)+i:jr}(i,e,t,n);return r!==jr&&function(e,t,n){var i=Vt(t,e);!function(e,t,n){Lt(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}(i,wn(),r),ra}function oa(e,t,n){var i=Zt();return hs(i,un(),t)&&lo($t(),Cn(),i,e,t,i[11],n,!0),oa}var sa=void 0,aa=["en",[["a","p"],["AM","PM"],sa],[["AM","PM"],sa,sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sa,"{1} 'at' {0}",sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ua={};function la(e){return e in ua||(ua[e]=Je.ng&&Je.ng.common&&Je.ng.common.locales&&Je.ng.common.locales[e]),ua[e]}var ca=((ca=ca||{})[ca.LocaleId=0]="LocaleId",ca[ca.DayPeriodsFormat=1]="DayPeriodsFormat",ca[ca.DayPeriodsStandalone=2]="DayPeriodsStandalone",ca[ca.DaysFormat=3]="DaysFormat",ca[ca.DaysStandalone=4]="DaysStandalone",ca[ca.MonthsFormat=5]="MonthsFormat",ca[ca.MonthsStandalone=6]="MonthsStandalone",ca[ca.Eras=7]="Eras",ca[ca.FirstDayOfWeek=8]="FirstDayOfWeek",ca[ca.WeekendRange=9]="WeekendRange",ca[ca.DateFormat=10]="DateFormat",ca[ca.TimeFormat=11]="TimeFormat",ca[ca.DateTimeFormat=12]="DateTimeFormat",ca[ca.NumberSymbols=13]="NumberSymbols",ca[ca.NumberFormats=14]="NumberFormats",ca[ca.CurrencyCode=15]="CurrencyCode",ca[ca.CurrencySymbol=16]="CurrencySymbol",ca[ca.CurrencyName=17]="CurrencyName",ca[ca.Currencies=18]="Currencies",ca[ca.Directionality=19]="Directionality",ca[ca.PluralCase=20]="PluralCase",ca[ca.ExtraData=21]="ExtraData",ca),ha="en-US";function fa(e){(function(e,t){null==e&&function(e,t,n,i){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(t,e)})(e,"Expected localeId to be defined"),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function da(e,t,n,i,r){if(e=xe(e),Array.isArray(e))for(var o=0;o<e.length;o++)da(e[o],t,n,i,r);else{var s=$t(),a=Zt(),u=Yo(e)?e:xe(e.provide),l=Ko(e),c=Xt(),h=1048575&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>20;if(Yo(e)||!e.multi){var p=new Dn(l,r,ys),v=ga(u,t,r?h:h+d,f);-1===v?(Gn(qn(c,a),s,u),pa(s,e,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var g=ga(u,t,h+d,f),y=ga(u,t,h,h+d),m=g>=0&&n[g],b=y>=0&&n[y];if(r&&!b||!r&&!m){Gn(qn(c,a),s,u);var _=function(e,t,n,i,r){var o=new Dn(e,n,ys);return o.multi=[],o.index=t,o.componentProviders=0,va(o,r,i&&!n),o}(r?ma:ya,n.length,r,i,l);!r&&b&&(n[y].providerFactory=_),pa(s,e,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(_),a.push(_)}else pa(s,e,g>-1?g:y,va(n[r?y:g],l,!r&&i));!r&&i&&b&&n[y].componentProviders++}}}function pa(e,t,n,i){var r=Yo(t);if(r||function(e){return!!e.useClass}(t)){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var s=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){var a=s.indexOf(n);-1===a?s.push(n,[i,o]):s[a+1].push(i,o)}else s.push(n,o)}}}function va(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ga(e,t,n,i){for(var r=n;r<i;r++)if(t[r]===e)return r;return-1}function ya(e,t,n,i){return ba(this.multi,[])}function ma(e,t,n,i){var r,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=ti(n,n[1],this.providerFactory.index,i);ba(o,r=a.slice(0,s));for(var u=s;u<a.length;u++)r.push(a[u])}else ba(o,r=[]);return r}function ba(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function _a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(e,t,n){var i=$t();if(i.firstCreatePass){var r=Ct(e);da(n,i.data,i.blueprint,r,!0),da(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}}var ka=function e(){u(this,e)},wa=function(){function e(){u(this,e)}return c(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(Se(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Sa=function(){var e=function e(){u(this,e)};return e.NULL=new wa,e}();function Ca(){}function Ea(e,t){return new xa(jt(e,t))}var Ta=function(){return Ea(Xt(),Zt())},xa=function(){var e=function e(t){u(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=Ta,e}();function Oa(e){return e instanceof xa?e.nativeElement:e}var Ia=function e(){u(this,e)},Aa=function(){var e=function e(){u(this,e)};return e.__NG_ELEMENT_ID__=function(){return Da()},e}(),Da=function(){var e=Zt(),t=Ht(Xt().index,e);return function(e){return e[11]}(bt(t)?t:e)},Ra=function(){var e=function e(){u(this,e)};return e.\u0275prov=Me({token:e,providedIn:"root",factory:function(){return null}}),e}(),Ma=new function e(t){u(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("12.2.12"),Pa=function(){function e(){u(this,e)}return c(e,[{key:"supports",value:function(e){return as(e)}},{key:"create",value:function(e){return new Na(e)}}]),e}(),La=function(e,t){return t},Na=function(){function e(t){u(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||La}return c(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,r=null;t||n;){var o=!n||t&&t.currentIndex<Ba(n,i,r)?t:n,s=Ba(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{r||(r=[]);var u=s-i,l=a-i;if(u!=l){for(var c=0;c<u;c++){var h=c<r.length?r[c]:r[c]=0,f=h+c;l<=f&&f<u&&(r[c]=h+1)}r[o.previousIndex]=l-u}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!as(e))throw new Error("Error trying to diff '".concat(Se(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,r,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)i=e[a],r=this._trackByFn(a,i),null!==o&&Object.is(o.trackById,r)?(s&&(o=this._verifyReinsertion(o,i,r,a)),Object.is(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,r=e[os()]();!(i=r.next()).done;)t(i.value)}(e,function(e){r=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,r)?(s&&(o=t._verifyReinsertion(o,e,r,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,r,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):e=this._addAfter(new Fa(t,n),r,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ja),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ja),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Fa=function e(t,n){u(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Va=function(){function e(){u(this,e),this._head=null,this._tail=null}return c(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),ja=function(){function e(){u(this,e),this.map=new Map}return c(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Va,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function Ba(e,t,n){var i=e.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var Ua=function(){function e(){u(this,e)}return c(e,[{key:"supports",value:function(e){return e instanceof Map||us(e)}},{key:"create",value:function(){return new Ha}}]),e}(),Ha=function(){function e(){u(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return c(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||us(e)))throw new Error("Error trying to diff '".concat(Se(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new qa(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),qa=function e(t){u(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function za(){return new Wa([new Pa])}var Wa=function(){var e=function(){function e(t){u(this,e),this.factories=t}return c(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(null!=t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||za())},deps:[[e,new Vi,new Fi]]}}}]),e}();return e.\u0275prov=Me({token:e,providedIn:"root",factory:za}),e}();function Ka(){return new Ga([new Ua])}var Ga=function(){var e=function(){function e(t){u(this,e),this.factories=t}return c(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Ka())},deps:[[e,new Vi,new Fi]]}}}]),e}();return e.\u0275prov=Me({token:e,providedIn:"root",factory:Ka}),e}();function Qa(e,t,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=t[n.index];if(null!==o&&i.push(Ft(o)),_t(o))for(var s=10;s<o.length;s++){var a=o[s],u=a[1].firstChild;null!==u&&Qa(a[1],a,u,i)}var l=n.type;if(8&l)Qa(e,t,n.child,i);else if(32&l)for(var c=er(n,t),h=void 0;h=c();)i.push(h);else if(16&l){var f=_r(t,n);if(Array.isArray(f))i.push.apply(i,m(f));else{var d=tr(t[16]);Qa(d[1],d,f,i,!0)}}n=r?n.projectionNext:n.next}return i}var Ya=function(){function e(t,n){u(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return c(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return Qa(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(_t(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(ur(e,n),gi(t,n))}this._attachedToViewContainer=!1}lr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){ao(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){To(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){xo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){sn(!0);try{xo(e,t,n)}finally{sn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function(e,t){Sr(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Za=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this,e))._view=e,i}return c(n,[{key:"detectChanges",value:function(){Oo(this._view)}},{key:"checkNoChanges",value:function(){!function(e){sn(!0);try{Oo(e)}finally{sn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ya),$a=function(e){return function(e,t,n){if(wt(e)&&!n){var i=Ht(e.index,t);return new Ya(i,i)}return 47&e.type?new Ya(t[16],t):null}(Xt(),Zt(),16==(16&e))},Ja=function(){var e=function e(){u(this,e)};return e.__NG_ELEMENT_ID__=$a,e}(),Xa=[new Ua],eu=new Wa([new Pa]),tu=new Ga(Xa),nu=function(){return ou(Xt(),Zt())},iu=function(){var e=function e(){u(this,e)};return e.__NG_ELEMENT_ID__=nu,e}(),ru=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this))._declarationLView=e,o._declarationTContainer=i,o.elementRef=r,o}return c(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Yr(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Jr(t,n,e),new Ya(n)}}]),n}(iu);function ou(e,t){return 4&e.type?new ru(t,e,Ea(e,t)):null}var su=function e(){u(this,e)},au=function e(){u(this,e)},uu=function(){return du(Xt(),Zt())},lu=function(){var e=function e(){u(this,e)};return e.__NG_ELEMENT_ID__=uu,e}(),cu=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this))._lContainer=e,o._hostTNode=i,o._hostLView=r,o}return c(n,[{key:"element",get:function(){return Ea(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ri(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Kn(this._hostTNode,this._hostLView);if(Fn(e)){var t=jn(e,this._hostLView),n=Vn(e);return new ri(t[1].data[n+8],t)}return new ri(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=hu(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,r){var o=n||this.parentInjector;if(!r&&null==e.ngModule&&o){var s=o.get(su,null);s&&(r=s)}var a=e.create(o,i,void 0,r);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){var i=e._lView,r=i[1];if(function(e){return _t(e[3])}(i)){var o=this.indexOf(e);if(-1!==o)this.detach(o);else{var s=i[3],a=new n(s,s[6],s[3]);a.detach(a.indexOf(e))}}var u=this._adjustIndex(t),l=this._lContainer;!function(e,t,n,i){var r=10+i,o=n.length;i>0&&(n[r-1][4]=t),i<o-10?(t[4]=n[r],vi(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;var s=t[17];null!==s&&n!==s&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);var a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,i,l,u);var c=kr(u,l),h=i[11],f=vr(h,l[7]);return null!==f&&function(e,t,n,i,r,o){i[0]=r,i[6]=t,Sr(e,i,n,1,r,o)}(r,l[6],h,i,f,c),e.attachToViewContainerRef(),vi(fu(l),u,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=hu(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=ur(this._lContainer,t);n&&(gi(fu(this._lContainer),t),lr(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=ur(this._lContainer,t);return n&&null!=gi(fu(this._lContainer),t)?new Ya(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(lu);function hu(e){return e[8]}function fu(e){return e[8]||(e[8]=[])}function du(e,t){var n,i=t[e.index];if(_t(i))n=i;else{var r;if(8&e.type)r=Ft(i);else{var o=t[11];r=o.createComment("");var s=jt(e,t);fr(o,vr(o,s),r,function(e,t){return Lt(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=ko(i,t,r,e),Eo(t,n)}return new cu(n,e,t)}var pu={},vu=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this)).ngModule=e,i}return c(n,[{key:"resolveComponentFactory",value:function(e){var t=yt(e);return new mu(t,this.ngModule)}}]),n}(Sa);function gu(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var yu=new ci("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return $i}}),mu=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this)).componentDef=e,r.ngModule=i,r.componentType=e.type,r.selector=function(e){return e.map(Vr).join(",")}(e.selectors),r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!i,r}return c(n,[{key:"inputs",get:function(){return gu(this.componentDef.inputs)}},{key:"outputs",get:function(){return gu(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,i){var r,o,s=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,r){var o=e.get(n,pu,r);return o!==pu||i===pu?o:t.get(n,i,r)}}}(e,i.injector):e,a=s.get(Ia,Nt),u=s.get(Ra,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Lt(e))return e.selectRootElement(t,n===Qe.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(l,n,this.componentDef.encapsulation):sr(a.createRenderer(null,this.componentDef),c,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:$i,clean:Ao,playerHandler:null,flags:0},p=so(0,null,null,1,0,null,null,null,null,null),v=Yr(null,p,d,f,null,null,a,l,u,s);gn(v);try{var g=function(e,t,n,i,r,o){var s=n[1];n[20]=e;var a=Zr(s,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(Lo(a,u,!0),null!==e&&(Rn(r,e,u),null!==a.classes&&Tr(r,e,a.classes),null!==a.styles&&Er(r,e,a.styles)));var l=i.createRenderer(e,t),c=Yr(n,oo(t),null,t.onPush?64:16,n[20],a,i,l,null,null);return s.firstCreatePass&&(Gn(qn(a,n),s,t.type),po(s,a),go(a,n.length,1)),Eo(n,c),n[20]=c}(h,this.componentDef,v,a,l);if(h)if(n)Rn(l,h,["ng-version",Ma.full]);else{var y=function(e){for(var t=[],n=[],i=1,r=2;i<e.length;){var o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!Mr(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),m=y.attrs,b=y.classes;m&&Rn(l,h,m),b&&b.length>0&&Tr(l,h,b.join(" "))}if(o=Bt(p,20),void 0!==t)for(var _=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var w=t[k];_.push(null!=w?Array.from(w):null)}r=function(e,t,n,i,r){var o=n[1],s=function(e,t,n){var i=Xt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),yo(e,i,t,$r(e,t,1,null),n));var r=ti(t,e,i.directiveStart,i);Ki(r,t);var o=jt(i,t);return o&&Ki(o,t),r}(o,n,t);if(i.components.push(s),e[8]=s,r&&r.forEach(function(e){return e(s,t)}),t.contentQueries){var a=Xt();t.contentQueries(1,s,a.directiveStart)}var u=Xt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Sn(u.index),ho(n[1],u,0,u.directiveStart,u.directiveEnd,t),fo(t,s)),s}(g,this.componentDef,v,d,[Jo]),Jr(p,v,null)}finally{kn()}return new bu(this.componentType,r,Ea(o,v),v,o)}}]),n}(ka),bu=function(e){h(n,e);var t=d(n);function n(e,i,r,o,s){var a;return u(this,n),(a=t.call(this)).location=r,a._rootLView=o,a._tNode=s,a.instance=i,a.hostView=a.changeDetectorRef=new Za(o),a.componentType=e,a}return c(n,[{key:"injector",get:function(){return new ri(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return function e(){u(this,e)}}()),_u=new Map,ku=function(e){h(n,e);var t=d(n);function n(e,i){var r;u(this,n),(r=t.call(this))._parent=i,r._bootstrapComponents=[],r.injector=v(r),r.destroyCbs=[],r.componentFactoryResolver=new vu(v(r));var o=mt(e),s=function(e){return e[ot]||null}(e);return s&&fa(s),r._bootstrapComponents=Ji(o.bootstrap),r._r3Injector=qo(e,i,[{provide:su,useValue:v(r)},{provide:Sa,useValue:r.componentFactoryResolver}],Se(e)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(e),r}return c(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$o.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe.Default;return e===$o||e===su||e===Fo?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(su),wu=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this)).moduleType=e,null!==mt(e)&&function(e){var t=new Set;!function e(n){var i=mt(n,!0),r=i.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(Se(t)," vs ").concat(Se(t.name)))}(r,_u.get(r),n),_u.set(r,n));var o,s=a(Ji(i.imports));try{for(s.s();!(o=s.n()).done;){var u=o.value;t.has(u)||(t.add(u),e(u))}}catch(l){s.e(l)}finally{s.f()}}(e)}(e),i}return c(n,[{key:"create",value:function(e){return new ku(this.moduleType,e)}}]),n}(au);function Su(e,t,n){var i=an()+e,r=Zt();return r[i]===jr?ls(r,i,n?t.call(n):t()):cs(r,i)}function Cu(e,t,n,i){return Iu(Zt(),an(),e,t,n,i)}function Eu(e,t,n,i,r){return function(e,t,n,i,r,o,s){var a=t+n;return fs(e,a,r,o)?ls(e,a+2,s?i.call(s,r,o):i(r,o)):Ou(e,a+2)}(Zt(),an(),e,t,n,i,r)}function Tu(e,t,n,i,r,o){return function(e,t,n,i,r,o,s,a){var u=t+n;return function(e,t,n,i,r){var o=fs(e,t,n,i);return hs(e,t+2,r)||o}(e,u,r,o,s)?ls(e,u+3,a?i.call(a,r,o,s):i(r,o,s)):Ou(e,u+3)}(Zt(),an(),e,t,n,i,r,o)}function xu(e,t,n,i,r,o,s){return function(e,t,n,i,r,o,s,a,u){var l=t+n;return ds(e,l,r,o,s,a)?ls(e,l+4,u?i.call(u,r,o,s,a):i(r,o,s,a)):Ou(e,l+4)}(Zt(),an(),e,t,n,i,r,o,s)}function Ou(e,t){var n=e[t];return n===jr?void 0:n}function Iu(e,t,n,i,r,o){var s=t+n;return hs(e,s,r)?ls(e,s+1,o?i.call(o,r):i(r)):Ou(e,s+1)}function Au(e,t){var n,i=$t(),r=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n];if(e===i.name)return i}throw new Ie("302","The pipe '".concat(e,"' could not be found!"))}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var o=n.factory||(n.factory=Tt(n.type)),s=ze(ys);try{var a=Un(!1),u=o();return Un(a),function(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(i,Zt(),r,u),u}finally{ze(s)}}function Du(e,t,n){var i=e+20,r=Zt(),o=Ut(r,i);return function(e,t){return ss.isWrapped(t)&&(t=ss.unwrap(t),e[Qt.lFrame.bindingIndex]=jr),t}(r,function(e,t){return e[1].data[t].pure}(r,i)?Iu(r,an(),t,o.transform,n,o):o.transform(n))}function Ru(e){return function(t){setTimeout(e,void 0,t)}}var Mu=function(e){h(n,e);var t=d(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u(this,n),(e=t.call(this)).__isAsync=i,e}return c(n,[{key:"emit",value:function(e){s(y(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,i){var r,o,a,u=e,l=t||function(){return null},c=i;if(e&&"object"==typeof e){var h=e;u=null===(r=h.next)||void 0===r?void 0:r.bind(h),l=null===(o=h.error)||void 0===o?void 0:o.bind(h),c=null===(a=h.complete)||void 0===a?void 0:a.bind(h)}this.__isAsync&&(l=Ru(l),u&&(u=Ru(u)),c&&(c=Ru(c)));var f=s(y(n.prototype),"subscribe",this).call(this,{next:u,error:l,complete:c});return e instanceof R&&e.add(f),f}}]),n}(z);function Pu(){return this._results[os()]()}var Lu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=os(),i=e.prototype;i[n]||(i[n]=Pu)}return c(e,[{key:"changes",get:function(){return this._changes||(this._changes=new Mu)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){var n=this;n.dirty=!1;var i=di(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++){var r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(n._results,i,t))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}();Symbol;var Nu=function(){function e(t){u(this,e),this.queryList=t,this.matches=null}return c(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Fu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];u(this,e),this.queries=t}return c(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new e(r)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==$u(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Vu=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u(this,e),this.predicate=t,this.flags=n,this.read=i},ju=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];u(this,e),this.queries=t}return c(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Bu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;u(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return c(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(e,t,Uu(t,r)),this.matchTNodeWithReadOption(e,t,ei(t,e,r,!1,!1))}else n===iu?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ei(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===xa||i===lu||i===iu&&4&t.type)this.addMatch(t.index,-2);else{var r=ei(t,e,i,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Uu(e,t){var n=e.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Hu(e,t,n,i){return-1===n?function(e,t){return 11&e.type?Ea(e,t):4&e.type?ou(e,t):null}(t,e):-2===n?function(e,t,n){return n===xa?Ea(t,e):n===iu?ou(t,e):n===lu?du(t,e):void 0}(e,t,i):ti(e,e[1],n,t)}function qu(e,t,n,i){var r=t[19].queries[i];if(null===r.matches){for(var o=e.data,s=n.matches,a=[],u=0;u<s.length;u+=2){var l=s[u];a.push(l<0?null:Hu(t,o[l],s[u+1],n.metadata.read))}r.matches=a}return r.matches}function zu(e,t,n,i){var r=e.queries.getByIndex(n),o=r.matches;if(null!==o)for(var s=qu(e,t,r,n),a=0;a<o.length;a+=2){var u=o[a];if(u>0)i.push(s[a/2]);else{for(var l=o[a+1],c=t[-u],h=10;h<c.length;h++){var f=c[h];f[17]===f[3]&&zu(f[1],f,l,i)}if(null!==c[9])for(var d=c[9],p=0;p<d.length;p++){var v=d[p];zu(v[1],v,l,i)}}}return i}function Wu(e){var t=Zt(),n=$t(),i=fn();dn(i+1);var r=$u(n,i);if(e.dirty&&qt(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{var o=r.crossesNgTemplate?zu(n,t,i,[]):qu(n,t,r,i);e.reset(o,Oa),e.notifyOnChanges()}return!0}return!1}function Ku(e,t,n){var i=$t();i.firstCreatePass&&(Zu(i,new Vu(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),Yu(i,Zt(),t)}function Gu(e,t,n,i){var r=$t();if(r.firstCreatePass){var o=Xt();Zu(r,new Vu(t,n,i),o.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}Yu(r,Zt(),n)}function Qu(){return function(e,t){return e[19].queries[t].queryList}(Zt(),fn())}function Yu(e,t,n){var i=new Lu(4==(4&n));ao(e,t,i,i.destroy),null===t[19]&&(t[19]=new Fu),t[19].queries.push(new Nu(i))}function Zu(e,t,n){null===e.queries&&(e.queries=new ju),e.queries.track(new Bu(t,n))}function $u(e,t){return e.queries.getByIndex(t)}function Ju(e,t){return ou(e,t)}var Xu=new ci("Application Initializer"),el=function(){var e=function(){function e(t){var n=this;u(this,e),this.appInits=t,this.resolve=Ca,this.reject=Ca,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return c(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=function(n){var i=e.appInits[n]();if(xs(i))t.push(i);else if(Is(i)){var r=new Promise(function(e,t){i.subscribe({complete:e,error:t})});t.push(r)}},r=0;r<this.appInits.length;r++)i(r);Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(Xu,8))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),tl=new ci("AppId"),nl={provide:tl,useFactory:function(){return"".concat(il()).concat(il()).concat(il())},deps:[]};function il(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var rl=new ci("Platform Initializer"),ol=new ci("Platform ID"),sl=new ci("appBootstrapListener"),al=function(){var e=function(){function e(){u(this,e)}return c(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),ul=new ci("LocaleId"),ll=new ci("DefaultCurrencyCode"),cl=function e(t,n){u(this,e),this.ngModuleFactory=t,this.componentFactories=n},hl=function(e){return new wu(e)},fl=hl,dl=function(e){return Promise.resolve(hl(e))},pl=function(e){var t=hl(e),n=Ji(mt(e).declarations).reduce(function(e,t){var n=yt(t);return n&&e.push(new mu(n)),e},[]);return new cl(t,n)},vl=pl,gl=function(e){return Promise.resolve(pl(e))},yl=function(){var e=function(){function e(){u(this,e),this.compileModuleSync=fl,this.compileModuleAsync=dl,this.compileModuleAndAllComponentsSync=vl,this.compileModuleAndAllComponentsAsync=gl}return c(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),ml=Promise.resolve(0);function bl(e){"undefined"==typeof Zone?ml.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var _l=function(){function e(t){var n=t.enableLongStackTrace,i=void 0!==n&&n,r=t.shouldCoalesceEventChangeDetection,o=void 0!==r&&r,s=t.shouldCoalesceRunChangeDetection,a=void 0!==s&&s;if(u(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mu(!1),this.onMicrotaskEmpty=new Mu(!1),this.onStable=new Mu(!1),this.onError=new Mu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&o,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){var e=Je.requestAnimationFrame,t=Je.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){var t=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Je,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Sl(e),e.isCheckStableRunning=!0,wl(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Sl(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,i,r,o,s,a){try{return Cl(e),n.invokeTask(r,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),El(e)}},onInvoke:function(n,i,r,o,s,a,u){try{return Cl(e),n.invoke(r,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),El(e)}},onHasTask:function(t,n,i,r){t.hasTask(i,r),n===i&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,Sl(e),wl(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,n,i,r){return t.handleError(i,r),e.runOutsideAngular(function(){return e.onError.emit(r)}),!1}})}(l)}return c(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,kl,Ca,Ca);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),kl={};function wl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Sl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Cl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function El(e){e._nesting--,wl(e)}var Tl,xl=function(){function e(){u(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mu,this.onMicrotaskEmpty=new Mu,this.onStable=new Mu,this.onError=new Mu}return c(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),Ol=function(){var e=function(){function e(t){var n=this;u(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return c(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){_l.assertNotInAngularZone(),bl(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())bl(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var i=this,r=-1;t&&t>0&&(r=setTimeout(function(){i._callbacks=i._callbacks.filter(function(e){return e.timeoutId!==r}),e(i._didWork,i.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(_l))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),Il=function(){var e=function(){function e(){u(this,e),this._applications=new Map,Al.addToWindow(this)}return c(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Al.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),Al=new(function(){function e(){u(this,e)}return c(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Dl=!0,Rl=!1,Ml=new ci("AllowMultipleToken"),Pl=function e(t,n){u(this,e),this.name=t,this.token=n};function Ll(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(t),r=new ci(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Nl();if(!o||o.injector.get(Ml,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var s=n.concat(t).concat({provide:r,useValue:!0},{provide:jo,useValue:"platform"});!function(e){if(Tl&&!Tl.destroyed&&!Tl.injector.get(Ml,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tl=e.get(Fl);var t=e.get(rl,null);t&&t.forEach(function(e){return e()})}($o.create({providers:s,name:i}))}return function(e){var t=Nl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Nl(){return Tl&&!Tl.destroyed?Tl:null}var Fl=function(){var e=function(){function e(t){u(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return c(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n=this,i=function(e,t){return"noop"===e?new xl:("zone.js"===e?void 0:e)||new _l({enableLongStackTrace:(Rl=!0,Dl),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)})}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:_l,useValue:i}];return i.run(function(){var o=$o.create({providers:r,parent:n.injector,name:e.moduleType.name}),s=e.create(o),a=s.injector.get(Zi,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.runOutsideAngular(function(){var e=i.onError.subscribe({next:function(e){a.handleError(e)}});s.onDestroy(function(){Bl(n._modules,s),e.unsubscribe()})}),function(e,i,r){try{var o=((a=s.injector.get(el)).runInitializers(),a.donePromise.then(function(){return fa(s.injector.get(ul,ha)||ha),n._moduleDoBootstrap(s),s}));return xs(o)?o.catch(function(t){throw i.runOutsideAngular(function(){return e.handleError(t)}),t}):o}catch(t){throw i.runOutsideAngular(function(){return e.handleError(t)}),t}var a}(a,i)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Vl({},n);return function(e,t,n){var i=new wu(n);return Promise.resolve(i)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,i)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(jl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(Se(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai($o))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}();function Vl(e,t){return Array.isArray(t)?t.reduce(Vl,e):Object.assign(Object.assign({},e),t)}var jl=function(){var e=function(){function e(t,n,i,r,o){var s=this;u(this,e),this._zone=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var a=new j(function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){e.next(s._stable),e.complete()})}),l=new j(function(e){var t;s._zone.runOutsideAngular(function(){t=s._zone.onStable.subscribe(function(){_l.assertNotInAngularZone(),bl(function(){!s._stable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks&&(s._stable=!0,e.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){_l.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=he(a,l.pipe(function(e){return fe()(me(_e)(e))}))}return c(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof ka?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(su),o=n.create($o.NULL,[],t||n.selector,r),s=o.location.nativeElement,a=o.injector.get(Ol,null),u=a&&o.injector.get(Il);return a&&u&&u.registerApplication(s,a),o.onDestroy(function(){i.detachView(o.hostView),Bl(i.components,o),u&&u.unregisterApplication(s)}),this._loadComponent(o),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=a(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Bl(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(sl,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(_l),Ai($o),Ai(Zi),Ai(Sa),Ai(el))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}();function Bl(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Ul=function e(){u(this,e)},Hl=function e(){u(this,e)},ql={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},zl=function(){var e=function(){function e(t,n){u(this,e),this._compiler=t,this._config=n||ql}return c(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var n=this,i=t(e.split("#"),2),r=i[0],o=i[1];return void 0===o&&(o="default"),g(8255)(r).then(function(e){return e[o]}).then(function(e){return Wl(e,r,o)}).then(function(e){return n._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var n=t(e.split("#"),2),i=n[0],r=n[1],o="NgFactory";return void 0===r&&(r="default",o=""),g(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(e){return e[r+o]}).then(function(e){return Wl(e,i,r)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(yl),Ai(Hl,8))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}();function Wl(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Kl=Ll(null,"core",[{provide:ol,useValue:"unknown"},{provide:Fl,deps:[$o]},{provide:Il,deps:[]},{provide:al,deps:[]}]),Gl=[{provide:jl,useClass:jl,deps:[_l,$o,Zi,Sa,el]},{provide:yu,deps:[_l],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:el,useClass:el,deps:[[new Fi,Xu]]},{provide:yl,useClass:yl,deps:[]},nl,{provide:Wa,useFactory:function(){return eu},deps:[]},{provide:Ga,useFactory:function(){return tu},deps:[]},{provide:ul,useFactory:function(e){return fa(e=e||"undefined"!=typeof $localize&&$localize.locale||ha),e},deps:[[new Ni(ul),new Fi,new Vi]]},{provide:ll,useValue:"USD"}],Ql=function(){var e=function e(t){u(this,e)};return e.\u0275fac=function(t){return new(t||e)(Ai(jl))},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({providers:Gl}),e}(),Yl=null;function Zl(){return Yl}var $l=new ci("DocumentToken"),Jl=function(){var e=function(){function e(){u(this,e)}return c(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({factory:Xl,token:e,providedIn:"platform"}),e}();function Xl(){return Ai(tc)}var ec=new ci("Location Initialized"),tc=function(){var e=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this))._doc=e,i._init(),i}return c(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return Zl().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){var t=Zl().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),function(){return t.removeEventListener("popstate",e)}}},{key:"onHashChange",value:function(e){var t=Zl().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),function(){return t.removeEventListener("hashchange",e)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){nc()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){nc()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(e)}},{key:"getState",value:function(){return this._history.state}}]),n}(Jl);return e.\u0275fac=function(t){return new(t||e)(Ai($l))},e.\u0275prov=Me({factory:ic,token:e,providedIn:"platform"}),e}();function nc(){return!!window.history.pushState}function ic(){return new tc(Ai($l))}function rc(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function oc(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function sc(e){return e&&"?"!==e[0]?"?"+e:e}var ac=function(){var e=function(){function e(){u(this,e)}return c(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({factory:uc,token:e,providedIn:"root"}),e}();function uc(e){var t=Ai($l).location;return new cc(Ai(Jl),t&&t.origin||"")}var lc=new ci("appBaseHref"),cc=function(){var e=function(e){h(n,e);var t=d(n);function n(e,i){var r;if(u(this,n),(r=t.call(this))._platformLocation=e,r._removeListenerFns=[],null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,p(r)}return c(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return rc(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+sc(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+sc(i));this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+sc(i));this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(ac);return e.\u0275fac=function(t){return new(t||e)(Ai(Jl),Ai(lc,8))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),hc=function(){var e=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this))._platformLocation=e,r._baseHref="",r._removeListenerFns=[],null!=i&&(r._baseHref=i),r}return c(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=rc(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+sc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+sc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(ac);return e.\u0275fac=function(t){return new(t||e)(Ai(Jl),Ai(lc,8))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),fc=function(){var e=function(){function e(t,n){var i=this;u(this,e),this._subject=new Mu,this._urlChangeListeners=[],this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=oc(pc(r)),this._platformStrategy.onPopState(function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})})}return c(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+sc(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,pc(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sc(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sc(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformStrategy).historyGo)||void 0===t||t.call(e,n)}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(ac),Ai(Jl))},e.normalizeQueryParams=sc,e.joinWithSlash=rc,e.stripTrailingSlash=oc,e.\u0275prov=Me({factory:dc,token:e,providedIn:"root"}),e}();function dc(){return new fc(Ai(ac),Ai(Jl))}function pc(e){return e.replace(/\/index.html$/,"")}var vc=((vc=vc||{})[vc.Zero=0]="Zero",vc[vc.One=1]="One",vc[vc.Two=2]="Two",vc[vc.Few=3]="Few",vc[vc.Many=4]="Many",vc[vc.Other=5]="Other",vc),gc=function e(){u(this,e)},yc=function(){var e=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this)).locale=e,i}return c(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=la(t);if(n)return n;var i=t.split("-")[0];if(n=la(i))return n;if("en"===i)return aa;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[ca.PluralCase]}(t||this.locale)(e)){case vc.Zero:return"zero";case vc.One:return"one";case vc.Two:return"two";case vc.Few:return"few";case vc.Many:return"many";default:return"other"}}}]),n}(gc);return e.\u0275fac=function(t){return new(t||e)(Ai(ul))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),mc=function(){var e=function(){function e(t,n,i,r){u(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return c(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(as(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Se(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Wa),ys(Ga),ys(xa),ys(Aa))},e.\u0275dir=vt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),bc=function(){function e(t,n,i,r){u(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}return c(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),_c=function(){var e=function(){function e(t,n,i){u(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return c(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'. NgFor only supports binding to Iterables such as Arrays."))}}if(this._differ){var t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,i,r){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new bc(null,t._ngForOf,-1,-1),null===r?void 0:r),s=new kc(e,o);n.push(s)}else if(null==r)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var a=t._viewContainer.get(i);t._viewContainer.move(a,r);var u=new kc(e,a);n.push(u)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var s=this._viewContainer.get(r);s.context.index=r,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(lu),ys(iu),ys(Wa))},e.\u0275dir=vt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),kc=function e(t,n){u(this,e),this.record=t,this.view=n},wc=function(){var e=function(){function e(t,n){u(this,e),this._viewContainer=t,this._context=new Sc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return c(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Cc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Cc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(lu),ys(iu))},e.\u0275dir=vt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),Sc=function e(){u(this,e),this.$implicit=null,this.ngIf=null};function Cc(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Se(t),"'."))}var Ec=function(){var e=function(){function e(t,n,i){u(this,e),this._ngEl=t,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return c(e,[{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,n){var i=t(e.split("."),2),r=i[0],o=i[1];null!=(n=null!=n&&o?"".concat(n).concat(o):n)?this._renderer.setStyle(this._ngEl.nativeElement,r,n):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(xa),ys(Ga),ys(Aa))},e.\u0275dir=vt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),Tc=function(){var e=function(){function e(t){u(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return c(e,[{key:"ngOnChanges",value:function(e){if(e.ngTemplateOutlet){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(lu))},e.\u0275dir=vt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ot]}),e}(),xc=function(){function e(){u(this,e)}return c(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Oc=new(function(){function e(){u(this,e)}return c(e,[{key:"createSubscription",value:function(e,t){return e.then(t,function(e){throw e})}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Ic=new xc,Ac=function(){var e=function(){function e(t){u(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return c(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})}},{key:"_selectStrategy",value:function(t){if(xs(t))return Oc;if(Os(t))return Ic;throw function(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Se(e),"'"))}(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Ja,16))},e.\u0275pipe=gt({name:"async",type:e,pure:!1}),e}(),Dc=function(){var e=function(){function e(t){u(this,e),this.differs=t,this.keyValues=[],this.compareFn=Rc}return c(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rc;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var i=this.differ.diff(e),r=n!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(function(e){t.keyValues.push(function(e,t){return{key:e,value:t}}(e.key,e.currentValue))})),(i||r)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Ga,16))},e.\u0275pipe=gt({name:"keyvalue",type:e,pure:!1}),e}();function Rc(e,t){var n=e.key,i=t.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;var r=String(n),o=String(i);return r==o?0:r<o?-1:1}var Mc=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({providers:[{provide:gc,useClass:yc}]}),e}(),Pc="browser";function Lc(e){return e===Pc}var Nc=function(){var e=function e(){u(this,e)};return e.\u0275prov=Me({token:e,providedIn:"root",factory:function(){return new Fc(Ai($l),window)}}),e}(),Fc=function(){function e(t,n){u(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return c(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;r;){var o=r.shadowRoot;if(o){var s=o.getElementById(t)||o.querySelector('[name="'.concat(t,'"]'));if(s)return s}r=i.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=Vc(this.window.history)||Vc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(l){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(l){return!1}}}]),e}();function Vc(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var jc,Bc=function(e){h(i,e);var n=d(i);function i(){return u(this,i),n.apply(this,arguments)}return c(i,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=(Uc=Uc||document.querySelector("base"))?Uc.getAttribute("href"):null;return null==t?null:function(e){(jc=jc||document.createElement("a")).setAttribute("href",e);var t=jc.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){Uc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return function(e,n){n=encodeURIComponent(n);var i,r=a(e.split(";"));try{for(r.s();!(i=r.n()).done;){var o=i.value,s=o.indexOf("="),u=t(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),l=u[0],c=u[1];if(l.trim()===n)return decodeURIComponent(c)}}catch(h){r.e(h)}finally{r.f()}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){!function(e){Yl||(Yl=e)}(new i)}}]),i}(function(e){h(n,e);var t=d(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).supportsDOMEvents=!0,e}return n}(function(){return function e(){u(this,e)}}())),Uc=null,Hc=new ci("TRANSITION_ID"),qc=[{provide:Xu,useFactory:function(e,t,n){return function(){n.get(el).donePromise.then(function(){for(var n=Zl(),i=t.querySelectorAll('style[ng-transition="'.concat(e,'"]')),r=0;r<i.length;r++)n.remove(i[r])})}},deps:[Hc,$l,$o],multi:!0}],zc=function(){function e(){u(this,e)}return c(e,[{key:"addToWindow",value:function(e){Je.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Je.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Je.getAllAngularRootElements=function(){return e.getAllRootElements()},Je.frameworkStabilizers||(Je.frameworkStabilizers=[]),Je.frameworkStabilizers.push(function(e){var t=Je.getAllAngularTestabilities(),n=t.length,i=!1,r=function(t){i=i||t,0==--n&&e(i)};t.forEach(function(e){e.whenStable(r)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Zl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){!function(e){Al=e}(new e)}}]),e}(),Wc=function(){var e=function(){function e(){u(this,e)}return c(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),Kc=new ci("EventManagerPlugins"),Gc=function(){var e=function(){function e(t,n){var i=this;u(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=i}),this._plugins=t.slice().reverse()}return c(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(Kc),Ai(_l))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),Qc=function(){function e(t){u(this,e),this._doc=t}return c(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=Zl().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),Yc=function(){var e=function(){function e(){u(this,e),this._stylesSet=new Set}return c(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),Zc=function(){var e=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this))._doc=e,i._hostNodes=new Map,i._hostNodes.set(e.head,[]),i}return c(n,[{key:"_addStylesToHost",value:function(e,t,n){var i=this;e.forEach(function(e){var r=i._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach($c),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,i){t._addStylesToHost(e,i,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach($c)})}}]),n}(Yc);return e.\u0275fac=function(t){return new(t||e)(Ai($l))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}();function $c(e){Zl().remove(e)}var Jc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xc=/%COMP%/g;function eh(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?eh(e,r,n):(r=r.replace(Xc,e),n.push(r))}return n}function th(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var nh=function(){var e=function(){function e(t,n,i){u(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ih(t)}return c(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Qe.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new rh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case Qe.ShadowDom:return new oh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=eh(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(Gc),Ai(Zc),Ai(tl))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),ih=function(){function e(t){u(this,e),this.eventManager=t,this.data=Object.create(null)}return c(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Jc[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var r=Jc[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=Jc[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&(Xi.DashCase|Xi.Important)?e.style.setProperty(t,n,i&Xi.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&Xi.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,th(n)):this.eventManager.addEventListener(e,t,th(n))}}]),e}(),rh=function(e){h(n,e);var t=d(n);function n(e,i,r,o){var s;u(this,n),(s=t.call(this,e)).component=r;var a=eh(o+"-"+r.id,r.styles,[]);return i.addStyles(a),s.contentAttr=function(e){return"_ngcontent-%COMP%".replace(Xc,e)}(o+"-"+r.id),s.hostAttr=function(e){return"_nghost-%COMP%".replace(Xc,e)}(o+"-"+r.id),s}return c(n,[{key:"applyToHost",value:function(e){s(y(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var i=s(y(n.prototype),"createElement",this).call(this,e,t);return s(y(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(ih),oh=function(e){h(n,e);var t=d(n);function n(e,i,r,o){var s;u(this,n),(s=t.call(this,e)).sharedStylesHost=i,s.hostEl=r,s.shadowRoot=r.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=eh(o.id,o.styles,[]),l=0;l<a.length;l++){var c=document.createElement("style");c.textContent=a[l],s.shadowRoot.appendChild(c)}return s}return c(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return s(y(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,i){return s(y(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,i)}},{key:"removeChild",value:function(e,t){return s(y(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(s(y(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(ih),sh=function(){var e=function(e){h(n,e);var t=d(n);function n(e){return u(this,n),t.call(this,e)}return c(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Qc);return e.\u0275fac=function(t){return new(t||e)(Ai($l))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),ah=["alt","control","meta","shift"],uh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ch={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},hh=function(){var e=function(e){h(n,e);var t=d(n);function n(e){return u(this,n),t.call(this,e)}return c(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var r=n.parseEventName(t),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Zl().onAndCancel(e,r.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(t.pop()),o="";if(ah.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=r,0!=t.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&lh.hasOwnProperty(t)&&(t=lh[t]))}return uh[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ah.forEach(function(i){i!=n&&ch[i](e)&&(t+=i+".")}),t+=n}},{key:"eventCallback",value:function(e,t,i){return function(r){n.getEventFullKey(r)===e&&i.runGuarded(function(){return t(r)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Qc);return e.\u0275fac=function(t){return new(t||e)(Ai($l))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),fh=Ll(Kl,"browser",[{provide:ol,useValue:Pc},{provide:rl,useValue:function(){Bc.makeCurrent(),zc.init()},multi:!0},{provide:$l,useFactory:function(){return function(e){Rt=e}(document),document},deps:[]}]),dh=[[],{provide:jo,useValue:"root"},{provide:Zi,useFactory:function(){return new Zi},deps:[]},{provide:Kc,useClass:sh,multi:!0,deps:[$l,_l,ol]},{provide:Kc,useClass:hh,multi:!0,deps:[$l]},[],{provide:nh,useClass:nh,deps:[Gc,Zc,tl]},{provide:Ia,useExisting:nh},{provide:Yc,useExisting:Zc},{provide:Zc,useClass:Zc,deps:[$l]},{provide:Ol,useClass:Ol,deps:[_l]},{provide:Gc,useClass:Gc,deps:[Kc,_l]},{provide:function e(){u(this,e)},useClass:Wc,deps:[]},[]],ph=function(){var e=function(){function e(t){if(u(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return c(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:tl,useValue:t.appId},{provide:Hc,useExisting:tl},qc]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(e,12))},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({providers:dh,imports:[Mc,Ql]}),e}();function vh(){return new gh(Ai($l))}var gh=function(){var e=function(){function e(t){u(this,e),this._doc=t}return c(e,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(e){this._doc.title=e||""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai($l))},e.\u0275prov=Me({factory:vh,token:e,providedIn:"root"}),e}();"undefined"!=typeof window&&window;var yh=function e(){u(this,e)},mh="*";function bh(e,t){return{type:7,name:e,definitions:t,options:{}}}function _h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function kh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function wh(e){return{type:6,styles:e,offset:null}}function Sh(e,t,n){return{type:0,name:e,styles:t,options:n}}function Ch(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function Eh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:8,animation:e,options:t}}function Th(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:10,animation:e,options:t}}function xh(e){Promise.resolve(null).then(e)}var Oh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return c(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;xh(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Ih=function(){function e(t){var n=this;u(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,r=0,o=0,s=this.players.length;0==s?xh(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++i==s&&n._onFinish()}),e.onDestroy(function(){++r==s&&n._onDestroy()}),e.onStart(function(){++o==s&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return c(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}();function Ah(){return"undefined"!=typeof window&&void 0!==window.document}function Dh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Rh(e){switch(e.length){case 0:return new Oh;case 1:return e[0];default:return new Ih(e)}}function Mh(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,l=null;if(i.forEach(function(e){var n=e.offset,i=n==u,c=i&&l||{};Object.keys(e).forEach(function(n){var i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,s),a){case"!":a=r[n];break;case mh:a=o[n];break;default:a=t.normalizeStyleValue(n,i,a,s)}c[i]=a}),i||a.push(c),l=c,u=n}),s.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(s.join(c)))}return a}function Ph(e,t,n,i){switch(t){case"start":e.onStart(function(){return i(n&&Lh(n,"start",e))});break;case"done":e.onDone(function(){return i(n&&Lh(n,"done",e))});break;case"destroy":e.onDestroy(function(){return i(n&&Lh(n,"destroy",e))})}}function Lh(e,t,n){var i=n.totalTime,r=Nh(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),o=e._data;return null!=o&&(r._data=o),r}function Nh(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Fh(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function Vh(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var jh=function(e,t){return!1},Bh=function(e,t){return!1},Uh=function(e,t,n){return[]},Hh=Dh();(Hh||"undefined"!=typeof Element)&&(jh=Ah()?function(e,t){for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:function(e,t){return e.contains(t)},Bh=function(){if(Hh||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Bh}(),Uh=function(e,t,n){var i=[];if(n)for(var r=e.querySelectorAll(t),o=0;o<r.length;o++)i.push(r[o]);else{var s=e.querySelector(t);s&&i.push(s)}return i});var qh=null,zh=!1;function Wh(e){qh||(qh=("undefined"!=typeof document?document.body:null)||{},zh=!!qh.style&&"WebkitAppearance"in qh.style);var t=!0;return qh.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in qh.style)&&zh&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in qh.style)),t}var Kh=Bh,Gh=jh,Qh=Uh;function Yh(e){var t={};return Object.keys(e).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}var Zh=function(){var e=function(){function e(){u(this,e)}return c(e,[{key:"validateStyleProperty",value:function(e){return Wh(e)}},{key:"matchesElement",value:function(e,t){return Kh(e,t)}},{key:"containsElement",value:function(e,t){return Gh(e,t)}},{key:"query",value:function(e,t,n){return Qh(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,r){return new Oh(n,i)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),$h=function(){var e=function e(){u(this,e)};return e.NOOP=new Zh,e}(),Jh="ng-enter",Xh="ng-leave",ef="ng-trigger",tf=".ng-trigger",nf="ng-animating",rf=".ng-animating";function of(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:sf(parseFloat(t[1]),t[2])}function sf(e,t){switch(t){case"s":return 1e3*e;default:return e}}function af(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,r=0,o="";if("string"==typeof e){var s=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=sf(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(r=sf(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else i=e;if(!n){var l=!1,c=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(e,t,n)}function uf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function lf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else uf(e,n);return n}function cf(e,t,n){return n?t+":"+n+";":""}function hf(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=cf(0,i,e.style.getPropertyValue(i))}for(var r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=cf(0,kf(r),e.style[r]));e.setAttribute("style",t)}function ff(e,t,n){e.style&&(Object.keys(t).forEach(function(i){var r=_f(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]}),Dh()&&hf(e))}function df(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=_f(t);e.style[n]=""}),Dh()&&hf(e))}function pf(e){return Array.isArray(e)?1==e.length?e[0]:kh(e):e}var vf=new RegExp("{{\\s*(.+?)\\s*}}","g");function gf(e){var t=[];if("string"==typeof e){for(var n;n=vf.exec(e);)t.push(n[1]);vf.lastIndex=0}return t}function yf(e,t,n){var i=e.toString(),r=i.replace(vf,function(e,i){var r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()});return r==i?e:r}function mf(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var bf=/-+([a-z0-9])/g;function _f(e){return e.replace(bf,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function kf(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wf(e,t){return 0===e||0===t}function Sf(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var r=t[0],o=[];if(i.forEach(function(e){r.hasOwnProperty(e)||o.push(e),r[e]=n[e]}),o.length)for(var s=function(){var n=t[a];o.forEach(function(t){n[t]=Ef(e,t)})},a=1;a<t.length;a++)s()}return t}function Cf(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function Ef(e,t){return window.getComputedStyle(e)[t]}function Tf(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=r[1],s=r[2],a=r[3];t.push(If(o,a)),"<"==s[0]&&("*"!=o||"*"!=a)&&t.push(If(a,o))}(e,n,t)}):n.push(e),n}var xf=new Set(["true","1"]),Of=new Set(["false","0"]);function If(e,t){var n=xf.has(e)||Of.has(e),i=xf.has(t)||Of.has(t);return function(r,o){var s="*"==e||e==r,a="*"==t||t==o;return!s&&n&&"boolean"==typeof r&&(s=r?xf.has(e):Of.has(e)),!a&&i&&"boolean"==typeof o&&(a=o?xf.has(t):Of.has(t)),s&&a}}var Af=new RegExp("s*:selfs*,?","g");function Df(e,t,n){return new Rf(e).build(t,n)}var Rf=function(){function e(t){u(this,e),this._driver=t}return c(e,[{key:"build",value:function(e,t){var n=new Mf(t);return this._resetContextStyleTimingState(n),Cf(this,pf(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var a=e,u=a.name;u.toString().split(/\s*,\s*/).forEach(function(e){a.name=e,o.push(n.visitState(a,t))}),a.name=u}else if(1==e.type){var l=n.visitTransition(e,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach(function(e){if(Pf(e)){var t=e;Object.keys(t).forEach(function(e){gf(t[e]).forEach(function(e){o.hasOwnProperty(e)||r.add(e)})})}}),r.size){var s=mf(r.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n=Cf(this,pf(e.animation),t);return{type:1,matchers:Tf(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Lf(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return Cf(n,e,t)}),options:Lf(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,r=0,o=e.steps.map(function(e){t.currentTime=i;var o=Cf(n,e,t);return r=Math.max(r,t.currentTime),o});return t.currentTime=r,{type:3,steps:o,options:Lf(e.options)}}},{key:"visitAnimate",value:function(e,t){var n=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Nf(af(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var r=Nf(0,0,"");return r.dynamic=!0,r.strValue=i,r}return Nf((n=n||af(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;var i,r=e.styles?e.styles:wh({});if(5==r.type)i=this.visitKeyframes(r,t);else{var o=e.styles,s=!1;if(!o){s=!0;var a={};n.easing&&(a.easing=n.easing),o=wh(a)}t.currentTime+=n.duration+n.delay;var u=this.visitStyle(o,t);u.isEmptyStep=s,i=u}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==mh?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var i=!1,r=null;return n.forEach(function(e){if(Pf(e)){var t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(var o in t)if(t[o].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(i){if(n._driver.validateStyleProperty(i)){var s=t.collectedStyles[t.currentQuerySelector],a=s[i],u=!0;a&&(o!=r&&o>=a.startTime&&r<=a.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(a.startTime,'ms" and "').concat(a.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),u=!1),o=a.startTime),u&&(s[i]={startTime:o,endTime:r}),t.options&&function(e,t,n){var i=t.params||{},r=gf(e);r.length&&r.forEach(function(e){i.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})}(e[i],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],s=!1,a=!1,u=0,l=e.steps.map(function(e){var i=n._makeStyleAst(e,t),l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(Pf(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(Pf(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),c=0;return null!=l&&(r++,c=i.offset=l),a=a||c<0||c>1,s=s||c<u,u=c,o.push(c),i});a&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var f=c-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return l.forEach(function(e,r){var s=h>0?r==f?1:h*r:o[r],a=s*v;t.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(e,t),e.offset=s,i.styles.push(e)}),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:Cf(this,pf(e.animation),t),options:Lf(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Lf(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Lf(e.options)}}},{key:"visitQuery",value:function(e,n){var i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;var o=t(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(Af,"")),[e=e.replace(/@\*/g,tf).replace(/@\w+/g,function(e){return tf+"-"+e.substr(1)}).replace(/:animating/g,rf),t]}(e.selector),2),s=o[0],a=o[1];n.currentQuerySelector=i.length?i+" "+s:s,Fh(n.collectedStyles,n.currentQuerySelector,{});var u=Cf(this,pf(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:e.selector,options:Lf(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:af(e.timings,t.errors,!0);return{type:12,animation:Cf(this,pf(e.animation),t),timings:n,options:null}}}]),e}(),Mf=function e(t){u(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Pf(e){return!Array.isArray(e)&&"object"==typeof e}function Lf(e){return e?(e=uf(e)).params&&(e.params=function(e){return e?uf(e):null}(e.params)):e={},e}function Nf(e,t,n){return{duration:e,delay:t,easing:n}}function Ff(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Vf=function(){function e(){u(this,e),this._map=new Map}return c(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,i=this._map.get(e);i||this._map.set(e,i=[]),(n=i).push.apply(n,m(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),jf=new RegExp(":enter","g"),Bf=new RegExp(":leave","g");function Uf(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Hf).buildKeyframes(e,t,n,i,r,o,s,a,u,l)}var Hf=function(){function e(){u(this,e)}return c(e,[{key:"buildKeyframes",value:function(e,t,n,i,r,o,s,a,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Vf;var c=new zf(e,t,u,i,r,l,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),Cf(this,n,c);var h=c.timelines.filter(function(e){return e.containsAnimation()});if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,c.errors,a)}return h.length?h.map(function(e){return e.buildKeyframes()}):[Ff(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,r=null!=n.duration?of(n.duration):null,o=null!=n.delay?of(n.delay):null;return 0!==r&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,r,o);i=Math.max(i,n.duration+n.delay)}),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Cf(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&((r=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=qf);var s=of(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(function(e){return Cf(n,e,r)}),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?of(e.options.delay):0;e.steps.forEach(function(s){var a=t.createSubContext(e.options);o&&a.delayNextStep(o),Cf(n,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(r),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return af(t.params?yf(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(function(e){o.forwardTime((e.offset||0)*r),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(i+r),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?of(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=qf);var s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;var u=null;a.forEach(function(i,r){t.currentQueryIndex=r;var a=t.createSubContext(e.options,i);o&&a.delayNextStep(o),i===t.element&&(u=a.currentTimeline),Cf(n,e.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),s=o*(t.currentQueryTotal-1),a=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=t.currentTimeline;a&&u.delayNextStep(a);var l=u.currentTime;Cf(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}]),e}(),qf={},zf=function(){function e(t,n,i,r,o,s,a,l){u(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Wf(this._driver,n,0),a.push(this.currentTimeline)}return c(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,r=this.options;null!=i.duration&&(r.duration=of(i.duration)),null!=i.delay&&(r.delay=of(i.delay));var o=i.params;if(o){var s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(function(e){(!t||!s.hasOwnProperty(e))&&(s[e]=yf(o[e],s,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=qf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new Kf(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,i,r,o){var s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(jf,"."+this._enterClassName)).replace(Bf,"."+this._leaveClassName);var a=this._driver.query(this.element,e,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,m(a))}return!r&&0==s.length&&o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}}]),e}(),Wf=function(){function e(t,n,i,r){u(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return c(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||mh,t._currentKeyframe[e]=mh}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var r=this;t&&(this._previousKeyframe.easing=t);var o=i&&i.params||{},s=function(e,t){var n,i={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){i[e]=mh}):lf(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(s).forEach(function(e){var t=yf(s[e],o,n);r._pendingStyles[e]=t,r._localTimelineStyles.hasOwnProperty(e)||(r._backFill[e]=r._globalTimelineStyles.hasOwnProperty(e)?r._globalTimelineStyles[e]:mh),r._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var i=t._styleSummary[n],r=e._styleSummary[n];(!i||r.time>i.time)&&t._updateStyle(n,r.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach(function(o,s){var a=lf(o,!0);Object.keys(a).forEach(function(e){var i=a[e];"!"==i?t.add(e):i==mh&&n.add(e)}),i||(a.offset=s/e.duration),r.push(a)});var o=t.size?mf(t.values()):[],s=n.size?mf(n.values()):[];if(i){var a=r[0],u=uf(a);a.offset=0,u.offset=1,r=[a,u]}return Ff(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}]),e}(),Kf=function(e){h(n,e);var t=d(n);function n(e,i,r,o,s,a){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return u(this,n),(l=t.call(this,e,i,a.delay)).keyframes=r,l.preStyleProps=o,l.postStyleProps=s,l._stretchStartingKeyframe=c,l.timings={duration:a.duration,delay:a.delay,easing:a.easing},l}return c(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,r=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=i+n,a=n/s,u=lf(e[0],!1);u.offset=0,o.push(u);var l=lf(e[0],!1);l.offset=Gf(a),o.push(l);for(var c=e.length-1,h=1;h<=c;h++){var f=lf(e[h],!1);f.offset=Gf((n+f.offset*i)/s),o.push(f)}i=s,n=0,r="",e=o}return Ff(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(Wf);function Gf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Qf=function e(){u(this,e)},Yf=function(e){h(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"normalizePropertyName",value:function(e,t){return _f(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var r="",o=n.toString().trim();if(Zf[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+r}}]),n}(Qf),Zf=function(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function $f(e,t,n,i,r,o,s,a,u,l,c,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var Jf={},Xf=function(){function e(t,n,i){u(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return c(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,r){return e.some(function(e){return e(t,n,i,r)})}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],r=this._stateStyles[e],o=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,i,r,o,s,a,u,l){var c=[],h=this.ast.options&&this.ast.options.params||Jf,f=this.buildStyles(n,s&&s.params||Jf,c),d=a&&a.params||Jf,p=this.buildStyles(i,d,c),v=new Set,g=new Map,y=new Map,m="void"===i,b={params:Object.assign(Object.assign({},h),d)},_=l?[]:Uf(e,t,this.ast.animation,r,o,f,p,b,u,c),k=0;if(_.forEach(function(e){k=Math.max(e.duration+e.delay,k)}),c.length)return $f(t,this._triggerName,n,i,m,f,p,[],[],g,y,k,c);_.forEach(function(e){var n=e.element,i=Fh(g,n,{});e.preStyleProps.forEach(function(e){return i[e]=!0});var r=Fh(y,n,{});e.postStyleProps.forEach(function(e){return r[e]=!0}),n!==t&&v.add(n)});var w=mf(v.values());return $f(t,this._triggerName,n,i,m,f,p,_,w,g,y,k)}}]),e}(),ed=function(){function e(t,n,i){u(this,e),this.styles=t,this.defaultParams=n,this.normalizer=i}return c(e,[{key:"buildStyles",value:function(e,t){var n=this,i={},r=uf(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var o=e;Object.keys(o).forEach(function(e){var s=o[e];s.length>1&&(s=yf(s,r,t));var a=n.normalizer.normalizePropertyName(e,t);s=n.normalizer.normalizeStyleValue(e,a,s,t),i[a]=s})}}),i}}]),e}(),td=function(){function e(t,n,i){var r=this;u(this,e),this.name=t,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states={},n.states.forEach(function(e){r.states[e.name]=new ed(e.style,e.options&&e.options.params||{},i)}),nd(this.states,"true","1"),nd(this.states,"false","0"),n.transitions.forEach(function(e){r.transitionFactories.push(new Xf(t,e,r.states))}),this.fallbackTransition=function(e,t,n){return new Xf(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},t)}(t,this.states)}return c(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find(function(r){return r.match(e,t,n,i)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function nd(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var id=new Vf,rd=function(){function e(t,n,i){u(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return c(e,[{key:"register",value:function(e,t){var n=[],i=Df(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,r=Mh(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],a=new Map;if(s?(n=Uf(this._driver,t,s,Jh,Xh,{},{},r,id,o)).forEach(function(e){var t=Fh(a,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));a.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=i._driver.computeStyle(t,n,mh)})});var u=Rh(n.map(function(e){var t=a.get(e.element);return i._buildPlayer(e,{},t)}));return this._playersById[e]=u,u.onDestroy(function(){return i.destroy(e)}),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,i){var r=Nh(t,"","","");return Ph(this._getPlayer(e),n,r,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),od="ng-animate-queued",sd="ng-animate-disabled",ad=".ng-animate-disabled",ud=[],ld={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hd="__ng_removed",fd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";u(this,e),this.namespaceId=n;var i=t&&t.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(i?t.value:t),i){var r=uf(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return c(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),dd="void",pd=new fd(dd),vd=function(){function e(t,n,i){u(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Sd(n,this._hostClassName)}return c(e,[{key:"listen",value:function(e,t,n,i){var r=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if(!function(e){return"start"==e||"done"==e}(n))throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=Fh(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};o.push(s);var a=Fh(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Sd(e,ef),Sd(e,ef+"-"+t),a[t]=pd),function(){r._engine.afterFlush(function(){var e=o.indexOf(s);e>=0&&o.splice(e,1),r._triggers[t]||delete a[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),s=new yd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Sd(e,ef),Sd(e,ef+"-"+t),this._engine.statesByElement.set(e,a={}));var u=a[t],l=new fd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a[t]=l,u||(u=pd),l.value===dd||u.value!==l.value){var c=Fh(this._engine.playersByElement,e,[]);c.forEach(function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()});var h=o.matchTransition(u.value,l.value,e,l.params),f=!1;if(!h){if(!r)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:l,player:s,isFallbackTransition:f}),f||(Sd(e,od),s.onStart(function(){Cd(e,od)})),s.onDone(function(){var t=i.players.indexOf(s);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var r=n.indexOf(s);r>=0&&n.splice(r,1)}}),this.players.push(s),c.push(s),s}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,l.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){df(e,p),ff(e,v)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,i){t._elementListeners.set(i,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,i=this._engine.driver.query(e,tf,!0);i.forEach(function(e){if(!e[hd]){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return i.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var r=this,o=this._engine.statesByElement.get(e);if(o){var s=[];if(Object.keys(o).forEach(function(t){if(r._triggers[t]){var n=r.trigger(e,t,dd,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Rh(s).onDone(function(){return r._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){var r=new Set;n.forEach(function(n){var o=n.name;if(!r.has(o)){r.add(o);var s=t._triggers[o].fallbackTransition,a=i[o]||pd,u=new fd(dd),l=new yd(t.id,o,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:o,transition:s,fromState:a,toState:u,player:l,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else for(var s=e;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{var a=e[hd];(!a||a===ld)&&(i.afterFlush(function(){return n.clearElementCache(e)}),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Sd(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(i){var r=i.player;if(!r.destroyed){var o=i.element,s=t._elementListeners.get(o);s&&s.forEach(function(t){if(t.name==i.triggerName){var n=Nh(o,i.triggerName,i.fromState.value,i.toState.value);n._data=e,Ph(i.player,t.phase,n,t.callback)}}),r.markedForDestroy?t._engine.afterFlush(function(){r.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(e,n){var i=e.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),gd=function(){function e(t,n,i){u(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return c(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new vd(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&t.add(s)}}return t}},{key:"trigger",value:function(e,t,n,i){if(md(t)){var r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if(md(t)){var r=t[hd];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var s=this._fetchNamespace(e);s&&s.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Sd(e,sd)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cd(e,sd))}},{key:"removeNode",value:function(e,t,n,i){if(md(t)){var r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t[hd]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,r){return md(t)?this._fetchNamespace(e).listen(t,n,i,r):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,tf,!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,rf,!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return Rh(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e[hd];if(n&&n.setForRemoval){if(e[hd]=ld,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,ad)&&this.markElementAsDisabled(e,!1),this.driver.query(e,ad,!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)Sd(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,t)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?Rh(n).onDone(function(){a.forEach(function(e){return e()})}):a.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,i=new Vf,r=[],o=new Map,s=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)c.add(t[i])});var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=kd(f,this.collectedEnterElements),p=new Map,v=0;d.forEach(function(e,t){var n=Jh+v++;p.set(t,n),e.forEach(function(e){return Sd(e,n)})});for(var g=[],y=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++){var k=this.collectedLeaveElements[_],w=k[hd];w&&w.setForRemoval&&(g.push(k),y.add(k),w.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach(function(e){return y.add(e)}):b.add(k))}var S=new Map,C=kd(f,Array.from(y));C.forEach(function(e,t){var n=Xh+v++;S.set(t,n),e.forEach(function(e){return Sd(e,n)})}),e.push(function(){d.forEach(function(e,t){var n=p.get(t);e.forEach(function(e){return Cd(e,n)})}),C.forEach(function(e,t){var n=S.get(t);e.forEach(function(e){return Cd(e,n)})}),g.forEach(function(e){n.processLeaveNode(e)})});for(var E=[],T=[],x=this._namespaceList.length-1;x>=0;x--)this._namespaceList[x].drainQueuedTransitions(t).forEach(function(e){var t=e.player,o=e.element;if(E.push(t),n.collectedEnterElements.length){var c=o[hd];if(c&&c.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=S.get(o),v=p.get(o),g=n._buildInstruction(e,i,v,d,f);if(g.errors&&g.errors.length)T.push(g);else{if(f)return t.onStart(function(){return df(o,g.fromStyles)}),t.onDestroy(function(){return ff(o,g.toStyles)}),void r.push(t);if(e.isFallbackTransition)return t.onStart(function(){return df(o,g.fromStyles)}),t.onDestroy(function(){return ff(o,g.toStyles)}),void r.push(t);g.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),i.append(o,g.timelines),s.push({instruction:g,player:t,element:o}),g.queriedElements.forEach(function(e){return Fh(a,e,[]).push(t)}),g.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var i=u.get(t);i||u.set(t,i=new Set),n.forEach(function(e){return i.add(e)})}}),g.postStyleProps.forEach(function(e,t){var n=Object.keys(e),i=l.get(t);i||l.set(t,i=new Set),n.forEach(function(e){return i.add(e)})})}});if(T.length){var O=[];T.forEach(function(e){O.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return O.push("- ".concat(e,"\n"))})}),E.forEach(function(e){return e.destroy()}),this.reportError(O)}var I=new Map,A=new Map;s.forEach(function(e){var t=e.element;i.has(t)&&(A.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))}),r.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){Fh(I,t,[]).push(e),e.destroy()})});var D=g.filter(function(e){return xd(e,u,l)}),R=new Map;_d(R,this.driver,b,l,mh).forEach(function(e){xd(e,u,l)&&D.push(e)});var M=new Map;d.forEach(function(e,t){_d(M,n.driver,new Set(e),u,"!")}),D.forEach(function(e){var t=R.get(e),n=M.get(e);R.set(e,Object.assign(Object.assign({},t),n))});var P=[],L=[],N={};s.forEach(function(e){var t=e.element,s=e.player,a=e.instruction;if(i.has(t)){if(c.has(t))return s.onDestroy(function(){return ff(t,a.toStyles)}),s.disabled=!0,s.overrideTotalTime(a.totalTime),void r.push(s);var u=N;if(A.size>1){for(var l=t,h=[];l=l.parentNode;){var f=A.get(l);if(f){u=f;break}h.push(l)}h.forEach(function(e){return A.set(e,u)})}var d=n._buildAnimation(s.namespaceId,a,I,o,M,R);if(s.setRealPlayer(d),u===N)P.push(s);else{var p=n.playersByElement.get(u);p&&p.length&&(s.parentPlayer=Rh(p)),r.push(s)}}else df(t,a.fromStyles),s.onDestroy(function(){return ff(t,a.toStyles)}),L.push(s),c.has(t)&&r.push(s)}),L.forEach(function(e){var t=o.get(e.element);if(t&&t.length){var n=Rh(t);e.setRealPlayer(n)}}),r.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var F=0;F<g.length;F++){var V=g[F],j=V[hd];if(Cd(V,Xh),!j||!j.hasAnimation){var B=[];if(a.size){var U=a.get(V);U&&U.length&&B.push.apply(B,m(U));for(var H=this.driver.query(V,rf,!0),q=0;q<H.length;q++){var z=a.get(H[q]);z&&z.length&&B.push.apply(B,m(z))}}var W=B.filter(function(e){return!e.destroyed});W.length?Ed(this,V,W):this.processLeaveNode(V)}}return g.length=0,P.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),P}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t[hd];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,r){var o=[];if(t){var s=this.playersByQueriedElement.get(e);s&&(o=s)}else{var a=this.playersByElement.get(e);if(a){var u=!r||r==dd;a.forEach(function(e){e.queued||!u&&e.triggerName!=i||o.push(e)})}}return(n||i)&&(o=o.filter(function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i,r=this,o=t.element,s=t.isRemovalTransition?void 0:e,u=t.isRemovalTransition?void 0:t.triggerName,l=a(t.timelines);try{var c=function(){var e=i.value.element,a=e!==o,l=Fh(n,e,[]);r._getPreviousPlayers(e,a,s,u,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})};for(l.s();!(i=l.n()).done;)c()}catch(h){l.e(h)}finally{l.f()}df(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,r,o){var s=this,a=t.triggerName,u=t.element,l=[],c=new Set,h=new Set,f=t.timelines.map(function(t){var f=t.element;c.add(f);var d=f[hd];if(d&&d.removedBeforeQueried)return new Oh(t.duration,t.delay);var p=f!==u,v=function(e){var t=[];return Td(e,t),t}((n.get(f)||ud).map(function(e){return e.getRealPlayer()})).filter(function(e){return!!e.element&&e.element===f}),g=r.get(f),y=o.get(f),m=Mh(0,s._normalizer,0,t.keyframes,g,y),b=s._buildPlayer(t,m,v);if(t.subTimeline&&i&&h.add(f),p){var _=new yd(e,a,f);_.setRealPlayer(b),l.push(_)}return b});l.forEach(function(e){Fh(s.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete e[t]}return i}(s.playersByQueriedElement,e.element,e)})}),c.forEach(function(e){return Sd(e,nf)});var d=Rh(f);return d.onDestroy(function(){c.forEach(function(e){return Cd(e,nf)}),ff(u,t.toStyles)}),h.forEach(function(e){Fh(i,e,[]).push(d)}),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Oh(e.duration,e.delay)}}]),e}(),yd=function(){function e(t,n,i){u(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new Oh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return c(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return Ph(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){Fh(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function md(e){return e&&1===e.nodeType}function bd(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function _d(e,t,n,i,r){var o=[];n.forEach(function(e){return o.push(bd(e))});var s=[];i.forEach(function(n,i){var o={};n.forEach(function(e){var n=o[e]=t.computeStyle(i,e,r);(!n||0==n.length)&&(i[hd]=cd,s.push(i))}),e.set(i,o)});var a=0;return n.forEach(function(e){return bd(e,o[a++])}),s}function kd(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var i=new Set(t),r=new Map;function o(e){if(!e)return 1;var t=r.get(e);if(t)return t;var s=e.parentNode;return t=n.has(s)?s:i.has(s)?1:o(s),r.set(e,t),t}return t.forEach(function(e){var t=o(e);1!==t&&n.get(t).push(e)}),n}var wd="$$classes";function Sd(e,t){if(e.classList)e.classList.add(t);else{var n=e[wd];n||(n=e[wd]={}),n[t]=!0}}function Cd(e,t){if(e.classList)e.classList.remove(t);else{var n=e[wd];n&&delete n[t]}}function Ed(e,t,n){Rh(n).onDone(function(){return e.processLeaveNode(t)})}function Td(e,t){for(var n=0;n<e.length;n++){var i=e[n];i instanceof Ih?Td(i.players,t):t.push(i)}}function xd(e,t,n){var i=n.get(e);if(!i)return!1;var r=t.get(e);return r?i.forEach(function(e){return r.add(e)}):t.set(e,i),n.delete(e),!0}var Od=function(){function e(t,n,i){var r=this;u(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new gd(t,n,i),this._timelineEngine=new rd(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}return c(e,[{key:"registerTrigger",value:function(e,t,n,i,r){var o=e+"-"+i,s=this._triggerCache[o];if(!s){var a=[],u=Df(this._driver,r,a);if(a.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(e,t,n){return new td(e,t,n)}(i,u,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,i,s)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,n,i,r){if("@"==i.charAt(0)){var o=t(Vh(i),2),s=o[0],a=o[1];this._timelineEngine.command(s,n,a,r)}else this._transitionEngine.trigger(e,n,i,r)}},{key:"listen",value:function(e,n,i,r,o){if("@"==i.charAt(0)){var s=t(Vh(i),2),a=s[0],u=s[1];return this._timelineEngine.listen(a,n,u,o)}return this._transitionEngine.listen(e,n,i,r,o)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function Id(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=Dd(t[0]),t.length>1&&(i=Dd(t[t.length-1]))):t&&(n=Dd(t)),n||i?new Ad(e,n,i):null}var Ad=function(){var e=function(){function e(t,n,i){u(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}return c(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&ff(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(ff(this._element,this._initialStyles),this._endStyles&&(ff(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(df(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(df(this._element,this._endStyles),this._endStyles=null),ff(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Dd(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];Rd(r)&&((t=t||{})[r]=e[r])}return t}function Rd(e){return"display"===e||"position"===e}var Md="animation",Pd="animationend",Ld=function(){function e(t,n,i,r,o,s,a){var l=this;u(this,e),this._element=t,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return l._handleCallback(e)}}return c(e,[{key:"apply",value:function(){(function(e,t){var n=Ud(e,"").trim();n.length&&(function(e,t){for(var n=0,i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t="".concat(n,", ").concat(t)),Bd(e,"",t)})(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),jd(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Nd(this._element,this._name,"paused")}},{key:"resume",value:function(){Nd(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Fd(this._element,this._name);this._position=e*this._duration,Bd(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),jd(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=Ud(e,"").split(","),i=Vd(n,t);i>=0&&(n.splice(i,1),Bd(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function Nd(e,t,n){Bd(e,"PlayState",n,Fd(e,t))}function Fd(e,t){var n=Ud(e,"");return n.indexOf(",")>0?Vd(n.split(","),t):Vd([n],t)}function Vd(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function jd(e,t,n){n?e.removeEventListener(Pd,t):e.addEventListener(Pd,t)}function Bd(e,t,n,i){var r=Md+t;if(null!=i){var o=e.style[r];if(o.length){var s=o.split(",");s[i]=n,n=s.join(",")}}e.style[r]=n}function Ud(e,t){return e.style[Md+t]||""}var Hd=function(){function e(t,n,i,r,o,s,a,l){u(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+o,this._buildStyler()}return c(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Ld(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:Ef(e.element,i))})}this.currentSnapshot=t}}]),e}(),qd=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this)).element=e,r._startingStyles={},r.__initialized=!1,r._styles=Yh(i),r}return c(n,[{key:"init",value:function(){var e=this;this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),s(y(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),s(y(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;!this._startingStyles||(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,s(y(n.prototype),"destroy",this).call(this))}}]),n}(Oh),zd=function(){function e(){u(this,e),this._count=0}return c(e,[{key:"validateStyleProperty",value:function(e){return Wh(e)}},{key:"matchesElement",value:function(e,t){return Kh(e,t)}},{key:"containsElement",value:function(e,t){return Gh(e,t)}},{key:"query",value:function(e,t,n){return Qh(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return Yh(e)});var i="@keyframes ".concat(t," {\n"),r="";n.forEach(function(e){r=" ";var t=parseFloat(e.offset);i+="".concat(r).concat(100*t,"% {\n"),r+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(t,": ").concat(n,";\n"))}}),i+="".concat(r,"}\n")}),i+="}\n";var o=document.createElement("style");return o.textContent=i,o}},{key:"animate",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=o.filter(function(e){return e instanceof Hd}),a={};wf(n,i)&&s.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return a[e]=t[e]})});var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"==n||"easing"==n||(t[n]=e[n])})}),t}(t=Sf(e,t,a));if(0==n)return new qd(e,u);var l="gen_css_kf_"+this._count++,c=this.buildKeyframeElement(e,l,t);(function(e){var t,n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(c);var h=Id(e,t),f=new Hd(e,t,l,n,i,r,u,h);return f.onDestroy(function(){return function(e){e.parentNode.removeChild(e)}(c)}),f}}]),e}(),Wd=function(){function e(t,n,i,r){u(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return c(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Ef(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Kd=function(){function e(){u(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Gd().toString()),this._cssKeyframesDriver=new zd}return c(e,[{key:"validateStyleProperty",value:function(e){return Wh(e)}},{key:"matchesElement",value:function(e,t){return Kh(e,t)}},{key:"containsElement",value:function(e,t){return Gh(e,t)}},{key:"query",value:function(e,t,n){return Qh(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,o);var a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);var u={},l=o.filter(function(e){return e instanceof Wd});wf(n,i)&&l.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return u[e]=t[e]})});var c=Id(e,t=Sf(e,t=t.map(function(e){return lf(e,!1)}),u));return new Wd(e,t,a,c)}}]),e}();function Gd(){return Ah()&&Element.prototype.animate||{}}var Qd=function(){var e=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this))._nextAnimationId=0,r._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Qe.None,styles:[],data:{animation:[]}}),r}return c(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?kh(e):e;return $d(this._renderer,null,t,"register",[n]),new Yd(t,this._renderer)}}]),n}(yh);return e.\u0275fac=function(t){return new(t||e)(Ai(Ia),Ai($l))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),Yd=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this))._id=e,r._renderer=i,r}return c(n,[{key:"create",value:function(e,t){return new Zd(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){u(this,e)}}()),Zd=function(){function e(t,n,i,r){u(this,e),this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return c(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return $d(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function $d(e,t,n,i,r){return e.setProperty(t,"@@".concat(n,":").concat(i),r)}var Jd="@.disabled",Xd=function(){var e=function(){function e(t,n,i){u(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return c(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var r=this._rendererCache.get(i);return r||(r=new ep("",i,this.engine),this._rendererCache.set(i,r)),r}var o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);return t.data.animation.forEach(function t(i){Array.isArray(i)?i.forEach(t):n.engine.registerTrigger(o,s,e,i.name,i)}),new tp(this,s,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,n,i){var r=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return n(i)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){var n=t(e,2);(0,n[0])(n[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,i]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(Ia),Ai(Od),Ai(_l))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),ep=function(){function e(t,n,i){u(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return c(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&t==Jd?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),tp=function(e){h(i,e);var n=d(i);function i(e,t,r,o){var s;return u(this,i),(s=n.call(this,t,r,o)).factory=e,s.namespaceId=t,s}return c(i,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Jd?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,n,i){var r=this;if("@"==n.charAt(0)){var o,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),a=n.substr(1),u="";return"@"!=a.charAt(0)&&(a=(o=t(function(e){var t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(a),2))[0],u=o[1]),this.engine.listen(this.namespaceId,s,a,u,function(e){r.factory.scheduleListenerCallback(e._data||-1,i,e)})}return this.delegate.listen(e,n,i)}}]),i}(ep),np=function(){var e=function(e){h(n,e);var t=d(n);function n(e,i,r){return u(this,n),t.call(this,e.body,i,r)}return c(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(Od);return e.\u0275fac=function(t){return new(t||e)(Ai($l),Ai($h),Ai(Qf))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),ip=new ci("AnimationModuleType"),rp=[{provide:yh,useClass:Qd},{provide:Qf,useFactory:function(){return new Yf}},{provide:Od,useClass:np},{provide:Ia,useFactory:function(e,t,n){return new Xd(e,t,n)},deps:[nh,Od,_l]}],op=[{provide:$h,useFactory:function(){return"function"==typeof Gd()?new Kd:new zd}},{provide:ip,useValue:"BrowserAnimations"}].concat(rp),sp=[{provide:$h,useClass:Zh},{provide:ip,useValue:"NoopAnimations"}].concat(rp),ap=function(){var e=function(){function e(){u(this,e)}return c(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:t.disableAnimations?sp:op}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({providers:op,imports:[ph]}),e}(),up=function(){var e=function(){function e(){u(this,e)}return c(e,null,[{key:"addClass",value:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t}},{key:"addMultipleClasses",value:function(e,t){if(e.classList)for(var n=t.trim().split(" "),i=0;i<n.length;i++)e.classList.add(n[i]);else for(var r=t.split(" "),o=0;o<r.length;o++)e.className+=" "+r[o]}},{key:"removeClass",value:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"hasClass",value:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}},{key:"siblings",value:function(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})}},{key:"find",value:function(e,t){return Array.from(e.querySelectorAll(t))}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"index",value:function(e){for(var t=e.parentNode.childNodes,n=0,i=0;i<t.length;i++){if(t[i]==e)return n;1==t[i].nodeType&&n++}return-1}},{key:"indexWithinGroup",value:function(e,t){for(var n=e.parentNode?e.parentNode.childNodes:[],i=0,r=0;r<n.length;r++){if(n[r]==e)return i;n[r].attributes&&n[r].attributes[t]&&1==n[r].nodeType&&i++}return-1}},{key:"relativePosition",value:function(e,t){var n,i,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=t.offsetHeight,s=t.getBoundingClientRect(),a=this.getViewport();s.top+o+r.height>a.height?(n=-1*r.height,e.style.transformOrigin="bottom",s.top+n<0&&(n=-1*s.top)):(n=o,e.style.transformOrigin="top"),i=r.width>a.width?-1*s.left:s.left+r.width>a.width?-1*(s.left+r.width-a.width):0,e.style.top=n+"px",e.style.left=i+"px"}},{key:"absolutePosition",value:function(e,t){var n,i,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,s=r.width,a=t.offsetHeight,u=t.offsetWidth,l=t.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();l.top+a+o>f.height?(n=l.top+c-o,e.style.transformOrigin="bottom",n<0&&(n=c)):(n=a+l.top+c,e.style.transformOrigin="top"),i=l.left+s>f.width?Math.max(0,l.left+h+u-s):l.left+h,e.style.top=n+"px",e.style.left=i+"px"}},{key:"getParents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===e.parentNode?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}},{key:"getScrollableParents",value:function(e){var t=[];if(e){var n,i=this.getParents(e),r=/(auto|scroll)/,o=function(e){var t=window.getComputedStyle(e,null);return r.test(t.getPropertyValue("overflow"))||r.test(t.getPropertyValue("overflowX"))||r.test(t.getPropertyValue("overflowY"))},s=a(i);try{for(s.s();!(n=s.n()).done;){var u=n.value,l=1===u.nodeType&&u.dataset.scrollselectors;if(l){var c,h=a(l.split(","));try{for(h.s();!(c=h.n()).done;){var f=c.value,d=this.findSingle(u,f);d&&o(d)&&t.push(d)}}catch(p){h.e(p)}finally{h.f()}}9!==u.nodeType&&o(u)&&t.push(u)}}catch(p){s.e(p)}finally{s.f()}}return t}},{key:"getHiddenElementOuterHeight",value:function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}},{key:"getHiddenElementOuterWidth",value:function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}},{key:"scrollInView",value:function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=n?parseFloat(n):0,r=getComputedStyle(e).getPropertyValue("paddingTop"),o=r?parseFloat(r):0,s=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-i-o,u=e.scrollTop,l=e.clientHeight,c=this.getOuterHeight(t);a<0?e.scrollTop=u+a:a+c>l&&(e.scrollTop=u+a-l+c)}},{key:"fadeIn",value:function(e,t){e.style.opacity=0;var n=+new Date,i=0;!function r(){i=+e.style.opacity.replace(",",".")+((new Date).getTime()-n)/t,e.style.opacity=i,n=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16))}()}},{key:"fadeOut",value:function(e,t){var n=1,i=50/t,r=setInterval(function(){(n-=i)<=0&&(n=0,clearInterval(r)),e.style.opacity=n},50)}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"matches",value:function(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)}},{key:"getOuterWidth",value:function(e,t){var n=e.offsetWidth;if(t){var i=getComputedStyle(e);n+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return n}},{key:"getHorizontalPadding",value:function(e){var t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}},{key:"getHorizontalMargin",value:function(e){var t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}},{key:"innerWidth",value:function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}},{key:"width",value:function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}},{key:"getInnerHeight",value:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)}},{key:"getOuterHeight",value:function(e,t){var n=e.offsetHeight;if(t){var i=getComputedStyle(e);n+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n}},{key:"getHeight",value:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)}},{key:"getWidth",value:function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}},{key:"getViewport",value:function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||i.clientWidth,height:e.innerHeight||n.clientHeight||i.clientHeight}}},{key:"getOffset",value:function(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}},{key:"replaceElementWith",value:function(e,t){var n=e.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(t,e)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIE",value:function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot append "+t+" to "+e;t.el.nativeElement.appendChild(e)}}},{key:"removeChild",value:function(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot remove "+e+" from "+t;t.el.nativeElement.removeChild(e)}}},{key:"removeElement",value:function(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}},{key:"isElement",value:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var i=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=i,i}},{key:"calculateScrollbarHeight",value:function(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;var e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);var t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}},{key:"getBrowser",value:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}},{key:"isInteger",value:function(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},{key:"isHidden",value:function(e){return null===e.offsetParent}},{key:"getFocusableElements",value:function(t){var n,i=[],r=a(e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'));try{for(r.s();!(n=r.n()).done;){var o=n.value;"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&i.push(o)}}catch(s){r.e(s)}finally{r.f()}return i}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}}]),e}();return e.zindex=1e3,e.calculatedScrollbarWidth=null,e.calculatedScrollbarHeight=null,e}(),lp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};u(this,e),this.element=t,this.listener=n}return c(e,[{key:"bindScrollListener",value:function(){this.scrollableParents=up.getScrollableParents(this.element);for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),e}(),cp=function(){function e(){u(this,e)}return c(e,null,[{key:"equals",value:function(e,t,n){return n?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.equalsByValue(e,t)}},{key:"equalsByValue",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,i,r,o=Array.isArray(e),s=Array.isArray(t);if(o&&s){if((i=e.length)!=t.length)return!1;for(n=i;0!=n--;)if(!this.equalsByValue(e[n],t[n]))return!1;return!0}if(o!=s)return!1;var a=e instanceof Date,u=t instanceof Date;if(a!=u)return!1;if(a&&u)return e.getTime()==t.getTime();var l=e instanceof RegExp,c=t instanceof RegExp;if(l!=c)return!1;if(l&&c)return e.toString()==t.toString();var h=Object.keys(e);if((i=h.length)!==Object.keys(t).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,h[n]))return!1;for(n=i;0!=n--;)if(!this.equalsByValue(e[r=h[n]],t[r]))return!1;return!0}return e!=e&&t!=t}},{key:"resolveFieldData",value:function(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];for(var n=t.split("."),i=e,r=0,o=n.length;r<o;++r){if(null==i)return null;i=i[n[r]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"insertIntoOrderedArray",value:function(e,t,n,i){if(n.length>0){for(var r=!1,o=0;o<n.length;o++)if(this.findIndexInList(n[o],i)>t){n.splice(o,0,e),r=!0;break}r||n.push(e)}else n.push(e)}},{key:"findIndexInList",value:function(e,t){var n=-1;if(t)for(var i=0;i<t.length;i++)if(t[i]==e){n=i;break}return n}},{key:"contains",value:function(e,t){if(null!=e&&t&&t.length){var n,i=a(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(this.equals(e,r))return!0}}catch(o){i.e(o)}finally{i.f()}}return!1}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}}]),e}(),hp=0,fp=function(){var e=[],t=function(e){return e&&parseInt(e.style.zIndex,10)||0};return{get:t,set:function(t,n,i){n&&(n.style.zIndex=String(function(t,n){var i=e.length>0?e[e.length-1]:{key:t,value:n},r=i.value+(i.key===t?0:n)+1;return e.push({key:t,value:r}),r}(t,i)))},clear:function(n){n&&(function(t){e=e.filter(function(e){return e.value!==t})}(t(n)),n.style.zIndex="")},getCurrent:function(){return e.length>0?e[e.length-1].value:0}}}(),dp=["*"],pp=function(){var e=function e(){u(this,e)};return e.STARTS_WITH="startsWith",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.ENDS_WITH="endsWith",e.EQUALS="equals",e.NOT_EQUALS="notEquals",e.IN="in",e.LESS_THAN="lt",e.LESS_THAN_OR_EQUAL_TO="lte",e.GREATER_THAN="gt",e.GREATER_THAN_OR_EQUAL_TO="gte",e.BETWEEN="between",e.IS="is",e.IS_NOT="isNot",e.BEFORE="before",e.AFTER="after",e.DATE_IS="dateIs",e.DATE_IS_NOT="dateIsNot",e.DATE_BEFORE="dateBefore",e.DATE_AFTER="dateAfter",e}(),vp=function(){var e=function(){function e(){u(this,e),this.ripple=!1,this.filterMatchModeOptions={text:[pp.STARTS_WITH,pp.CONTAINS,pp.NOT_CONTAINS,pp.ENDS_WITH,pp.EQUALS,pp.NOT_EQUALS],numeric:[pp.EQUALS,pp.NOT_EQUALS,pp.LESS_THAN,pp.LESS_THAN_OR_EQUAL_TO,pp.GREATER_THAN,pp.GREATER_THAN_OR_EQUAL_TO],date:[pp.DATE_IS,pp.DATE_IS_NOT,pp.DATE_BEFORE,pp.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new z,this.translationObserver=this.translationSource.asObservable()}return c(e,[{key:"getTranslation",value:function(e){return this.translation[e]}},{key:"setTranslation",value:function(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),gp=function(){var e=function e(){u(this,e)};return e.STARTS_WITH="startsWith",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.ENDS_WITH="endsWith",e.EQUALS="equals",e.NOT_EQUALS="notEquals",e.NO_FILTER="noFilter",e.LT="lt",e.LTE="lte",e.GT="gt",e.GTE="gte",e.IS="is",e.IS_NOT="isNot",e.BEFORE="before",e.AFTER="after",e.CLEAR="clear",e.APPLY="apply",e.MATCH_ALL="matchAll",e.MATCH_ANY="matchAny",e.ADD_RULE="addRule",e.REMOVE_RULE="removeRule",e.ACCEPT="accept",e.REJECT="reject",e.CHOOSE="choose",e.UPLOAD="upload",e.CANCEL="cancel",e.DAY_NAMES="dayNames",e.DAY_NAMES_SHORT="dayNamesShort",e.DAY_NAMES_MIN="dayNamesMin",e.MONTH_NAMES="monthNames",e.MONTH_NAMES_SHORT="monthNamesShort",e.TODAY="today",e.WEEK_HEADER="weekHeader",e.WEAK="weak",e.MEDIUM="medium",e.STRONG="strong",e.PASSWORD_PROMPT="passwordPrompt",e.EMPTY_MESSAGE="emptyMessage",e.EMPTY_FILTER_MESSAGE="emptyFilterMessage",e}(),yp=function(){var e=function(){function e(){var t=this;u(this,e),this.filters={startsWith:function(e,t,n){if(null==t||""===t.trim())return!0;if(null==e)return!1;var i=cp.removeAccents(t.toString()).toLocaleLowerCase(n);return cp.removeAccents(e.toString()).toLocaleLowerCase(n).slice(0,i.length)===i},contains:function(e,t,n){if(null==t||"string"==typeof t&&""===t.trim())return!0;if(null==e)return!1;var i=cp.removeAccents(t.toString()).toLocaleLowerCase(n);return-1!==cp.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(i)},notContains:function(e,t,n){if(null==t||"string"==typeof t&&""===t.trim())return!0;if(null==e)return!1;var i=cp.removeAccents(t.toString()).toLocaleLowerCase(n);return-1===cp.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(i)},endsWith:function(e,t,n){if(null==t||""===t.trim())return!0;if(null==e)return!1;var i=cp.removeAccents(t.toString()).toLocaleLowerCase(n),r=cp.removeAccents(e.toString()).toLocaleLowerCase(n);return-1!==r.indexOf(i,r.length-i.length)},equals:function(e,t,n){return null==t||"string"==typeof t&&""===t.trim()||null!=e&&(e.getTime&&t.getTime?e.getTime()===t.getTime():cp.removeAccents(e.toString()).toLocaleLowerCase(n)==cp.removeAccents(t.toString()).toLocaleLowerCase(n))},notEquals:function(e,t,n){return!(null==t||"string"==typeof t&&""===t.trim()||null!=e&&(e.getTime&&t.getTime?e.getTime()===t.getTime():cp.removeAccents(e.toString()).toLocaleLowerCase(n)==cp.removeAccents(t.toString()).toLocaleLowerCase(n)))},in:function(e,t){if(null==t||0===t.length)return!0;for(var n=0;n<t.length;n++)if(cp.equals(e,t[n]))return!0;return!1},between:function(e,t){return null==t||null==t[0]||null==t[1]||null!=e&&(e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1])},lt:function(e,t,n){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()<t.getTime():e<t)},lte:function(e,t,n){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t)},gt:function(e,t,n){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()>t.getTime():e>t)},gte:function(e,t,n){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t)},is:function(e,n,i){return t.filters.equals(e,n,i)},isNot:function(e,n,i){return t.filters.notEquals(e,n,i)},before:function(e,n,i){return t.filters.lt(e,n,i)},after:function(e,n,i){return t.filters.gt(e,n,i)},dateIs:function(e,t){return null==t||null!=e&&e.toDateString()===t.toDateString()},dateIsNot:function(e,t){return null==t||null!=e&&e.toDateString()!==t.toDateString()},dateBefore:function(e,t){return null==t||null!=e&&e.getTime()<t.getTime()},dateAfter:function(e,t){return null==t||null!=e&&e.getTime()>t.getTime()}}}return c(e,[{key:"filter",value:function(e,t,n,i,r){var o=[];if(e){var s,u=a(e);try{for(u.s();!(s=u.n()).done;){var l,c=s.value,h=a(t);try{for(h.s();!(l=h.n()).done;){var f=l.value,d=cp.resolveFieldData(c,f);if(this.filters[i](d,n,r)){o.push(c);break}}}catch(p){h.e(p)}finally{h.f()}}}catch(p){u.e(p)}finally{u.f()}}return o}},{key:"register",value:function(e,t){this.filters[e]=t}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),mp=function(){var e=function(){function e(){u(this,e),this.clickSource=new z,this.clickObservable=this.clickSource.asObservable()}return c(e,[{key:"add",value:function(e){e&&this.clickSource.next(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),bp=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["p-header"]],ngContentSelectors:dp,decls:1,vars:0,template:function(e,t){1&e&&(Ls(),Ns(0))},encapsulation:2}),e}(),_p=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["p-footer"]],ngContentSelectors:dp,decls:1,vars:0,template:function(e,t){1&e&&(Ls(),Ns(0))},encapsulation:2}),e}(),kp=function(){var e=function(){function e(t){u(this,e),this.template=t}return c(e,[{key:"getType",value:function(){return this.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(iu))},e.\u0275dir=vt({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),e}(),wp=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc]]}),e}(),Sp=function(){var e=function(){function e(t,n,i){u(this,e),this.el=t,this.zone=n,this.config=i}return c(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.config&&this.config.ripple&&this.zone.runOutsideAngular(function(){e.create(),e.mouseDownListener=e.onMouseDown.bind(e),e.el.nativeElement.addEventListener("mousedown",e.mouseDownListener)})}},{key:"onMouseDown",value:function(e){var t=this.getInk();if(t&&"none"!==getComputedStyle(t,null).display){if(up.removeClass(t,"p-ink-active"),!up.getHeight(t)&&!up.getWidth(t)){var n=Math.max(up.getOuterWidth(this.el.nativeElement),up.getOuterHeight(this.el.nativeElement));t.style.height=n+"px",t.style.width=n+"px"}var i=up.getOffset(this.el.nativeElement),r=e.pageX-i.left+document.body.scrollTop-up.getWidth(t)/2,o=e.pageY-i.top+document.body.scrollLeft-up.getHeight(t)/2;t.style.top=o+"px",t.style.left=r+"px",up.addClass(t,"p-ink-active")}}},{key:"getInk",value:function(){for(var e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}},{key:"resetInk",value:function(){var e=this.getInk();e&&up.removeClass(e,"p-ink-active")}},{key:"onAnimationEnd",value:function(e){up.removeClass(e.currentTarget,"p-ink-active")}},{key:"create",value:function(){var e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}},{key:"remove",value:function(){var e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),up.removeElement(e))}},{key:"ngOnDestroy",value:function(){this.config&&this.config.ripple&&this.remove()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(xa),ys(_l),ys(vp,8))},e.\u0275dir=vt({type:e,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),e}(),Cp=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc]]}),e}(),Ep=function(){var e=function(){function e(t){u(this,e),this.el=t,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}return c(e,[{key:"ngAfterViewInit",value:function(){this._initialStyleClass=this.el.nativeElement.className,up.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon&&this.createIconEl();var e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}},{key:"getStyleClass",value:function(){var e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}},{key:"setStyleClass",value:function(){var e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}},{key:"createIconEl",value:function(){var e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");var t=this.label?"p-button-icon-"+this.iconPos:null;t&&up.addClass(e,t);var n=this.getIconClass();n&&up.addMultipleClasses(e,n);var i=up.findSingle(this.el.nativeElement,".p-button-label");i?this.el.nativeElement.insertBefore(e,i):this.el.nativeElement.appendChild(e)}},{key:"getIconClass",value:function(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}},{key:"setIconClass",value:function(){var e=up.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}},{key:"removeIconElement",value:function(){var e=up.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}},{key:"label",get:function(){return this._label},set:function(e){this._label=e,this.initialized&&(up.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}},{key:"icon",get:function(){return this._icon},set:function(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}},{key:"loading",get:function(){return this._loading},set:function(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}},{key:"ngOnDestroy",value:function(){this.initialized=!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(xa))},e.\u0275dir=vt({type:e,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),e}(),Tp=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc,Cp]]}),e}(),xp=["mask"];function Op(e,t){if(1&e){var n=Ts();_s(0,"button",12),As("click",function(){return Jt(n),Ms(3).hide()})("keydown.enter",function(){return Jt(n),Ms(3).hide()}),ws(1,"span",13),ks()}2&e&&ms("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function Ip(e,t){if(1&e&&(_s(0,"div",8),_s(1,"span",9),na(2),ks(),_s(3,"div",10),vs(4,Op,2,1,"button",11),ks(),ks()),2&e){var n=Ms(2);Br(2),ia(n.config.header),Br(2),ms("ngIf",!1!==n.config.closable)}}function Ap(e,t){}function Dp(e,t){if(1&e&&(_s(0,"div",14),na(1),ks()),2&e){var n=Ms(2);Br(1),ra(" ",n.config.footer," ")}}var Rp=function(e){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":e}},Mp=function(e,t){return{transform:e,transition:t}},Pp=function(e){return{value:"visible",params:e}};function Lp(e,t){if(1&e){var n=Ts();_s(0,"div",3),As("@animation.start",function(e){return Jt(n),Ms().onAnimationStart(e)})("@animation.done",function(e){return Jt(n),Ms().onAnimationEnd(e)}),vs(1,Ip,5,2,"div",4),_s(2,"div",5),vs(3,Ap,0,0,"ng-template",6),ks(),vs(4,Dp,2,1,"div",7),ks()}if(2&e){var i=Ms();Ws(i.config.styleClass),qs("width",i.config.width)("height",i.config.height),ms("ngClass",Cu(12,Rp,i.config.rtl))("ngStyle",i.config.style)("@animation",Cu(17,Pp,Eu(14,Mp,i.transformOptions,i.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),Br(1),ms("ngIf",!1!==i.config.showHeader),Br(1),ms("ngStyle",i.config.contentStyle),Br(2),ms("ngIf",i.config.footer)}}var Np=function(e){return{"p-dialog-mask":!0,"p-component-overlay p-dialog-mask-scrollblocker":e}},Fp=function(){var e=function e(t){u(this,e),this.viewContainerRef=t};return e.\u0275fac=function(t){return new(t||e)(ys(lu))},e.\u0275dir=vt({type:e,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]}),e}(),Vp=function e(){u(this,e)},jp=function(){function e(){u(this,e),this._onClose=new z,this.onClose=this._onClose.asObservable(),this._onDestroy=new z,this.onDestroy=this._onDestroy.asObservable()}return c(e,[{key:"close",value:function(e){this._onClose.next(e)}},{key:"destroy",value:function(){this._onDestroy.next()}}]),e}(),Bp=Eh([wh({transform:"{{transform}}",opacity:0}),_h("{{transition}}",wh({transform:"none",opacity:1}))]),Up=Eh([_h("{{transition}}",wh({transform:"{{transform}}",opacity:0}))]),Hp=function(){var e=function(){function e(t,n,i,r,o,s,a){u(this,e),this.componentFactoryResolver=t,this.cd=n,this.renderer=i,this.config=r,this.dialogRef=o,this.zone=s,this.primeNGConfig=a,this.visible=!0,this.transformOptions="scale(0.7)"}return c(e,[{key:"ngAfterViewInit",value:function(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}},{key:"loadChildComponent",value:function(e){var t=this.componentFactoryResolver.resolveComponentFactory(e),n=this.insertionPoint.viewContainerRef;n.clear(),this.componentRef=n.createComponent(t)}},{key:"moveOnTop",value:function(){!1!==this.config.autoZIndex&&(fp.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}},{key:"onAnimationStart",value:function(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.onContainerDestroy()}}},{key:"onAnimationEnd",value:function(e){"void"===e.toState&&this.dialogRef.destroy()}},{key:"onContainerDestroy",value:function(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&fp.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}},{key:"close",value:function(){this.visible=!1,this.cd.markForCheck()}},{key:"hide",value:function(){this.dialogRef&&this.dialogRef.close()}},{key:"enableModality",value:function(){var e=this;!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",function(t){e.wrapper&&e.wrapper.isSameNode(t.target)&&e.hide()})),!1!==this.config.modal&&up.addClass(document.body,"p-overflow-hidden")}},{key:"disableModality",value:function(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&up.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}},{key:"onKeydown",value:function(e){if(9===e.which){e.preventDefault();var t=up.getFocusableElements(this.container);if(t&&t.length>0)if(t[0].ownerDocument.activeElement){var n=t.indexOf(t[0].ownerDocument.activeElement);e.shiftKey?-1==n||0===n?t[t.length-1].focus():t[n-1].focus():-1==n||n===t.length-1?t[0].focus():t[n+1].focus()}else t[0].focus()}}},{key:"focus",value:function(){var e=up.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(function(){setTimeout(function(){return e.focus()},5)})}},{key:"bindGlobalListeners",value:function(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener()}},{key:"unbindGlobalListeners",value:function(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener()}},{key:"bindDocumentKeydownListener",value:function(){var e=this;this.zone.runOutsideAngular(function(){e.documentKeydownListener=e.onKeydown.bind(e),window.document.addEventListener("keydown",e.documentKeydownListener)})}},{key:"unbindDocumentKeydownListener",value:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}},{key:"bindDocumentEscapeListener",value:function(){var e=this;this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",function(t){27==t.which&&parseInt(e.container.style.zIndex)==up.zindex+(e.config.baseZIndex?e.config.baseZIndex:0)&&e.hide()})}},{key:"unbindDocumentEscapeListener",value:function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"ngOnDestroy",value:function(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Sa),ys(Ja),ys(Aa),ys(Vp),ys(jp),ys(_l),ys(vp))},e.\u0275cmp=lt({type:e,selectors:[["p-dynamicDialog"]],viewQuery:function(e,t){var n;(1&e&&(Ku(Fp,5),Ku(xp,5)),2&e)&&(Wu(n=Qu())&&(t.insertionPoint=n.first),Wu(n=Qu())&&(t.maskViewChild=n.first))},hostAttrs:[1,"p-element"],decls:3,vars:4,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(e,t){1&e&&(_s(0,"div",0,1),vs(2,Lp,5,19,"div",2),ks()),2&e&&(ms("ngClass",Cu(2,Np,!1!==t.config.modal)),Br(2),ms("ngIf",t.visible))},directives:function(){return[mc,wc,Ec,Fp]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[bh("animation",[Ch("void => visible",[Th(Bp)]),Ch("visible => void",[Th(Up)])])]}}),e}(),qp=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc]]}),e}(),zp=function(){function e(t,n){u(this,e),this._parentInjector=t,this._additionalTokens=n}return c(e,[{key:"get",value:function(e,t,n){return this._additionalTokens.get(e)||this._parentInjector.get(e,t)}}]),e}(),Wp=function(){var e=function(){function e(t,n,i){u(this,e),this.componentFactoryResolver=t,this.appRef=n,this.injector=i,this.dialogComponentRefMap=new Map}return c(e,[{key:"open",value:function(e,t){var n=this.appendDialogComponentToBody(t);return this.dialogComponentRefMap.get(n).instance.childComponentType=e,n}},{key:"appendDialogComponentToBody",value:function(e){var t=this,n=new WeakMap;n.set(Vp,e);var i=new jp;n.set(jp,i);var r=i.onClose.subscribe(function(){t.dialogComponentRefMap.get(i).instance.close()}),o=i.onDestroy.subscribe(function(){t.removeDialogComponentFromBody(i),o.unsubscribe(),r.unsubscribe()}),s=this.componentFactoryResolver.resolveComponentFactory(Hp).create(new zp(this.injector,n));return this.appRef.attachView(s.hostView),document.body.appendChild(s.hostView.rootNodes[0]),this.dialogComponentRefMap.set(i,s),i}},{key:"removeDialogComponentFromBody",value:function(e){if(e&&this.dialogComponentRefMap.has(e)){var t=this.dialogComponentRefMap.get(e);this.appRef.detachView(t.hostView),t.destroy(),this.dialogComponentRefMap.delete(e)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(Sa),Ai(jl),Ai($o))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}();function Kp(e,t){return new j(function(n){var i=e.length;if(0!==i)for(var r=new Array(i),o=0,s=0,a=function(a){var u=ne(e[a]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,s++),r[a]=e},error:function(e){return n.error(e)},complete:function(){(++o===i||!l)&&(s===i&&n.next(t?t.reduce(function(e,t,n){return e[t]=r[n],e},{}):r),n.complete())}}))},u=0;u<i;u++)a(u);else n.complete()})}var Gp=function(){var e=function(){function e(t,n){u(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return c(e,[{key:"setProperty",value:function(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"setDisabledState",value:function(e){this.setProperty("disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Aa),ys(xa))},e.\u0275dir=vt({type:e}),e}(),Qp=function(){var e=function(e){h(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return n}(Gp);return e.\u0275fac=function(){var t;return function(n){return(t||(t=oi(e)))(n||e)}}(),e.\u0275dir=vt({type:e,features:[Xo]}),e}(),Yp=new ci("NgValueAccessor"),Zp={provide:Yp,useExisting:Te(function(){return Jp}),multi:!0},$p=new ci("CompositionEventMode"),Jp=function(){var e=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,e,i))._compositionMode=r,o._composing=!1,null==o._compositionMode&&(o._compositionMode=!function(){var e=Zl()?Zl().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),o}return c(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),n}(Gp);return e.\u0275fac=function(t){return new(t||e)(ys(Aa),ys(xa),ys($p,8))},e.\u0275dir=vt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&As("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[_a([Zp]),Xo]}),e}();function Xp(e){return null==e||0===e.length}function ev(e){return null!=e&&"number"==typeof e.length}var tv=new ci("NgValidators"),nv=new ci("NgAsyncValidators"),iv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rv=function(){function e(){u(this,e)}return c(e,null,[{key:"min",value:function(e){return function(e){return function(t){if(Xp(t.value)||Xp(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}},{key:"max",value:function(e){return function(e){return function(t){if(Xp(t.value)||Xp(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}},{key:"required",value:function(e){return function(e){return Xp(e.value)?{required:!0}:null}(e)}},{key:"requiredTrue",value:function(e){return function(e){return!0===e.value?null:{required:!0}}(e)}},{key:"email",value:function(e){return function(e){return Xp(e.value)||iv.test(e.value)?null:{email:!0}}(e)}},{key:"minLength",value:function(e){return function(e){return function(t){return Xp(t.value)||!ev(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}}(e)}},{key:"maxLength",value:function(e){return function(e){return function(t){return ev(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}}(e)}},{key:"pattern",value:function(e){return function(e){return e?("string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),function(e){if(Xp(e.value))return null;var i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}):ov;var t,n}(e)}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){return hv(e)}},{key:"composeAsync",value:function(e){return dv(e)}}]),e}();function ov(e){return null}function sv(e){return null!=e}function av(e){var t=xs(e)?ne(e):e;return Is(t),t}function uv(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function lv(e,t){return t.map(function(t){return t(e)})}function cv(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function hv(e){if(!e)return null;var t=e.filter(sv);return 0==t.length?null:function(e){return uv(lv(e,t))}}function fv(e){return null!=e?hv(cv(e)):null}function dv(e){if(!e)return null;var t=e.filter(sv);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var i=t[0];if(O(i))return Kp(i,null);if(I(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return Kp(r.map(function(e){return i[e]}),r)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Kp(t=1===t.length&&O(t[0])?t[0]:t,null).pipe(G(function(e){return o.apply(void 0,m(e))}))}return Kp(t,null)}(lv(e,t).map(av)).pipe(G(uv))}}function pv(e){return null!=e?dv(cv(e)):null}function vv(e,t){return null===e?[t]:Array.isArray(e)?[].concat(m(e),[t]):[e,t]}function gv(e){return e._rawValidators}function yv(e){return e._rawAsyncValidators}function mv(e){return e?Array.isArray(e)?e:[e]:[]}function bv(e,t){return Array.isArray(e)?e.includes(t):e===t}function _v(e,t){var n=mv(t);return mv(e).forEach(function(e){bv(n,e)||n.push(e)}),n}function kv(e,t){return mv(t).filter(function(t){return!bv(e,t)})}var wv=function(){var e=function(){function e(){u(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return c(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=fv(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pv(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=vt({type:e}),e}(),Sv=function(){var e=function(e){h(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(wv);return e.\u0275fac=function(){var t;return function(n){return(t||(t=oi(e)))(n||e)}}(),e.\u0275dir=vt({type:e,features:[Xo]}),e}(),Cv=function(e){h(n,e);var t=d(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(wv),Ev=function(){function e(t){u(this,e),this._cd=t}return c(e,[{key:"is",value:function(e){var t,n,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===i?void 0:i[e])}}]),e}(),Tv=function(){var e=function(e){h(n,e);var t=d(n);function n(e){return u(this,n),t.call(this,e)}return n}(Ev);return e.\u0275fac=function(t){return new(t||e)(ys(Cv,2))},e.\u0275dir=vt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&zs("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[Xo]}),e}(),xv=function(){var e=function(e){h(n,e);var t=d(n);function n(e){return u(this,n),t.call(this,e)}return n}(Ev);return e.\u0275fac=function(t){return new(t||e)(ys(Sv,10))},e.\u0275dir=vt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&zs("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[Xo]}),e}();function Ov(e,t){return[].concat(m(t.path),[e])}function Iv(e,t){Rv(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Pv(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Pv(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)}function Av(e,t){var n=function(){};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Mv(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(function(){}))}function Dv(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Rv(e,t){var n=gv(e);null!==t.validator?e.setValidators(vv(n,t.validator)):"function"==typeof n&&e.setValidators([n]);var i=yv(e);null!==t.asyncValidator?e.setAsyncValidators(vv(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);var r=function(){return e.updateValueAndValidity()};Dv(t._rawValidators,r),Dv(t._rawAsyncValidators,r)}function Mv(e,t){var n=!1;if(null!==e){if(null!==t.validator){var i=gv(e);if(Array.isArray(i)&&i.length>0){var r=i.filter(function(e){return e!==t.validator});r.length!==i.length&&(n=!0,e.setValidators(r))}}if(null!==t.asyncValidator){var o=yv(e);if(Array.isArray(o)&&o.length>0){var s=o.filter(function(e){return e!==t.asyncValidator});s.length!==o.length&&(n=!0,e.setAsyncValidators(s))}}}var a=function(){};return Dv(t._rawValidators,a),Dv(t._rawAsyncValidators,a),n}function Pv(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Lv(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function Nv(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===Jp?n=e:function(e){return Object.getPrototypeOf(e.constructor)===Qp}(e)?i=e:r=e}),r||i||n||null):null;var n,i,r}function Fv(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Vv="VALID",jv="INVALID",Bv="PENDING",Uv="DISABLED";function Hv(e){return(Kv(e)?e.validators:e)||null}function qv(e){return Array.isArray(e)?fv(e):e||null}function zv(e,t){return(Kv(t)?t.asyncValidators:e)||null}function Wv(e){return Array.isArray(e)?pv(e):e||null}function Kv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Gv=function(){function e(t,n){u(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=qv(this._rawValidators),this._composedAsyncValidatorFn=Wv(this._rawAsyncValidators)}return c(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===Vv}},{key:"invalid",get:function(){return this.status===jv}},{key:"pending",get:function(){return this.status==Bv}},{key:"disabled",get:function(){return this.status===Uv}},{key:"enabled",get:function(){return this.status!==Uv}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=qv(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Wv(e)}},{key:"addValidators",value:function(e){this.setValidators(_v(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(_v(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators(kv(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators(kv(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return bv(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return bv(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=Bv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=Uv,this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=Vv,this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vv||this.status===Bv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?Uv:Vv}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status=Bv,this._hasOwnPendingAsyncValidator=!0;var n=av(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;var i=e;return t.forEach(function(e){i=i instanceof Yv?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof Zv&&i.at(e)||null}),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new Mu,this.statusChanges=new Mu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?Uv:this.errors?jv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bv)?Bv:this._anyControlsHaveStatus(jv)?jv:Vv}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Kv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),Qv=function(e){h(n,e);var t=d(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return u(this,n),(e=t.call(this,Hv(r),zv(o,r)))._onChange=[],e._applyFormState(i),e._setUpdateStrategy(r),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!e.asyncValidator}),e}return c(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){Fv(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){Fv(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(Gv),Yv=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,Hv(i),zv(r,i))).controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return c(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof Qv?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var i=t.controls[n];i&&e(i,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var i=n[t],r=this.controls[i];if(this.contains(i)&&e(r))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,i){n=t(n,e,i)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(Gv),Zv=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,Hv(i),zv(r,i))).controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return c(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof Qv?e.value:e.getRawValue()})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=a(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(Gv),$v={provide:Cv,useExisting:Te(function(){return Xv})},Jv=Promise.resolve(null),Xv=function(){var e=function(e){h(n,e);var t=d(n);function n(e,i,r,o){var s;return u(this,n),(s=t.call(this)).control=new Qv,s._registered=!1,s.update=new Mu,s._parent=e,s._setValidators(i),s._setAsyncValidators(r),s.valueAccessor=Nv(0,o),s}return c(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Lv(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?Ov(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Iv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;Jv.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;Jv.then(function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()})}}]),n}(Cv);return e.\u0275fac=function(t){return new(t||e)(ys(Sv,9),ys(tv,10),ys(nv,10),ys(Yp,10))},e.\u0275dir=vt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_a([$v]),Xo,Ot]}),e}(),eg=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({}),e}(),tg=new ci("NgModelWithFormControlWarning"),ng={provide:Sv,useExisting:Te(function(){return ig})},ig=function(){var e=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this)).validators=e,r.asyncValidators=i,r.submitted=!1,r._onCollectionChange=function(){return r._updateDomValue()},r.directives=[],r.form=null,r.ngSubmit=new Mu,r._setValidators(e),r._setAsyncValidators(i),r}return c(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(Mv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return Iv(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){Av(e.control||null,e,!1),Fv(this.directives,e)}},{key:"addFormGroup",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormGroup",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormArray",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,function(e,t){e._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach(function(t){var n=t.control,i=e.form.get(t.path);n!==i&&(Av(n||null,t),i instanceof Qv&&(Iv(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(e){var t=this.form.get(e.path);(function(e,t){Rv(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(e){if(this.form){var t=this.form.get(e.path);t&&function(e,t){return Mv(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){Rv(this.form,this),this._oldForm&&Mv(this._oldForm,this)}},{key:"_checkFormPresent",value:function(){}}]),n}(Sv);return e.\u0275fac=function(t){return new(t||e)(ys(tv,10),ys(nv,10))},e.\u0275dir=vt({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&As("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_a([ng]),Xo,Ot]}),e}(),rg={provide:Cv,useExisting:Te(function(){return og})},og=function(){var e=function(e){h(n,e);var t=d(n);function n(e,i,r,o,s){var a;return u(this,n),(a=t.call(this))._ngModelWarningConfig=s,a._added=!1,a.update=new Mu,a._ngModelWarningSent=!1,a._parent=e,a._setValidators(i),a._setAsyncValidators(r),a.valueAccessor=Nv(0,o),a}return c(n,[{key:"isDisabled",set:function(e){}},{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),Lv(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return Ov(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(Cv);return e.\u0275fac=function(t){return new(t||e)(ys(Sv,13),ys(tv,10),ys(nv,10),ys(Yp,10),ys(tg,8))},e.\u0275dir=vt({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_a([rg]),Xo,Ot]}),e._ngModelWarningSentOnce=!1,e}(),sg=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[eg]]}),e}(),ag=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[sg]}),e}(),ug=function(){var e=function(){function e(){u(this,e)}return c(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:tg,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[sg]}),e}(),lg=function(){var e=function(){function e(){u(this,e)}return c(e,[{key:"group",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this._reduceControls(e),r=null,o=null;return null!=n&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(n)?(r=null!=n.validators?n.validators:null,o=null!=n.asyncValidators?n.asyncValidators:null,t=null!=n.updateOn?n.updateOn:void 0):(r=null!=n.validator?n.validator:null,o=null!=n.asyncValidator?n.asyncValidator:null)),new Yv(i,{asyncValidators:o,updateOn:t,validators:r})}},{key:"control",value:function(e,t,n){return new Qv(e,t,n)}},{key:"array",value:function(e,t,n){var i=this,r=e.map(function(e){return i._createControl(e)});return new Zv(r,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach(function(i){n[i]=t._createControl(e[i])}),n}},{key:"_createControl",value:function(e){return e instanceof Qv||e instanceof Yv||e instanceof Zv?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Me({factory:function(){return new e},token:e,providedIn:ug}),e}(),cg=function(){var e=function(){function e(t,n,i){u(this,e),this.el=t,this.ngModel=n,this.cd=i}return c(e,[{key:"ngAfterViewInit",value:function(){this.updateFilledState(),this.cd.detectChanges()}},{key:"ngDoCheck",value:function(){this.updateFilledState()}},{key:"onInput",value:function(e){this.updateFilledState()}},{key:"updateFilledState",value:function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(xa),ys(Xv,8),ys(Ja))},e.\u0275dir=vt({type:e,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,t){1&e&&As("input",function(e){return t.onInput(e)}),2&e&&zs("p-filled",t.filled)}}),e}(),hg=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc]]}),e}();function fg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return K(i)?(t.pop(),te(t,i)):ce(t)}var dg=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this))._value=e,i}return c(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=s(y(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new U;return this._value}},{key:"next",value:function(e){s(y(n.prototype),"next",this).call(this,this._value=e)}}]),n}(z),pg=function(e){h(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(L),vg=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this)).parent=e,o.outerValue=i,o.outerIndex=r,o.index=0,o}return c(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(L);function gg(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new vg(e,n,i);if(!r.closed)return t instanceof j?t.subscribe(r):ee(t)(r)}var yg={},mg=function(){function e(t){u(this,e),this.resultSelector=t}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new bg(e,this.resultSelector))}}]),e}(),bg=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return c(n,[{key:"_next",value:function(e){this.values.push(yg),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(gg(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var i=this.values,r=this.toRespond?i[n]===yg?--this.toRespond:this.toRespond:0;i[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(g){return void this.destination.error(g)}this.destination.next(t)}}]),n}(pg),_g=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function kg(){return le(1)(fg.apply(void 0,arguments))}var wg=new j(function(e){return e.complete()});function Sg(e){return e?function(e){return new j(function(t){return e.schedule(function(){return t.complete()})})}(e):wg}function Cg(e){return new j(function(t){var n;try{n=e()}catch(S){return void t.error(S)}return(n?ne(n):Sg()).subscribe(t)})}function Eg(e,t){return"function"==typeof t?function(n){return n.pipe(Eg(function(n,i){return ne(e(n,i)).pipe(G(function(e,r){return t(n,e,i,r)}))}))}:function(t){return t.lift(new Tg(e))}}var Tg=function(){function e(t){u(this,e),this.project=t}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new xg(e,this.project))}}]),e}(),xg=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).project=i,r.index=0,r}return c(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(S){return void this.destination.error(S)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new ie(this),i=this.destination;i.add(n),this.innerSubscription=oe(e,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;(!e||e.closed)&&s(y(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&s(y(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(re),Og=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Ig(e){return function(t){return 0===e?Sg():t.lift(new Ag(e))}}var Ag=function(){function e(t){if(u(this,e),this.total=t,this.total<0)throw new Og}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Dg(e,this.total))}}]),e}(),Dg=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return c(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(L);function Rg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return K(i)?(t.pop(),function(e){return kg(t,e,i)}):function(e){return kg(t,e)}}function Mg(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Pg(e,t,n))}}var Pg=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Lg(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Lg=function(e){h(n,e);var t=d(n);function n(e,i,r,o){var s;return u(this,n),(s=t.call(this,e)).accumulator=i,s._seed=r,s.hasSeed=o,s.index=0,s}return c(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(S){this.destination.error(S)}this.seed=t,this.destination.next(t)}}]),n}(L);function Ng(e,t){return function(n){return n.lift(new Fg(e,t))}}var Fg=function(){function e(t,n){u(this,e),this.predicate=t,this.thisArg=n}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Vg(e,this.predicate,this.thisArg))}}]),e}(),Vg=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,e)).predicate=i,o.thisArg=r,o.count=0,o}return c(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(g){return void this.destination.error(g)}t&&this.destination.next(e)}}]),n}(L);function jg(e){return function(t){var n=new Bg(e),i=t.lift(n);return n.caught=i}}var Bg=function(){function e(t){u(this,e),this.selector=t}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Ug(e,this.selector,this.caught))}}]),e}(),Ug=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,e)).selector=i,o.caught=r,o}return c(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(f){return void s(y(n.prototype),"error",this).call(this,f)}this._unsubscribeAndRecycle();var i=new ie(this);this.add(i);var r=oe(t,i);r!==i&&this.add(r)}}}]),n}(re);function Hg(e,t){return se(e,t,1)}function qg(e){return function(t){return 0===e?Sg():t.lift(new zg(e))}}var zg=function(){function e(t){if(u(this,e),this.total=t,this.total<0)throw new Og}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Wg(e,this.total))}}]),e}(),Wg=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).total=i,r.ring=new Array,r.count=0,r}return c(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=t++%n;e.next(i[o])}e.complete()}}]),n}(L);function Kg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yg;return function(t){return t.lift(new Gg(e))}}var Gg=function(){function e(t){u(this,e),this.errorFactory=t}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Qg(e,this.errorFactory))}}]),e}(),Qg=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).errorFactory=i,r.hasValue=!1,r}return c(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(l){e=l}this.destination.error(e)}}]),n}(L);function Yg(){return new _g}function Zg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new $g(e))}}var $g=function(){function e(t){u(this,e),this.defaultValue=t}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Jg(e,this.defaultValue))}}]),e}(),Jg=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).defaultValue=i,r.isEmpty=!0,r}return c(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(L);function Xg(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?Ng(function(t,n){return e(t,n,i)}):V,Ig(1),n?Zg(t):Kg(function(){return new _g}))}}function ey(){}function ty(e,t,n){return function(i){return i.lift(new ny(e,t,n))}}var ny=function(){function e(t,n,i){u(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new iy(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),iy=function(e){h(n,e);var t=d(n);function n(e,i,r,o){var s;return u(this,n),(s=t.call(this,e))._tapNext=ey,s._tapError=ey,s._tapComplete=ey,s._tapError=r||ey,s._tapComplete=o||ey,S(i)?(s._context=v(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||ey,s._tapError=i.error||ey,s._tapComplete=i.complete||ey),s}return c(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(f){return void this.destination.error(f)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(f){return void this.destination.error(f)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(l){return void this.destination.error(l)}return this.destination.complete()}}]),n}(L),ry=function(){function e(t){u(this,e),this.callback=t}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new oy(e,this.callback))}}]),e}(),oy=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).add(new R(i)),r}return n}(L),sy=function e(t,n){u(this,e),this.id=t,this.url=n},ay=function(e){h(n,e);var t=d(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u(this,n),(r=t.call(this,e,i)).navigationTrigger=o,r.restoredState=s,r}return c(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(sy),uy=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o}return c(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(sy),ly=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,e,i)).reason=r,o}return c(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(sy),cy=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,e,i)).error=r,o}return c(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(sy),hy=function(e){h(n,e);var t=d(n);function n(e,i,r,o){var s;return u(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=o,s}return c(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(sy),fy=function(e){h(n,e);var t=d(n);function n(e,i,r,o){var s;return u(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=o,s}return c(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(sy),dy=function(e){h(n,e);var t=d(n);function n(e,i,r,o,s){var a;return u(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=o,a.shouldActivate=s,a}return c(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(sy),py=function(e){h(n,e);var t=d(n);function n(e,i,r,o){var s;return u(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=o,s}return c(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(sy),vy=function(e){h(n,e);var t=d(n);function n(e,i,r,o){var s;return u(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=o,s}return c(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(sy),gy=function(){function e(t){u(this,e),this.route=t}return c(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),yy=function(){function e(t){u(this,e),this.route=t}return c(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),my=function(){function e(t){u(this,e),this.snapshot=t}return c(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),by=function(){function e(t){u(this,e),this.snapshot=t}return c(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),_y=function(){function e(t){u(this,e),this.snapshot=t}return c(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ky=function(){function e(t){u(this,e),this.snapshot=t}return c(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),wy=function(){function e(t,n,i){u(this,e),this.routerEvent=t,this.position=n,this.anchor=i}return c(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Sy="primary",Cy=function(){function e(t){u(this,e),this.params=t||{}}return c(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Ey(e){return new Cy(e)}var Ty="ngNavigationCancelingError";function xy(e){var t=Error("NavigationCancelingError: "+e);return t[Ty]=!0,t}function Oy(e,t,n){var i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;for(var r={},o=0;o<i.length;o++){var s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Iy(e,t){var n,i=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(!Ay(e[n=i[o]],t[n]))return!1;return!0}function Ay(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=m(e).sort(),i=m(t).sort();return n.every(function(e,t){return i[t]===e})}return e===t}function Dy(e){return Array.prototype.concat.apply([],e)}function Ry(e){return e.length>0?e[e.length-1]:null}function My(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Py(e){return Is(e)?e:xs(e)?ne(Promise.resolve(e)):fg(e)}var Ly={exact:function e(t,n,i){if(!zy(t.segments,n.segments)||!By(t.segments,n.segments,i)||t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children)if(!t.children[r]||!e(t.children[r],n.children[r],i))return!1;return!0},subset:Vy},Ny={exact:function(e,t){return Iy(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return Ay(e[n],t[n])})},ignored:function(){return!0}};function Fy(e,t,n){return Ly[n.paths](e.root,t.root,n.matrixParams)&&Ny[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Vy(e,t,n){return jy(e,t,t.segments,n)}function jy(e,t,n,i){if(e.segments.length>n.length){var r=e.segments.slice(0,n.length);return!(!zy(r,n)||t.hasChildren()||!By(r,n,i))}if(e.segments.length===n.length){if(!zy(e.segments,n)||!By(e.segments,n,i))return!1;for(var o in t.children)if(!e.children[o]||!Vy(e.children[o],t.children[o],i))return!1;return!0}var s=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!(zy(e.segments,s)&&By(e.segments,s,i)&&e.children[Sy])&&jy(e.children[Sy],t,a,i)}function By(e,t,n){return t.every(function(t,i){return Ny[n](e[i].parameters,t.parameters)})}var Uy=function(){function e(t,n,i){u(this,e),this.root=t,this.queryParams=n,this.fragment=i}return c(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Ey(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Gy.serialize(this)}}]),e}(),Hy=function(){function e(t,n){var i=this;u(this,e),this.segments=t,this.children=n,this.parent=null,My(n,function(e,t){return e.parent=i})}return c(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Qy(this)}}]),e}(),qy=function(){function e(t,n){u(this,e),this.path=t,this.parameters=n}return c(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Ey(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return tm(this)}}]),e}();function zy(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var Wy=function e(){u(this,e)},Ky=function(){function e(){u(this,e)}return c(e,[{key:"parse",value:function(e){var t=new sm(e);return new Uy(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/".concat(Yy(e.root,!0)),function(e){var t=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat($y(t),"=").concat($y(e))}).join("&"):"".concat($y(t),"=").concat($y(n))}).filter(function(e){return!!e});return t.length?"?".concat(t.join("&")):""}(e.queryParams)).concat("string"==typeof e.fragment?"#".concat(function(e){return encodeURI(e)}(e.fragment)):"")}}]),e}(),Gy=new Ky;function Qy(e){return e.segments.map(function(e){return tm(e)}).join("/")}function Yy(e,t){if(!e.hasChildren())return Qy(e);if(t){var n=e.children[Sy]?Yy(e.children[Sy],!1):"",i=[];return My(e.children,function(e,t){t!==Sy&&i.push("".concat(t,":").concat(Yy(e,!1)))}),i.length>0?"".concat(n,"(").concat(i.join("//"),")"):n}var r=function(e,t){var n=[];return My(e.children,function(e,i){i===Sy&&(n=n.concat(t(e,i)))}),My(e.children,function(e,i){i!==Sy&&(n=n.concat(t(e,i)))}),n}(e,function(t,n){return n===Sy?[Yy(e.children[Sy],!1)]:["".concat(n,":").concat(Yy(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children[Sy]?"".concat(Qy(e),"/").concat(r[0]):"".concat(Qy(e),"/(").concat(r.join("//"),")")}function Zy(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $y(e){return Zy(e).replace(/%3B/gi,";")}function Jy(e){return Zy(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xy(e){return decodeURIComponent(e)}function em(e){return Xy(e.replace(/\+/g,"%20"))}function tm(e){return"".concat(Jy(e.path)).concat(function(e){return Object.keys(e).map(function(t){return";".concat(Jy(t),"=").concat(Jy(e[t]))}).join("")}(e.parameters))}var nm=/^[^\/()?;=#]+/;function im(e){var t=e.match(nm);return t?t[0]:""}var rm=/^[^=?&#]+/,om=/^[^?&#]+/,sm=function(){function e(t){u(this,e),this.url=t,this.remaining=t}return c(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hy([],{}):new Hy([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Sy]=new Hy(e,t)),n}},{key:"parseSegment",value:function(){var e=im(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new qy(Xy(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=im(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=im(this.remaining);i&&(n=i,this.capture(n))}e[Xy(t)]=Xy(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(rm);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=function(e){var t=e.match(om);return t?t[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=em(t),o=em(n);if(e.hasOwnProperty(r)){var s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=im(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=Sy);var o=this.parseChildren();t[r]=1===Object.keys(o).length?o[Sy]:new Hy([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),am=function(){function e(t){u(this,e),this._root=t}return c(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=um(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=um(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=lm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return lm(e,this._root).map(function(e){return e.value})}}]),e}();function um(e,t){if(e===t.value)return t;var n,i=a(t.children);try{for(i.s();!(n=i.n()).done;){var r=um(e,n.value);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null}function lm(e,t){if(e===t.value)return[t];var n,i=a(t.children);try{for(i.s();!(n=i.n()).done;){var r=lm(e,n.value);if(r.length)return r.unshift(t),r}}catch(o){i.e(o)}finally{i.f()}return[]}var cm=function(){function e(t,n){u(this,e),this.value=t,this.children=n}return c(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function hm(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var fm=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).snapshot=i,mm(v(r),e),r}return c(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(am);function dm(e,t){var n=function(e,t){var n=new gm([],{},{},"",{},Sy,t,null,e.root,-1,{});return new ym("",new cm(n,[]))}(e,t),i=new dg([new qy("",{})]),r=new dg({}),o=new dg({}),s=new dg({}),a=new dg(""),u=new pm(i,r,s,a,o,Sy,t,n.root);return u.snapshot=n.root,new fm(new cm(u,[]),n)}var pm=function(){function e(t,n,i,r,o,s,a,l){u(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}return c(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(G(function(e){return Ey(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G(function(e){return Ey(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function vm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var gm=function(){function e(t,n,i,r,o,s,a,l,c,h,f){u(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=h,this._resolve=f}return c(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Ey(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Ey(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),ym=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,i)).url=e,mm(v(r),i),r}return c(n,[{key:"toString",value:function(){return bm(this._root)}}]),n}(am);function mm(e,t){t.value._routerState=e,t.children.forEach(function(t){return mm(e,t)})}function bm(e){var t=e.children.length>0?" { ".concat(e.children.map(bm).join(", ")," } "):"";return"".concat(e.value).concat(t)}function _m(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Iy(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Iy(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Iy(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Iy(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function km(e,t){return Iy(e.params,t.params)&&function(e,t){return zy(e,t)&&e.every(function(e,n){return Iy(e.parameters,t[n].parameters)})}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||km(e.parent,t.parent))}function wm(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=t.value;var r=function(e,t,n){return t.children.map(function(t){var i,r=a(n.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(e.shouldReuseRoute(t.value,o.value.snapshot))return wm(e,t,o)}}catch(s){r.e(s)}finally{r.f()}return wm(e,t)})}(e,t,n);return new cm(i,r)}if(e.shouldAttach(t.value)){var o=e.retrieve(t.value);if(null!==o){var s=o.route;return Sm(t,s),s}}var u=function(e){return new pm(new dg(e.url),new dg(e.params),new dg(e.queryParams),new dg(e.fragment),new dg(e.data),e.outlet,e.component,e)}(t.value),l=t.children.map(function(t){return wm(e,t)});return new cm(u,l)}function Sm(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)Sm(e.children[n],t.children[n])}function Cm(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Em(e){return"object"==typeof e&&null!=e&&e.outlets}function Tm(e,t,n,i,r){var o={};return i&&My(i,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new Uy(n.root===e?t:xm(n.root,e,t),o,r)}function xm(e,t,n){var i={};return My(e.children,function(e,r){i[r]=e===t?n:xm(e,t,n)}),new Hy(e.segments,i)}var Om=function(){function e(t,n,i){if(u(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Cm(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find(Em);if(r&&r!==Ry(i))throw new Error("{outlets:{}} has to be the last command")}return c(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Im=function e(t,n,i){u(this,e),this.segmentGroup=t,this.processChildren=n,this.index=i};function Am(e,t,n){if(e||(e=new Hy([],{})),0===e.segments.length&&e.hasChildren())return Dm(e,t,n);var i=function(e,t,n){for(var i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};r<e.segments.length;){if(i>=n.length)return o;var s=e.segments[r],a=n[i];if(Em(a))break;var u="".concat(a),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!Lm(u,l,s))return o;i+=2}else{if(!Lm(u,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){var o=new Hy(e.segments.slice(0,i.pathIndex),{});return o.children[Sy]=new Hy(e.segments.slice(i.pathIndex),e.children),Dm(o,0,r)}return i.match&&0===r.length?new Hy(e.segments,{}):i.match&&!e.hasChildren()?Rm(e,t,n):i.match?Dm(e,0,r):Rm(e,t,n)}function Dm(t,n,i){if(0===i.length)return new Hy(t.segments,{});var r=function(t){return Em(t[0])?t[0].outlets:e({},Sy,t)}(i),o={};return My(r,function(e,i){"string"==typeof e&&(e=[e]),null!==e&&(o[i]=Am(t.children[i],n,e))}),My(t.children,function(e,t){void 0===r[t]&&(o[t]=e)}),new Hy(t.segments,o)}function Rm(e,t,n){for(var i=e.segments.slice(0,t),r=0;r<n.length;){var o=n[r];if(Em(o)){var s=Mm(o.outlets);return new Hy(i,s)}if(0===r&&Cm(n[0]))i.push(new qy(e.segments[t].path,Pm(n[0]))),r++;else{var a=Em(o)?o.outlets[Sy]:"".concat(o),u=r<n.length-1?n[r+1]:null;a&&u&&Cm(u)?(i.push(new qy(a,Pm(u))),r+=2):(i.push(new qy(a,{})),r++)}}return new Hy(i,{})}function Mm(e){var t={};return My(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Rm(new Hy([],{}),0,e))}),t}function Pm(e){var t={};return My(e,function(e,n){return t[n]="".concat(e)}),t}function Lm(e,t,n){return e==n.path&&Iy(t,n.parameters)}var Nm=function(){function e(t,n,i,r){u(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}return c(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),_m(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var i=this,r=hm(t);e.children.forEach(function(e){var t=e.value.outlet;i.deactivateRoutes(e,r[t],n),delete r[t]}),My(r,function(e,t){i.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,r=hm(e),o=0,s=Object.keys(r);o<s.length;o++){var a=s[o];this.deactivateRouteAndItsChildren(r[a],i)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var i=this,r=hm(t);e.children.forEach(function(e){i.activateRoutes(e,r[e.value.outlet],n),i.forwardEvent(new ky(e.value.snapshot))}),e.children.length&&this.forwardEvent(new by(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(_m(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(i.component){var s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Fm(a.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=l,s.outlet&&s.outlet.activateWith(i,l),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Fm(e){_m(e.value),e.children.forEach(Fm)}var Vm=function e(t,n){u(this,e),this.routes=t,this.module=n};function jm(e){return"function"==typeof e}function Bm(e){return e instanceof Uy}var Um=Symbol("INITIAL_VALUE");function Hm(){return Eg(function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r;return K(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&O(t[0])&&(t=t[0]),ce(t,r).lift(new mg(i))}(e.map(function(e){return e.pipe(Ig(1),Rg(Um))})).pipe(Mg(function(e,t){var n=!1;return t.reduce(function(e,i,r){return e!==Um?e:(i===Um&&(n=!0),n||!1!==i&&r!==t.length-1&&!Bm(i)?e:i)},e)},Um),Ng(function(e){return e!==Um}),G(function(e){return Bm(e)?e:!0===e}),Ig(1))})}var qm=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&ws(0,"router-outlet")},directives:function(){return[Ub]},encapsulation:2}),e}();function zm(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var i=e[n];Wm(i,Km(t,i))}}function Wm(e,t){e.children&&zm(e.children,t)}function Km(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Gm(e){var t=e.children&&e.children.map(Gm),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Sy&&(n.component=qm),n}function Qm(e){return e.outlet||Sy}function Ym(e,t){var n=e.filter(function(e){return Qm(e)===t});return n.push.apply(n,m(e.filter(function(e){return Qm(e)!==t}))),n}var Zm={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $m(e,t,n){var i;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Zm):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var r=(t.matcher||Oy)(n,e,t);if(!r)return Object.assign({},Zm);var o={};My(r.posParams,function(e,t){o[t]=e.path});var s=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Jm(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return Xm(e,t,n)&&Qm(n)!==Sy})}(e,n,i)){var o=new Hy(t,function(e,t,n,i){var r={};r[Sy]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var o,s=a(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(""===u.path&&Qm(u)!==Sy){var l=new Hy([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,r[Qm(u)]=l}}}catch(c){s.e(c)}finally{s.f()}return r}(e,t,i,new Hy(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return Xm(e,t,n)})}(e,n,i)){var s=new Hy(e.segments,function(e,t,n,i,r,o){var s,u={},l=a(i);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(Xm(e,n,c)&&!r[Qm(c)]){var h=new Hy([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===o?e.segments.length:t.length,u[Qm(c)]=h}}}catch(f){l.e(f)}finally{l.f()}return Object.assign(Object.assign({},r),u)}(e,t,n,i,e.children,r));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var u=new Hy(e.segments,e.children);return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:n}}function Xm(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function eb(e,t,n,i){return!!(Qm(e)===i||i!==Sy&&Xm(t,n,e))&&("**"===e.path||$m(t,e,n).matched)}function tb(e,t,n){return 0===t.length&&!e.children[n]}var nb=function e(t){u(this,e),this.segmentGroup=t||null},ib=function e(t){u(this,e),this.urlTree=t};function rb(e){return new j(function(t){return t.error(new nb(e))})}function ob(e){return new j(function(t){return t.error(new ib(e))})}function sb(e){return new j(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var ab=function(){function t(e,n,i,r,o){u(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(su)}return c(t,[{key:"apply",value:function(){var e=this,t=Jm(this.urlTree.root,[],[],this.config).segmentGroup,n=new Hy(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Sy).pipe(G(function(t){return e.createUrlTree(ub(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(jg(function(t){if(t instanceof ib)return e.allowRedirects=!1,e.match(t.urlTree);throw t instanceof nb?e.noMatchError(t):t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Sy).pipe(G(function(n){return t.createUrlTree(ub(n),e.queryParams,e.fragment)})).pipe(jg(function(e){throw e instanceof nb?t.noMatchError(e):e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,n,i){var r=t.segments.length>0?new Hy([],e({},Sy,t)):t;return new Uy(r,n,i)}},{key:"expandSegmentGroup",value:function(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(G(function(e){return new Hy([],e)})):this.expandSegment(e,n,t,n.segments,i,!0)}},{key:"expandChildren",value:function(e,t,n){for(var i=this,r=[],o=0,s=Object.keys(n.children);o<s.length;o++){var a=s[o];"primary"===a?r.unshift(a):r.push(a)}return ne(r).pipe(Hg(function(r){var o=n.children[r],s=Ym(t,r);return i.expandSegmentGroup(e,s,o,r).pipe(G(function(e){return{segment:e,outlet:r}}))}),Mg(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?Ng(function(t,n){return e(t,n,i)}):V,qg(1),n?Zg(t):Kg(function(){return new _g}))}}())}},{key:"expandSegment",value:function(e,t,n,i,r,o){var s=this;return ne(n).pipe(Hg(function(a){return s.expandSegmentAgainstRoute(e,t,n,a,i,r,o).pipe(jg(function(e){if(e instanceof nb)return fg(null);throw e}))}),Xg(function(e){return!!e}),jg(function(e,n){if(e instanceof _g||"EmptyError"===e.name){if(tb(t,i,r))return fg(new Hy([],{}));throw new nb(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,i,r,o,s){return eb(i,t,r,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o):rb(t):rb(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ob(o):this.lineralizeSegments(n,o).pipe(se(function(n){var o=new Hy(n,{});return r.expandSegment(e,o,t,n,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,o){var s=this,a=$m(t,i,r),u=a.matched,l=a.consumedSegments,c=a.lastChild,h=a.positionalParamSegments;if(!u)return rb(t);var f=this.applyRedirectCommands(l,i.redirectTo,h);return i.redirectTo.startsWith("/")?ob(f):this.lineralizeSegments(i,f).pipe(se(function(i){return s.expandSegment(e,t,n,i.concat(r.slice(c)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,i,r){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?fg(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(G(function(e){return n._loadedConfig=e,new Hy(i,{})})):fg(new Hy(i,{}));var s=$m(t,n,i),a=s.matched,u=s.consumedSegments,l=s.lastChild;if(!a)return rb(t);var c=i.slice(l);return this.getChildConfig(e,n,i).pipe(se(function(e){var i=e.module,s=e.routes,a=Jm(t,u,c,s),l=a.segmentGroup,h=a.slicedSegments,f=new Hy(l.segments,l.children);if(0===h.length&&f.hasChildren())return o.expandChildren(i,s,f).pipe(G(function(e){return new Hy(u,e)}));if(0===s.length&&0===h.length)return fg(new Hy(u,{}));var d=Qm(n)===r;return o.expandSegment(i,f,s,h,d?Sy:r,!0).pipe(G(function(e){return new Hy(u.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var i=this;return t.children?fg(new Vm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?fg(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(se(function(n){return n?i.configLoader.load(e.injector,t).pipe(G(function(e){return t._loadedConfig=e,e})):function(e){return new j(function(t){return t.error(xy("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):fg(new Vm([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var i=this,r=t.canLoad;return r&&0!==r.length?fg(r.map(function(i){var r,o=e.get(i);if(function(e){return e&&jm(e.canLoad)}(o))r=o.canLoad(t,n);else{if(!jm(o))throw new Error("Invalid CanLoad guard");r=o(t,n)}return Py(r)})).pipe(Hm(),ty(function(e){if(Bm(e)){var t=xy('Redirecting to "'.concat(i.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),G(function(e){return!0===e})):fg(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],i=t.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return fg(n);if(i.numberOfChildren>1||!i.children[Sy])return sb(e.redirectTo);i=i.children[Sy]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,i){var r=this.createSegmentGroup(e,t.root,n,i);return new Uy(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return My(e,function(e,i){if("string"==typeof e&&e.startsWith(":")){var r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,i){var r=this,o=this.createSegments(e,t.segments,n,i),s={};return My(t.children,function(t,o){s[o]=r.createSegmentGroup(e,t,n,i)}),new Hy(o,s)}},{key:"createSegments",value:function(e,t,n,i){var r=this;return t.map(function(t){return t.path.startsWith(":")?r.findPosParam(e,t,i):r.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var i=n[t.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return i}},{key:"findOrReturn",value:function(e,t){var n,i=0,r=a(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(i),o;i++}}catch(s){r.e(s)}finally{r.f()}return e}}]),t}();function ub(e){for(var t={},n=0,i=Object.keys(e.children);n<i.length;n++){var r=i[n],o=ub(e.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function(e){if(1===e.numberOfChildren&&e.children[Sy]){var t=e.children[Sy];return new Hy(e.segments.concat(t.segments),t.children)}return e}(new Hy(e.segments,t))}var lb=function e(t){u(this,e),this.path=t,this.route=this.path[this.path.length-1]},cb=function e(t,n){u(this,e),this.component=t,this.route=n};function hb(e,t,n){var i=e._root;return db(i,t?t._root:null,n,[i.value])}function fb(e,t,n){var i=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function db(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=hm(t);return e.children.forEach(function(e){(function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!zy(e.url,t.url);case"pathParamsOrQueryParamsChange":return!zy(e.url,t.url)||!Iy(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!km(e,t)||!Iy(e.queryParams,t.queryParams);case"paramsChange":default:return!km(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new lb(i)):(o.data=s.data,o._resolvedData=s._resolvedData),db(e,t,o.component?a?a.children:null:n,i,r),u&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new cb(a.outlet.component,s))}else s&&pb(t,a,r),r.canActivateChecks.push(new lb(i)),db(e,null,o.component?a?a.children:null:n,i,r)})(e,o[e.value.outlet],n,i.concat([e.value]),r),delete o[e.value.outlet]}),My(o,function(e,t){return pb(e,n.getContext(t),r)}),r}function pb(e,t,n){var i=hm(e),r=e.value;My(i,function(e,i){pb(e,r.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new cb(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}var vb=function e(){u(this,e)};function gb(e){return new j(function(t){return t.error(e)})}var yb=function(){function e(t,n,i,r,o,s){u(this,e),this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return c(e,[{key:"recognize",value:function(){var e=Jm(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Sy);if(null===t)return null;var n=new gm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Sy,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new cm(n,t),r=new ym(this.url,i);return this.inheritParamsAndData(r._root),r}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,i=vm(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],i=0,r=Object.keys(t.children);i<r.length;i++){var o=r[i],s=t.children[o],a=Ym(e,o),u=this.processSegmentGroup(a,s,o);if(null===u)return null;n.push.apply(n,m(u))}var l=mb(n);return function(e){e.sort(function(e,t){return e.value.outlet===Sy?-1:t.value.outlet===Sy?1:e.value.outlet.localeCompare(t.value.outlet)})}(l),l}},{key:"processSegment",value:function(e,t,n,i){var r,o=a(e);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=this.processSegmentAgainstRoute(s,t,n,i);if(null!==u)return u}}catch(l){o.e(l)}finally{o.f()}return tb(t,n,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,i){if(e.redirectTo||!eb(e,t,n,i))return null;var r,o=[],s=[];if("**"===e.path){var a=n.length>0?Ry(n).parameters:{};r=new gm(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kb(e),Qm(e),e.component,e,bb(t),_b(t)+n.length,wb(e))}else{var u=$m(t,e,n);if(!u.matched)return null;o=u.consumedSegments,s=n.slice(u.lastChild),r=new gm(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kb(e),Qm(e),e.component,e,bb(t),_b(t)+o.length,wb(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=Jm(t,o,s,l.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return null===d?null:[new cm(r,d)]}if(0===l.length&&0===f.length)return[new cm(r,[])];var p=Qm(e)===i,v=this.processSegment(l,h,f,p?Sy:i);return null===v?null:[new cm(r,v)]}}]),e}();function mb(e){var t,n=[],i=new Set,r=a(e);try{var o=function(){var e,r=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(r))return n.push(r),"continue";var o=n.find(function(e){return r.value.routeConfig===e.value.routeConfig});void 0!==o?((e=o.children).push.apply(e,m(r.children)),i.add(o)):n.push(r)};for(r.s();!(t=r.n()).done;)o()}catch(h){r.e(h)}finally{r.f()}var s,u=a(i);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=mb(l.children);n.push(new cm(l.value,c))}}catch(h){u.e(h)}finally{u.f()}return n.filter(function(e){return!i.has(e)})}function bb(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function _b(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function kb(e){return e.data||{}}function wb(e){return e.resolve||{}}function Sb(e){return Eg(function(t){var n=e(t);return n?ne(n).pipe(G(function(){return t})):fg(t)})}var Cb=function(e){h(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return n}(function(){function e(){u(this,e)}return c(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),Eb=new ci("ROUTES"),Tb=function(){function e(t,n,i,r){u(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return c(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var i=this.loadModuleFactory(t.loadChildren).pipe(G(function(i){n.onLoadEndListener&&n.onLoadEndListener(t);var r=i.create(e);return new Vm(Dy(r.injector.get(Eb,void 0,qe.Self|qe.Optional)).map(Gm),r)}),jg(function(e){throw t._loader$=void 0,e}));return t._loader$=new ve(i,function(){return new z}).pipe(fe()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?ne(this.loader.load(e)):Py(e()).pipe(se(function(e){return e instanceof au?fg(e):ne(t.compiler.compileModuleAsync(e))}))}}]),e}(),xb=function e(){u(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Ob,this.attachRef=null},Ob=function(){function e(){u(this,e),this.contexts=new Map}return c(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new xb,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Ib=function(){function e(){u(this,e)}return c(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Ab(e){throw e}function Db(e,t,n){return t.parse("/")}function Rb(e,t){return fg(null)}var Mb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lb=function(){var e=function(){function e(t,n,i,r,o,s,a,l){var c=this;u(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new z,this.errorHandler=Ab,this.malformedUriErrorHandler=Db,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Rb,afterPreactivation:Rb},this.urlHandlingStrategy=new Ib,this.routeReuseStrategy=new Cb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(su),this.console=o.get(al);var h=o.get(_l);this.isNgZoneEnabled=h instanceof _l&&_l.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Uy(new Hy([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Tb(s,a,function(e){return c.triggerEvent(new gy(e))},function(e){return c.triggerEvent(new yy(e))}),this.routerState=dm(this.currentUrlTree,this.rootComponentType),this.transitions=new dg({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return c(e,[{key:"browserPageId",get:function(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}},{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Ng(function(e){return 0!==e.id}),G(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Eg(function(e){var i=!1,r=!1;return fg(e).pipe(ty(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Eg(function(e){var i=t.browserUrlTree.toString(),o=!t.navigated||e.extractedUrl.toString()!==i||i!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||o)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Nb(e.source)&&(t.browserUrlTree=e.extractedUrl),fg(e).pipe(Eg(function(e){var i=t.transitions.getValue();return n.next(new ay(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==t.transitions.getValue()?wg:Promise.resolve(e)}),function(e,t,n,i){return Eg(function(r){return function(e,t,n,i,r){return new ab(e,t,n,i,r).apply()}(e,t,n,r.extractedUrl,i).pipe(G(function(e){return Object.assign(Object.assign({},r),{urlAfterRedirects:e})}))})}(t.ngModule.injector,t.configLoader,t.urlSerializer,t.config),ty(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,i,o,s){return se(function(i){return function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new yb(e,t,n,i,o,s).recognize();return null===a?gb(new vb):fg(a)}catch(r){return gb(r)}}(e,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,t.serializeUrl(a)),o,s).pipe(G(function(e){return Object.assign(Object.assign({},i),{targetSnapshot:e})}));var a})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),ty(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,e),t.browserUrlTree=e.urlAfterRedirects);var i=new hy(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(i)}));if(o&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var s=e.id,a=e.extractedUrl,u=e.source,l=e.restoredState,c=e.extras,h=new ay(s,t.serializeUrl(a),u,l);n.next(h);var f=dm(a,t.rootComponentType).snapshot;return fg(Object.assign(Object.assign({},e),{targetSnapshot:f,urlAfterRedirects:a,extras:Object.assign(Object.assign({},c),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),wg}),Sb(function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})}),ty(function(e){var n=new fy(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),G(function(e){return Object.assign(Object.assign({},e),{guards:hb(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return se(function(n){var i=n.targetSnapshot,r=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?fg(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return ne(e).pipe(se(function(e){return function(e,t,n,i,r){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?fg(o.map(function(o){var s,a=fb(o,t,r);if(function(e){return e&&jm(e.canDeactivate)}(a))s=Py(a.canDeactivate(e,t,n,i));else{if(!jm(a))throw new Error("Invalid CanDeactivate guard");s=Py(a(e,t,n,i))}return s.pipe(Xg())})).pipe(Hm()):fg(!0)}(e.component,e.route,n,t,i)}),Xg(function(e){return!0!==e},!0))}(a,i,r,e).pipe(se(function(n){return n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,i){return ne(t).pipe(Hg(function(t){return kg(function(e,t){return null!==e&&t&&t(new my(e)),fg(!0)}(t.route.parent,i),function(e,t){return null!==e&&t&&t(new _y(e)),fg(!0)}(t.route,i),function(e,t,n){var i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return Cg(function(){return fg(t.guards.map(function(r){var o,s=fb(r,t.node,n);if(function(e){return e&&jm(e.canActivateChild)}(s))o=Py(s.canActivateChild(i,e));else{if(!jm(s))throw new Error("Invalid CanActivateChild guard");o=Py(s(i,e))}return o.pipe(Xg())})).pipe(Hm())})});return fg(r).pipe(Hm())}(e,t.path,n),function(e,t,n){var i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?fg(i.map(function(i){return Cg(function(){var r,o=fb(i,t,n);if(function(e){return e&&jm(e.canActivate)}(o))r=Py(o.canActivate(t,e));else{if(!jm(o))throw new Error("Invalid CanActivate guard");r=Py(o(t,e))}return r.pipe(Xg())})})).pipe(Hm()):fg(!0)}(e,t.route,n))}),Xg(function(e){return!0!==e},!0))}(i,s,e,t):fg(n)}),G(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),ty(function(e){if(Bm(e.guardsResult)){var n=xy('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var i=new dy(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(i)}),Ng(function(e){return!!e.guardsResult||(t.restoreHistory(e),t.cancelNavigationTransition(e,""),!1)}),Sb(function(e){if(e.guards.canActivateChecks.length)return fg(e).pipe(ty(function(e){var n=new py(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Eg(function(e){var n=!1;return fg(e).pipe(function(e,t){return se(function(n){var i=n.targetSnapshot,r=n.guards.canActivateChecks;if(!r.length)return fg(n);var o=0;return ne(r).pipe(Hg(function(n){return function(e,t,n,i){return function(e,t,n,i){var r=Object.keys(e);if(0===r.length)return fg({});var o={};return ne(r).pipe(se(function(r){return function(e,t,n,i){var r=fb(e,t,i);return Py(r.resolve?r.resolve(t,n):r(t,n))}(e[r],t,n,i).pipe(ty(function(e){o[r]=e}))}),qg(1),se(function(){return Object.keys(o).length===r.length?fg(o):wg}))}(e._resolve,e,t,i).pipe(G(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),vm(e,n).resolve),null}))}(n.route,i,e,t)}),ty(function(){return o++}),qg(1),se(function(e){return o===r.length?fg(n):wg}))})}(t.paramsInheritanceStrategy,t.ngModule.injector),ty({next:function(){return n=!0},complete:function(){n||(t.restoreHistory(e),t.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),ty(function(e){var n=new vy(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),Sb(function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})}),G(function(e){var n=function(e,t,n){var i=wm(e,t._root,n?n._root:void 0);return new fm(i,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),ty(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,e),t.browserUrlTree=e.urlAfterRedirects)}),function(e,t,n){return G(function(i){return new Nm(t,i.targetRouterState,i.currentRouterState,n).activate(e),i})}(t.rootContexts,t.routeReuseStrategy,function(e){return t.triggerEvent(e)}),ty({next:function(){i=!0},complete:function(){i=!0}}),function(e){return function(t){return t.lift(new ry(e))}}(function(){var n;if(!i&&!r){var o="Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId);"replace"===t.canceledNavigationResolution?(t.restoreHistory(e),t.cancelNavigationTransition(e,o)):t.cancelNavigationTransition(e,o)}(null===(n=t.currentNavigation)||void 0===n?void 0:n.id)===e.id&&(t.currentNavigation=null)}),jg(function(i){if(r=!0,function(e){return e&&e[Ty]}(i)){var o=Bm(i.url);o||(t.navigated=!0,t.restoreHistory(e,!0));var s=new ly(e.id,t.serializeUrl(e.extractedUrl),i.message);n.next(s),o?setTimeout(function(){var n=t.urlHandlingStrategy.merge(i.url,t.rawUrlTree),r={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Nb(e.source)};t.scheduleNavigation(n,"imperative",null,r,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.restoreHistory(e,!0);var a=new cy(e.id,t.serializeUrl(e.extractedUrl),i);n.next(a);try{e.resolve(t.errorHandler(i))}catch(C){e.reject(C)}}return wg}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,i=n.state,r=n.urlTree,o={replaceUrl:!0};if(i){var s=Object.assign({},i);delete s.navigationId,delete s.\u0275routerPageId,0!==Object.keys(s).length&&(o.state=s)}e.scheduleNavigation(r,t,i,o)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){zm(e),this.config=e.map(Gm),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,r=t.fragment,o=t.queryParamsHandling,s=t.preserveFragment,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:r,l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,i,r){if(0===n.length)return Tm(t.root,t.root,t,i,r);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Om(!0,0,e);var t=0,n=!1,i=e.reduce(function(e,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return My(i.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),[].concat(m(e),[{outlets:o}])}if(i.segmentPath)return[].concat(m(e),[i.segmentPath])}return"string"!=typeof i?[].concat(m(e),[i]):0===r?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[].concat(m(e),[i])},[]);return new Om(n,t,i)}(n);if(o.toRoot())return Tm(t.root,new Hy([],{}),t,i,r);var s=function(e,t,n){if(e.isAbsolute)return new Im(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment;return new Im(i,i===t.root,0)}var r=Cm(e.commands[0])?0:1;return function(e,t,n){for(var i=e,r=t,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new Im(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Dm(s.segmentGroup,s.index,o.commands):Am(s.segmentGroup,s.index,o.commands);return Tm(s.segmentGroup,a,t,i,r)}(a,this.currentUrlTree,e,l,null!=u?u:null)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Bm(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(g){t=this.malformedUriErrorHandler(g,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){var n;if(n=!0===t?Object.assign({},Mb):!1===t?Object.assign({},Pb):t,Bm(e))return Fy(this.currentUrlTree,e,n);var i=this.parseUrl(e);return Fy(this.currentUrlTree,i,n)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var i=e[n];return null!=i&&(t[n]=i),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.currentPageId=t.targetPageId,e.events.next(new uy(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ".concat(t))})}},{key:"scheduleNavigation",value:function(e,t,n,i,r){var o,s;if(this.disposed)return Promise.resolve(!1);var a,u,l,c=this.getTransition(),h=Nb(t)&&c&&!Nb(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===e.toString();if(h&&f)return Promise.resolve(!0);r?(a=r.resolve,u=r.reject,l=r.promise):l=new Promise(function(e,t){a=e,u=t});var d,p=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),d=n&&n.\u0275routerPageId?n.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):d=0,this.setTransition({id:p,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t){var n=this.urlSerializer.serialize(e),i=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",i):this.location.go(n,"",i)}},{key:"restoreHistory",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(t=this.currentNavigation)||void 0===t?void 0:t.finalUrl)||0===r?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(e,t){var n=new ly(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}},{key:"generateNgRouterState",value:function(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(fi),Ai(Wy),Ai(Ob),Ai(fc),Ai($o),Ai(Ul),Ai(yl),Ai(void 0))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}();function Nb(e){return"imperative"!==e}var Fb=function(){var e=function(){function e(t,n,i,r,o){u(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new z,null==i&&r.setAttribute(o.nativeElement,"tabindex","0")}return c(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"onClick",value:function(){var e={skipLocationChange:jb(this.skipLocationChange),replaceUrl:jb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jb(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Lb),ys(pm),ai("tabindex"),ys(Aa),ys(xa))},e.\u0275dir=vt({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&As("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Ot]}),e}(),Vb=function(){var e=function(){function e(t,n,i){var r=this;u(this,e),this.router=t,this.route=n,this.locationStrategy=i,this.commands=[],this.onChanges=new z,this.subscription=t.events.subscribe(function(e){e instanceof uy&&r.updateTargetUrlAndHref()})}return c(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,i,r){if(0!==e||t||n||i||r||"string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:jb(this.skipLocationChange),replaceUrl:jb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jb(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Lb),ys(pm),ys(ac))},e.\u0275dir=vt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&As("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(oa("href",t.href,zi),ps("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Ot]}),e}();function jb(e){return""===e||!!e}var Bb=function(){var e=function(){function e(t,n,i,r,o,s){var a=this;u(this,e),this.router=t,this.element=n,this.renderer=i,this.cdr=r,this.link=o,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(function(e){e instanceof uy&&a.update()})}return c(e,[{key:"ngAfterContentInit",value:function(){var e=this;fg(this.links.changes,this.linksWithHrefs.changes,fg(null)).pipe(le()).subscribe(function(t){e.update(),e.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var n=[].concat(m(this.links.toArray()),m(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=ne(n).pipe(le()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(e){var t=function(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return function(n){return e.isActive(n.urlTree,t)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Lb),ys(xa),ys(Aa),ys(Ja),ys(Fb,8),ys(Vb,8))},e.\u0275dir=vt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var i;(1&e&&(Gu(n,Fb,5),Gu(n,Vb,5)),2&e)&&(Wu(i=Qu())&&(t.links=i),Wu(i=Qu())&&(t.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Ot]}),e}(),Ub=function(){var e=function(){function e(t,n,i,r,o){u(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Mu,this.deactivateEvents=new Mu,this.name=r||Sy,t.onChildOutletCreated(this.name,this)}return c(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Hb(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Ob),ys(lu),ys(Sa),ai("name"),ys(Ja))},e.\u0275dir=vt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),Hb=function(){function e(t,n,i){u(this,e),this.route=t,this.childContexts=n,this.parent=i}return c(e,[{key:"get",value:function(e,t){return e===pm?this.route:e===Ob?this.childContexts:this.parent.get(e,t)}}]),e}(),qb=function e(){u(this,e)},zb=function(){function e(){u(this,e)}return c(e,[{key:"preload",value:function(e,t){return fg(null)}}]),e}(),Wb=function(){var e=function(){function e(t,n,i,r,o){u(this,e),this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new Tb(n,i,function(e){return t.triggerEvent(new gy(e))},function(e){return t.triggerEvent(new yy(e))})}return c(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Ng(function(e){return e instanceof uy}),Hg(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(su);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,i=[],r=a(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(e,o)):o.children&&i.push(this.processRoutes(e,o.children))}}catch(u){r.e(u)}finally{r.f()}return ne(i).pipe(le(),G(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?fg(t._loadedConfig):n.loader.load(e.injector,t)).pipe(se(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(Lb),Ai(Ul),Ai(yl),Ai($o),Ai(qb))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),Kb=function(){var e=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u(this,e),this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return c(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof ay?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof uy&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof wy&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new wy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(Lb),Ai(Nc),Ai(void 0))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),Gb=new ci("ROUTER_CONFIGURATION"),Qb=new ci("ROUTER_FORROOT_GUARD"),Yb=[fc,{provide:Wy,useClass:Ky},{provide:Lb,useFactory:function(e,t,n,i,r,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,c=new Lb(null,e,t,n,i,r,o,Dy(s));return u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(function(e){var t,n;null===(t=console.group)||void 0===t||t.call(console,"Router Event: ".concat(e.constructor.name)),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),c},deps:[Wy,Ob,fc,$o,Ul,yl,Eb,Gb,[function(){return function e(){u(this,e)}}(),new Fi],[function(){return function e(){u(this,e)}}(),new Fi]]},Ob,{provide:pm,useFactory:function(e){return e.routerState.root},deps:[Lb]},{provide:Ul,useClass:zl},Wb,zb,function(){function e(){u(this,e)}return c(e,[{key:"preload",value:function(e,t){return t().pipe(jg(function(){return fg(null)}))}}]),e}(),{provide:Gb,useValue:{enableTracing:!1}}];function Zb(){return new Pl("Router",Lb)}var $b=function(){var e=function(){function e(t,n){u(this,e)}return c(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Yb,t_(t),{provide:Qb,useFactory:e_,deps:[[Lb,new Fi,new Vi]]},{provide:Gb,useValue:n||{}},{provide:ac,useFactory:Xb,deps:[Jl,[new Ni(lc),new Fi],Gb]},{provide:Kb,useFactory:Jb,deps:[Lb,Nc,Gb]},{provide:qb,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:zb},{provide:Pl,multi:!0,useFactory:Zb},[n_,{provide:Xu,multi:!0,useFactory:i_,deps:[n_]},{provide:o_,useFactory:r_,deps:[n_]},{provide:sl,multi:!0,useExisting:o_}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[t_(t)]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(Qb,8),Ai(Lb,8))},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({}),e}();function Jb(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Kb(e,t,n)}function Xb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new hc(e,t):new cc(e,t)}function e_(e){return"guarded"}function t_(e){return[{provide:hi,multi:!0,useValue:e},{provide:Eb,multi:!0,useValue:e}]}var n_=function(){var e=function(){function e(t){u(this,e),this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new z}return c(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(ec,Promise.resolve(null)).then(function(){if(e.destroyed)return Promise.resolve(!0);var t=null,n=new Promise(function(e){return t=e}),i=e.injector.get(Lb),r=e.injector.get(Gb);return"disabled"===r.initialNavigation?(i.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(i.hooks.afterPreactivation=function(){return e.initNavigation?fg(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},i.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Gb),n=this.injector.get(Wb),i=this.injector.get(Kb),r=this.injector.get(Lb),o=this.injector.get(jl);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai($o))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}();function i_(e){return e.appInitializer.bind(e)}function r_(e){return e.bootstrapListener.bind(e)}var o_=new ci("Router Initializer"),s_=function(){var e=function(){function e(){u(this,e)}return c(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-developer-page"]],decls:4,vars:0,consts:[[1,"row"],[1,"col-12","center"]],template:function(e,t){1&e&&(_s(0,"div",0),_s(1,"div",1),_s(2,"h2"),na(3,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"),ks(),ks(),ks())},styles:["[_nghost-%COMP%]{color:wheat}"]}),e}();function a_(e){return function(t){return t.lift(new u_(e))}}var u_=function(){function e(t){u(this,e),this.notifier=t}return c(e,[{key:"call",value:function(e,t){var n=new l_(e),i=oe(this.notifier,new ie(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),l_=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this,e)).seenValue=!1,i}return c(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(re),c_=(function(e){e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e[e.Sunday=0]="Sunday"}(c_||(c_={})),c_),h_=(e(k={},c_.Monday,"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a"),e(k,c_.Tuesday,"\u0412\u0442\u043e\u0440\u043d\u0438\u043a"),e(k,c_.Wednesday,"\u0421\u0440\u0435\u0434\u0430"),e(k,c_.Thursday,"\u0427\u0435\u0442\u0432\u0435\u0440\u0433"),e(k,c_.Friday,"\u041f\u044f\u0442\u043d\u0438\u0446\u0430"),e(k,c_.Saturday,"\u0421\u0443\u0431\u0431\u043e\u0442\u0430"),e(k,c_.Sunday,"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"),k),f_=[c_.Monday,c_.Tuesday,c_.Wednesday,c_.Thursday,c_.Friday,c_.Saturday,c_.Sunday],d_={A:[{startTime:"14:00",workTime:20},{startTime:null,workTime:20},{startTime:null,workTime:20},{startTime:null,workTime:20}],B:[{startTime:"14:00",workTime:20},{startTime:null,workTime:20},{startTime:null,workTime:20},{startTime:null,workTime:20}],C:[{startTime:"14:00",workTime:20},{startTime:null,workTime:20},{startTime:null,workTime:20},{startTime:null,workTime:20}]};!function(e){for(var t in e)for(var n in e[t]=e[t]||{},c_)e[t][n]="A"}({"\u0434\u0435\u0440\u0435\u0432\u044c\u044f-\u0435\u043b\u0438":{},"\u0434\u0435\u0440\u0435\u0432\u044c\u044f-\u0431\u0435\u0440\u0451\u0437\u044b":{},"\u0433\u0430\u0437\u043e\u043d \u0437\u0430 \u0434\u043e\u043c\u043e\u043c":{},"\u0433\u0430\u0437\u043e\u043d \u043f\u0435\u0440\u0435\u0434 \u0434\u043e\u043c\u043e\u043c":{},"\u043a\u0443\u0441\u0442\u0430\u0440\u043d\u0438\u043a\u0438":{},"\u043f\u043b\u043e\u0434\u043e\u0432\u044b\u0435":{},"\u0440\u0435\u0437\u0435\u0440\u04321":{},"\u0440\u0435\u0437\u0435\u0440\u04322":{}});var p_={rainDetector:!0,tempDetector:!0,tempHight:30,tempLow:15,timeRatio:100},v_=g(7334),g_=g(166),y_=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r.pending=!1,r}return c(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,i=!1;try{this.work(e)}catch(C){i=!0,n=!!C&&C||new Error(C)}if(i)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){h(n,e);var t=d(n);function n(e,i){return u(this,n),t.call(this)}return c(n,[{key:"schedule",value:function(e){return this}}]),n}(R)),m_=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;u(this,e),this.SchedulerAction=t,this.now=n}return c(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),b_=function(e){h(n,e);var t=d(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m_.now;return u(this,n),(i=t.call(this,e,function(){return n.delegate&&n.delegate!==v(i)?n.delegate.now():r()})).actions=[],i.active=!1,i.scheduled=void 0,i}return c(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):s(y(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(m_),__=new(function(e){h(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return n}(b_))(function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return c(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?s(y(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?s(y(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?s(y(n.prototype),"requestAsyncId",this).call(this,e,t,i):e.flush(this)}}]),n}(y_));function k_(e,t){return new j(t?function(n){return t.schedule(w_,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function w_(e){var t=e.error;e.subscriber.error(t)}var S_=function(){function e(t,n,i){u(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return c(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return fg(this.value);case"E":return k_(this.error);case"C":return Sg()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();S_.completeNotification=new S_("C"),S_.undefinedValueNotification=new S_("N",void 0);var C_=function(e){h(n,e);var t=d(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return u(this,n),(r=t.call(this,e)).scheduler=i,r.delay=o,r}return c(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new E_(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(S_.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(S_.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(S_.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(L),E_=function e(t,n){u(this,e),this.notification=t,this.destination=n},T_=function(e){h(n,e);var t=d(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return u(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=i<1?1:i,e._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return c(n,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}s(y(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new x_(this._getNow(),e)),this._trimBufferThenGetEvents()),s(y(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new U;if(this.isStopped||this.hasError?t=R.EMPTY:(this.observers.push(e),t=new H(this,e)),r&&e.add(e=new C_(e,r)),n)for(var s=0;s<o&&!e.closed;s++)e.next(i[s]);else for(var a=0;a<o&&!e.closed;a++)e.next(i[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||__).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i}}]),n}(z),x_=function e(t,n){u(this,e),this.time=t,this.value=n};function O_(e){return e?me(function(){return new z},e):me(new z)}var I_=(function(e){e[e.CLOSED=0]="CLOSED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(I_||(I_={})),I_),A_=new ci("NgxMqttServiceConfig"),D_=new ci("NgxMqttClientService"),R_=function(){var e=function(){function e(){u(this,e)}return c(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[{provide:A_,useValue:t},{provide:D_,useValue:n}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({}),e}(),M_=function(){var e=function(){function e(t,n){var i=this;u(this,e),this.options=t,this.client=n,this.observables={},this.state=new dg(I_.CLOSED),this.messages=new z,this._clientId=this._generateClientId(),this._connectTimeout=1e4,this._reconnectPeriod=1e4,this._url=void 0,this._onConnect=new Mu,this._onReconnect=new Mu,this._onClose=new Mu,this._onOffline=new Mu,this._onError=new Mu,this._onEnd=new Mu,this._onMessage=new Mu,this._onSuback=new Mu,this._onPacketsend=new Mu,this._onPacketreceive=new Mu,this._handleOnConnect=function(e){!0===i.options.connectOnCreate&&Object.keys(i.observables).forEach(function(e){i.client.subscribe(e)}),i.state.next(I_.CONNECTED),i._onConnect.emit(e)},this._handleOnReconnect=function(){!0===i.options.connectOnCreate&&Object.keys(i.observables).forEach(function(e){i.client.subscribe(e)}),i.state.next(I_.CONNECTING),i._onReconnect.emit()},this._handleOnClose=function(){i.state.next(I_.CLOSED),i._onClose.emit()},this._handleOnOffline=function(){i._onOffline.emit()},this._handleOnError=function(e){i._onError.emit(e),console.error(e)},this._handleOnEnd=function(){i._onEnd.emit()},this._handleOnMessage=function(e,t,n){i._onMessage.emit(n),"publish"===n.cmd&&i.messages.next(n)},this._handleOnPacketsend=function(e){i._onPacketsend.emit()},this._handleOnPacketreceive=function(e){i._onPacketreceive.emit()},!1!==t.connectOnCreate&&this.connect({},n),this.state.subscribe()}return c(e,[{key:"clientId",get:function(){return this._clientId}},{key:"onConnect",get:function(){return this._onConnect}},{key:"onReconnect",get:function(){return this._onReconnect}},{key:"onClose",get:function(){return this._onClose}},{key:"onOffline",get:function(){return this._onOffline}},{key:"onError",get:function(){return this._onError}},{key:"onEnd",get:function(){return this._onEnd}},{key:"onMessage",get:function(){return this._onMessage}},{key:"onPacketsend",get:function(){return this._onPacketsend}},{key:"onPacketreceive",get:function(){return this._onPacketreceive}},{key:"onSuback",get:function(){return this._onSuback}},{key:"connect",value:function(e,t){var n=g_(this.options||{},e),i=n.protocol||"ws",r=n.hostname||"localhost";n.url?this._url=n.url:(this._url="".concat(i,"://").concat(r),this._url+=n.port?":".concat(n.port):"",this._url+=n.path?"".concat(n.path):""),this.state.next(I_.CONNECTING);var o=g_({clientId:this._clientId,reconnectPeriod:this._reconnectPeriod,connectTimeout:this._connectTimeout},n);this.client&&this.client.end(!0),this.client=t||(0,v_.connect)(this._url,o),this._clientId=o.clientId,this.client.on("connect",this._handleOnConnect),this.client.on("reconnect",this._handleOnReconnect),this.client.on("close",this._handleOnClose),this.client.on("offline",this._handleOnOffline),this.client.on("error",this._handleOnError),this.client.stream.on("error",this._handleOnError),this.client.on("end",this._handleOnEnd),this.client.on("message",this._handleOnMessage),this.client.on("packetsend",this._handleOnPacketsend),this.client.on("packetreceive",this._handleOnPacketreceive)}},{key:"disconnect",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.client)throw new Error("mqtt client not connected");this.client.end(e)}},{key:"observeRetained",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{qos:1};return this._generalObserve(e,function(){return function(e,t,n,i){var r=new T_(1,void 0,void 0);return function(e){return me(function(){return r},void 0)(e)}}()},t)}},{key:"observe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{qos:1};return this._generalObserve(e,function(){return O_()},t)}},{key:"_generalObserve",value:function(t,n,i){var r=this;if(!this.client)throw new Error("mqtt client not connected");if(!this.observables[t]){var o=new z;this.observables[t]=function(e,t){return new j(function(t){var n,i;try{n=e()}catch(T){return void t.error(T)}try{i=he(o,r.messages)}catch(T){return void t.error(T)}var s=(i?ne(i):wg).subscribe(t);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}(function(){var e=new R;return r.client.subscribe(t,i,function(e,n){n&&n.forEach(function(e){128===e.qos&&(delete r.observables[e.topic],r.client.unsubscribe(e.topic),o.error("subscription for '".concat(e.topic,"' rejected!"))),r._onSuback.emit({filter:t,granted:128!==e.qos})})}),e.add(function(){delete r.observables[t],r.client.unsubscribe(t)}),e}).pipe(Ng(function(n){return e.filterMatchesTopic(t,n.topic)}),n(),fe())}return this.observables[t]}},{key:"publish",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.client)throw new Error("mqtt client not connected");return j.create(function(r){n.client.publish(e,t,i,function(e){e?r.error(e):(r.next(null),r.complete())})})}},{key:"unsafePublish",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.client)throw new Error("mqtt client not connected");this.client.publish(e,t,n,function(e){if(e)throw e})}},{key:"_generateClientId",value:function(){return"client-"+Math.random().toString(36).substr(2,19)}}],[{key:"filterMatchesTopic",value:function(e,t){if("#"===e[0]&&"$"===t[0])return!1;var n=(e||"").split("/").reverse(),i=(t||"").split("/").reverse();return function e(){var t=n.pop(),r=i.pop();switch(t){case"#":return!0;case"+":return!!r&&e();default:return t===r&&(void 0===t||e())}}()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(A_),Ai(D_))},e.\u0275prov=Me({factory:function(){return new e(Ai(A_),Ai(D_))},token:e,providedIn:"root"}),e}();function P_(e,t){if(1&e&&(_s(0,"span",9),na(1),ks()),2&e){var n=Ms();Br(1),ra(" ",n.header," ")}}function L_(e,t){1&e&&Es(0)}function N_(e,t){1&e&&Ns(0,1,["*ngIf","hasHeaderFacet"])}function F_(e,t){1&e&&Es(0)}function V_(e,t){if(1&e&&(Ss(0),vs(1,F_,1,0,"ng-container",5),Cs()),2&e){var n=Ms();Br(1),ms("ngTemplateOutlet",n.contentTemplate)}}var j_=["*",[["p-header"]]],B_=function(e){return{"p-accordion-tab-active":e}},U_=function(e,t){return{"p-highlight":e,"p-disabled":t}},H_=function(e){return{transitionParams:e}},q_=function(e){return{value:"visible",params:e}},z_=function(e){return{value:"hidden",params:e}},W_=["*","p-header"],K_=["*"],G_=0,Q_=function(){var e=function(){function e(t,n){u(this,e),this.changeDetector=n,this.cache=!0,this.selectedChange=new Mu,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+G_++,this.accordion=t}return c(e,[{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}},{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"content":e.contentTemplate=t.template;break;case"header":e.headerTemplate=t.template;break;default:e.contentTemplate=t.template}})}},{key:"toggle",value:function(e){if(this.disabled)return!1;var t=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:t});else{if(!this.accordion.multiple)for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1),this.accordion.tabs[n].changeDetector.markForCheck();this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:t})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e.preventDefault()}},{key:"findTabIndex",value:function(){for(var e=-1,t=0;t<this.accordion.tabs.length;t++)if(this.accordion.tabs[t]==this){e=t;break}return e}},{key:"hasHeaderFacet",get:function(){return this.headerFacet&&this.headerFacet.length>0}},{key:"onKeydown",value:function(e){(32===e.which||13===e.which)&&(this.toggle(e),e.preventDefault())}},{key:"ngOnDestroy",value:function(){this.accordion.tabs.splice(this.findTabIndex(),1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Te(function(){return Y_})),ys(Ja))},e.\u0275cmp=lt({type:e,selectors:[["p-accordionTab"]],contentQueries:function(e,t,n){var i;(1&e&&(Gu(n,bp,4),Gu(n,kp,4)),2&e)&&(Wu(i=Qu())&&(t.headerFacet=i),Wu(i=Qu())&&(t.templates=i))},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:W_,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,t){1&e&&(Ls(j_),_s(0,"div",0),_s(1,"div",1),_s(2,"a",2),As("click",function(e){return t.toggle(e)})("keydown",function(e){return t.onKeydown(e)}),ws(3,"span",3),vs(4,P_,2,1,"span",4),vs(5,L_,1,0,"ng-container",5),vs(6,N_,1,0,"ng-content",6),ks(),ks(),_s(7,"div",7),_s(8,"div",8),Ns(9),vs(10,V_,2,1,"ng-container",6),ks(),ks(),ks()),2&e&&(ms("ngClass",Cu(15,B_,t.selected)),Br(1),ms("ngClass",Eu(17,U_,t.selected,t.disabled)),Br(1),ps("tabindex",t.disabled?null:0)("id",t.id)("aria-controls",t.id+"-content")("aria-expanded",t.selected),Br(1),ms("ngClass",t.selected?t.accordion.collapseIcon:t.accordion.expandIcon),Br(1),ms("ngIf",!t.hasHeaderFacet),Br(1),ms("ngTemplateOutlet",t.headerTemplate),Br(1),ms("ngIf",t.hasHeaderFacet),Br(1),ms("@tabContent",t.selected?Cu(22,q_,Cu(20,H_,t.transitionOptions)):Cu(26,z_,Cu(24,H_,t.transitionOptions))),ps("id",t.id+"-content")("aria-hidden",!t.selected)("aria-labelledby",t.id),Br(3),ms("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected)))},directives:[mc,wc,Tc],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}"],encapsulation:2,data:{animation:[bh("tabContent",[Sh("hidden",wh({height:"0",overflow:"hidden"})),Sh("visible",wh({height:"*"})),Ch("visible <=> hidden",[wh({overflow:"hidden"}),_h("{{transitionParams}}")]),Ch("void => *",_h(0))])]},changeDetection:0}),e}(),Y_=function(){var e=function(){function e(t,n){u(this,e),this.el=t,this.changeDetector=n,this.onClose=new Mu,this.onOpen=new Mu,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new Mu,this.tabs=[]}return c(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(function(t){e.initTabs()})}},{key:"initTabs",value:function(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"activeIndex",get:function(){return this._activeIndex},set:function(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}},{key:"updateSelectionState",value:function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var e=0;e<this.tabs.length;e++){var t=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;t!==this.tabs[e].selected&&(this.tabs[e].selected=t,this.tabs[e].selectedChange.emit(t),this.tabs[e].changeDetector.markForCheck())}}},{key:"updateActiveIndex",value:function(){var e=this,t=this.multiple?[]:null;this.tabs.forEach(function(n,i){if(n.selected){if(!e.multiple)return void(t=i);t.push(i)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(t)}},{key:"ngOnDestroy",value:function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(xa),ys(Ja))},e.\u0275cmp=lt({type:e,selectors:[["p-accordion"]],contentQueries:function(e,t,n){var i;(1&e&&Gu(n,Q_,4),2&e)&&(Wu(i=Qu())&&(t.tabList=i))},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:K_,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,t){1&e&&(Ls(),_s(0,"div",0),Ns(1),ks()),2&e&&(Ws(t.styleClass),ms("ngClass","p-accordion p-component")("ngStyle",t.style))},directives:[mc,Ec],encapsulation:2,changeDetection:0}),e}(),Z_=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc],wp]}),e}(),$_=["input"],J_=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},X_=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function ek(e,t){if(1&e){var n=Ts();_s(0,"span",5),_s(1,"button",6),As("mousedown",function(e){return Jt(n),Ms().onUpButtonMouseDown(e)})("mouseup",function(){return Jt(n),Ms().onUpButtonMouseUp()})("mouseleave",function(){return Jt(n),Ms().onUpButtonMouseLeave()})("keydown",function(e){return Jt(n),Ms().onUpButtonKeyDown(e)})("keyup",function(){return Jt(n),Ms().onUpButtonKeyUp()}),ks(),_s(2,"button",6),As("mousedown",function(e){return Jt(n),Ms().onDownButtonMouseDown(e)})("mouseup",function(){return Jt(n),Ms().onDownButtonMouseUp()})("mouseleave",function(){return Jt(n),Ms().onDownButtonMouseLeave()})("keydown",function(e){return Jt(n),Ms().onDownButtonKeyDown(e)})("keyup",function(){return Jt(n),Ms().onDownButtonKeyUp()}),ks(),ks()}if(2&e){var i=Ms();Br(1),Ws(i.incrementButtonClass),ms("ngClass",Su(10,J_))("icon",i.incrementButtonIcon)("disabled",i.disabled),Br(1),Ws(i.decrementButtonClass),ms("ngClass",Su(11,X_))("icon",i.decrementButtonIcon)("disabled",i.disabled)}}function tk(e,t){if(1&e){var n=Ts();_s(0,"button",6),As("mousedown",function(e){return Jt(n),Ms().onUpButtonMouseDown(e)})("mouseup",function(){return Jt(n),Ms().onUpButtonMouseUp()})("mouseleave",function(){return Jt(n),Ms().onUpButtonMouseLeave()})("keydown",function(e){return Jt(n),Ms().onUpButtonKeyDown(e)})("keyup",function(){return Jt(n),Ms().onUpButtonKeyUp()}),ks()}if(2&e){var i=Ms();Ws(i.incrementButtonClass),ms("ngClass",Su(5,J_))("icon",i.incrementButtonIcon)("disabled",i.disabled)}}function nk(e,t){if(1&e){var n=Ts();_s(0,"button",6),As("mousedown",function(e){return Jt(n),Ms().onDownButtonMouseDown(e)})("mouseup",function(){return Jt(n),Ms().onDownButtonMouseUp()})("mouseleave",function(){return Jt(n),Ms().onDownButtonMouseLeave()})("keydown",function(e){return Jt(n),Ms().onDownButtonKeyDown(e)})("keyup",function(){return Jt(n),Ms().onDownButtonKeyUp()}),ks()}if(2&e){var i=Ms();Ws(i.decrementButtonClass),ms("ngClass",Su(5,X_))("icon",i.decrementButtonIcon)("disabled",i.disabled)}}var ik=function(e,t,n){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":e,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":n}},rk={provide:Yp,useExisting:Te(function(){return ok}),multi:!0},ok=function(){var e=function(){function e(t,n){u(this,e),this.el=t,this.cd=n,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.onInput=new Mu,this.onFocus=new Mu,this.onBlur=new Mu,this.onKeyDown=new Mu,this.onModelChange=function(){},this.onModelTouched=function(){},this.groupChar="",this.prefixChar="",this.suffixChar=""}return c(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}},{key:"ngOnChanges",value:function(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(function(t){return!!e[t]})&&this.updateConstructParser()}},{key:"ngOnInit",value:function(){this.constructParser(),this.initialized=!0}},{key:"getOptions",value:function(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}},{key:"constructParser",value:function(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());var e=m(new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)).reverse(),t=new Map(e.map(function(e,t){return[e,t]}));this._numeral=new RegExp("[".concat(e.join(""),"]"),"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=function(e){return t.get(e)}}},{key:"updateConstructParser",value:function(){this.initialized&&this.constructParser()}},{key:"escapeRegExp",value:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},{key:"getDecimalExpression",value:function(){var e=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp("[".concat(e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,""),"]"),"g")}},{key:"getGroupingExpression",value:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp("[".concat(this.groupChar,"]"),"g")}},{key:"getMinusSignExpression",value:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp("[".concat(e.format(-1).trim().replace(this._numeral,""),"]"),"g")}},{key:"getCurrencyExpression",value:function(){if(this.currency){var e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp("[".concat(e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,""),"]"),"g")}return new RegExp("[]","g")}},{key:"getPrefixExpression",value:function(){if(this.prefix)this.prefixChar=this.prefix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp("".concat(this.escapeRegExp(this.prefixChar||"")),"g")}},{key:"getSuffixExpression",value:function(){if(this.suffix)this.suffixChar=this.suffix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp("".concat(this.escapeRegExp(this.suffixChar||"")),"g")}},{key:"formatValue",value:function(e){if(null!=e){if("-"===e)return e;if(this.format){var t=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(t=this.prefix+t),this.suffix&&(t+=this.suffix),t}return e.toString()}return""}},{key:"parseValue",value:function(e){var t=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(t){if("-"===t)return t;var n=+t;return isNaN(n)?null:n}return null}},{key:"repeat",value:function(e,t,n){var i=this;if(!this.readonly){var r=t||500;this.clearTimer(),this.timer=setTimeout(function(){i.repeat(e,40,n)},r),this.spin(e,n)}}},{key:"spin",value:function(e,t){var n=this.step*t,i=this.parseValue(this.input.nativeElement.value)||0,r=this.validateValue(i+n);this.maxlength&&this.maxlength<this.formatValue(r).length||(this.updateInput(r,null,"spin",null),this.updateModel(e,r),this.handleOnInput(e,i,r))}},{key:"onUpButtonMouseDown",value:function(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}},{key:"onUpButtonMouseUp",value:function(){this.clearTimer()}},{key:"onUpButtonMouseLeave",value:function(){this.clearTimer()}},{key:"onUpButtonKeyDown",value:function(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}},{key:"onUpButtonKeyUp",value:function(){this.clearTimer()}},{key:"onDownButtonMouseDown",value:function(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}},{key:"onDownButtonMouseUp",value:function(){this.clearTimer()}},{key:"onDownButtonMouseLeave",value:function(){this.clearTimer()}},{key:"onDownButtonKeyUp",value:function(){this.clearTimer()}},{key:"onDownButtonKeyDown",value:function(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}},{key:"onUserInput",value:function(e){this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1}},{key:"onInputKeyDown",value:function(e){if(this.lastValue=e.target.value,e.shiftKey||e.altKey)this.isSpecialChar=!0;else{var t=e.target.selectionStart,n=e.target.selectionEnd,i=e.target.value,r=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(i.charAt(t-1))||e.preventDefault();break;case 39:this.isNumeralChar(i.charAt(t))||e.preventDefault();break;case 13:r=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(r),this.input.nativeElement.setAttribute("aria-valuenow",r),this.updateModel(e,r);break;case 8:if(e.preventDefault(),t===n){var o=i.charAt(t-1),s=this.getDecimalCharIndexes(i),a=s.decimalCharIndex,u=s.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(o)){var l=this.getDecimalLength(i);if(this._group.test(o))this._group.lastIndex=0,r=i.slice(0,t-2)+i.slice(t-1);else if(this._decimal.test(o))this._decimal.lastIndex=0,l?this.input.nativeElement.setSelectionRange(t-1,t-1):r=i.slice(0,t-1)+i.slice(t);else if(a>0&&t>a){var c=this.isDecimalMode()&&(this.minFractionDigits||0)<l?"":"0";r=i.slice(0,t-1)+c+i.slice(t)}else 1===u?(r=i.slice(0,t-1)+"0"+i.slice(t),r=this.parseValue(r)>0?r:""):r=i.slice(0,t-1)+i.slice(t)}this.updateValue(e,r,null,"delete-single")}else r=this.deleteRange(i,t,n),this.updateValue(e,r,null,"delete-range");break;case 46:if(e.preventDefault(),t===n){var h=i.charAt(t),f=this.getDecimalCharIndexes(i),d=f.decimalCharIndex,p=f.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(h)){var v=this.getDecimalLength(i);if(this._group.test(h))this._group.lastIndex=0,r=i.slice(0,t)+i.slice(t+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,v?this.input.nativeElement.setSelectionRange(t+1,t+1):r=i.slice(0,t)+i.slice(t+1);else if(d>0&&t>d){var g=this.isDecimalMode()&&(this.minFractionDigits||0)<v?"":"0";r=i.slice(0,t)+g+i.slice(t+1)}else 1===p?(r=i.slice(0,t)+"0"+i.slice(t+1),r=this.parseValue(r)>0?r:""):r=i.slice(0,t)+i.slice(t+1)}this.updateValue(e,r,null,"delete-back-single")}else r=this.deleteRange(i,t,n),this.updateValue(e,r,null,"delete-range")}this.onKeyDown.emit(e)}}},{key:"onInputKeyPress",value:function(e){e.preventDefault();var t=e.which||e.keyCode,n=String.fromCharCode(t),i=this.isDecimalSign(n),r=this.isMinusSign(n);(48<=t&&t<=57||r||i)&&this.insert(e,n,{isDecimalSign:i,isMinusSign:r})}},{key:"onPaste",value:function(e){if(!this.disabled){e.preventDefault();var t=(e.clipboardData||window.clipboardData).getData("Text");if(t){var n=this.parseValue(t);null!=n&&this.insert(e,n.toString())}}}},{key:"allowMinusSign",value:function(){return null==this.min||this.min<0}},{key:"isMinusSign",value:function(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}},{key:"isDecimalSign",value:function(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}},{key:"isDecimalMode",value:function(){return"decimal"===this.mode}},{key:"getDecimalCharIndexes",value:function(e){var t=e.search(this._decimal);this._decimal.lastIndex=0;var n=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:t,decimalCharIndexWithoutPrefix:n}}},{key:"getCharIndexes",value:function(e){var t=e.search(this._decimal);this._decimal.lastIndex=0;var n=e.search(this._minusSign);this._minusSign.lastIndex=0;var i=e.search(this._suffix);this._suffix.lastIndex=0;var r=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:t,minusCharIndex:n,suffixCharIndex:i,currencyCharIndex:r}}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},i=t.search(this._minusSign);if(this._minusSign.lastIndex=0,this.allowMinusSign()||-1===i){var r,o=this.input.nativeElement.selectionStart,s=this.input.nativeElement.selectionEnd,a=this.input.nativeElement.value.trim(),u=this.getCharIndexes(a),l=u.decimalCharIndex,c=u.minusCharIndex,h=u.suffixCharIndex,f=u.currencyCharIndex;if(n.isMinusSign)0===o&&(r=a,(-1===c||0!==s)&&(r=this.insertText(a,t,0,s)),this.updateValue(e,r,t,"insert"));else if(n.isDecimalSign)l>0&&o===l?this.updateValue(e,a,t,"insert"):(l>o&&l<s||-1===l&&this.maxFractionDigits)&&(r=this.insertText(a,t,o,s),this.updateValue(e,r,t,"insert"));else{var d=this.numberFormat.resolvedOptions().maximumFractionDigits,p=o!==s?"range-insert":"insert";if(l>0&&o>l){if(o+t.length-(l+1)<=d){var v=f>=o?f-1:h>=o?h:a.length;r=a.slice(0,o)+t+a.slice(o+t.length,v)+a.slice(v),this.updateValue(e,r,t,p)}}else r=this.insertText(a,t,o,s),this.updateValue(e,r,t,p)}}}},{key:"insertText",value:function(e,t,n,i){if(2===("."===t?t:t.split(".")).length){var r=e.slice(n,i).search(this._decimal);return this._decimal.lastIndex=0,r>0?e.slice(0,n)+this.formatValue(t)+e.slice(i):e||this.formatValue(t)}return i-n===e.length?this.formatValue(t):0===n?t+e.slice(i):i===e.length?e.slice(0,n)+t:e.slice(0,n)+t+e.slice(i)}},{key:"deleteRange",value:function(e,t,n){return n-t===e.length?"":0===t?e.slice(n):n===e.length?e.slice(0,t):e.slice(0,t)+e.slice(n)}},{key:"initCursor",value:function(){var e=this.input.nativeElement.selectionStart,t=this.input.nativeElement.value,n=t.length,i=null,r=(this.prefixChar||"").length;e-=r;var o=(t=t.replace(this._prefix,"")).charAt(e);if(this.isNumeralChar(o))return e+r;for(var s=e-1;s>=0;){if(o=t.charAt(s),this.isNumeralChar(o)){i=s+r;break}s--}if(null!==i)this.input.nativeElement.setSelectionRange(i+1,i+1);else{for(s=e;s<n;){if(o=t.charAt(s),this.isNumeralChar(o)){i=s+r;break}s++}null!==i&&this.input.nativeElement.setSelectionRange(i,i)}return i||0}},{key:"onInputClick",value:function(){this.initCursor()}},{key:"isNumeralChar",value:function(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}},{key:"resetRegex",value:function(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}},{key:"updateValue",value:function(e,t,n,i){var r=this.input.nativeElement.value,o=null;null!=t&&(o=(o=this.parseValue(t))||this.allowEmpty?o:0,this.updateInput(o,n,i,t),this.handleOnInput(e,r,o))}},{key:"handleOnInput",value:function(e,t,n){this.isValueChanged(t,n)&&this.onInput.emit({originalEvent:e,value:n})}},{key:"isValueChanged",value:function(e,t){return null===t&&null!==e||null!=t&&t!==("string"==typeof e?this.parseValue(e):e)}},{key:"validateValue",value:function(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}},{key:"updateInput",value:function(e,t,n,i){t=t||"";var r=this.input.nativeElement.value,o=this.formatValue(e),s=r.length;if(o!==i&&(o=this.concatValues(o,i)),0===s){this.input.nativeElement.value=o,this.input.nativeElement.setSelectionRange(0,0);var a=this.initCursor()+t.length;this.input.nativeElement.setSelectionRange(a,a)}else{var u=this.input.nativeElement.selectionStart,l=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<o.length)return;this.input.nativeElement.value=o;var c=o.length;if("range-insert"===n){var h=this.parseValue((r||"").slice(0,u)),f=(null!==h?h.toString():"").split("").join("(".concat(this.groupChar,")?")),d=new RegExp(f,"g");d.test(o);var p=t.split("").join("(".concat(this.groupChar,")?")),v=new RegExp(p,"g");v.test(o.slice(d.lastIndex)),l=d.lastIndex+v.lastIndex,this.input.nativeElement.setSelectionRange(l,l)}else if(c===s)"insert"===n||"delete-back-single"===n?this.input.nativeElement.setSelectionRange(l+1,l+1):"delete-single"===n?this.input.nativeElement.setSelectionRange(l-1,l-1):("delete-range"===n||"spin"===n)&&this.input.nativeElement.setSelectionRange(l,l);else if("delete-back-single"===n){var g=r.charAt(l-1),y=r.charAt(l),m=s-c,b=this._group.test(y);b&&1===m?l+=1:!b&&this.isNumeralChar(g)&&(l+=-1*m+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(l,l)}else if("-"===r&&"insert"===n){this.input.nativeElement.setSelectionRange(0,0);var _=this.initCursor()+t.length+1;this.input.nativeElement.setSelectionRange(_,_)}else l+=c-s,this.input.nativeElement.setSelectionRange(l,l)}this.input.nativeElement.setAttribute("aria-valuenow",e)}},{key:"concatValues",value:function(e,t){if(e&&t){var n=t.search(this._decimal);return this._decimal.lastIndex=0,-1!==n?e.split(this._decimal)[0]+t.slice(n):e}return e}},{key:"getDecimalLength",value:function(e){if(e){var t=e.split(this._decimal);if(2===t.length)return t[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}},{key:"onInputFocus",value:function(e){this.focused=!0,this.onFocus.emit(e)}},{key:"onInputBlur",value:function(e){this.focused=!1;var t=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(t),this.input.nativeElement.setAttribute("aria-valuenow",t),this.updateModel(e,t),this.onBlur.emit(e)}},{key:"formattedValue",value:function(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}},{key:"updateModel",value:function(e,t){this.value!==t&&(this.value=t,this.onModelChange(t)),this.onModelTouched()}},{key:"writeValue",value:function(e){this.value=e,this.cd.markForCheck()}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cd.markForCheck()}},{key:"filled",get:function(){return null!=this.value&&this.value.toString().length>0}},{key:"clearTimer",value:function(){this.timer&&clearInterval(this.timer)}},{key:"getFormatter",value:function(){return this.numberFormat}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(xa),ys(Ja))},e.\u0275cmp=lt({type:e,selectors:[["p-inputNumber"]],viewQuery:function(e,t){var n;(1&e&&Ku($_,5),2&e)&&(Wu(n=Qu())&&(t.input=n.first))},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,t){2&e&&zs("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[_a([rk]),Ot],decls:6,vars:31,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,t){1&e&&(_s(0,"span",0),_s(1,"input",1,2),As("input",function(e){return t.onUserInput(e)})("keydown",function(e){return t.onInputKeyDown(e)})("keypress",function(e){return t.onInputKeyPress(e)})("paste",function(e){return t.onPaste(e)})("click",function(){return t.onInputClick()})("focus",function(e){return t.onInputFocus(e)})("blur",function(e){return t.onInputBlur(e)}),ks(),vs(3,ek,3,12,"span",3),vs(4,tk,1,6,"button",4),vs(5,nk,1,6,"button",4),ks()),2&e&&(Ws(t.styleClass),ms("ngClass",Tu(27,ik,t.showButtons&&"stacked"===t.buttonLayout,t.showButtons&&"horizontal"===t.buttonLayout,t.showButtons&&"vertical"===t.buttonLayout))("ngStyle",t.style),Br(1),Ws(t.inputStyleClass),ms("ngClass","p-inputnumber-input")("ngStyle",t.inputStyle)("value",t.formattedValue())("disabled",t.disabled)("readonly",t.readonly),ps("placeholder",t.placeholder)("title",t.title)("id",t.inputId)("size",t.size)("name",t.name)("autocomplete",t.autocomplete)("maxlength",t.maxlength)("tabindex",t.tabindex)("aria-label",t.ariaLabel)("aria-required",t.ariaRequired)("required",t.required)("aria-valuemin",t.min)("aria-valuemax",t.max),Br(2),ms("ngIf",t.showButtons&&"stacked"===t.buttonLayout),Br(1),ms("ngIf",t.showButtons&&"stacked"!==t.buttonLayout),Br(1),ms("ngIf",t.showButtons&&"stacked"!==t.buttonLayout))},directives:[mc,Ec,cg,wc,Ep],styles:[".p-inputnumber,p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid .p-inputnumber,.p-fluid p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}"],encapsulation:2,changeDetection:0}),e}(),sk=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc,hg,Tp]]}),e}();function ak(e,t){if(1&e){var n=Ts();_s(0,"div",2),_s(1,"div",0),_s(2,"div",3),_s(3,"label"),na(4),ks(),ws(5,"br"),_s(6,"p-inputNumber",4),As("ngModelChange",function(e){var t=Jt(n).$implicit;return Ms().times[t.key]=e}),ks(),ks(),_s(7,"div",5),_s(8,"button",6),As("click",function(){var e=Jt(n).$implicit;return Ms().start(e.key)}),ks(),_s(9,"button",7),As("click",function(){var e=Jt(n).$implicit;return Ms().stop(e.key)}),ks(),ks(),ks(),ks()}if(2&e){var i=t.$implicit,r=Ms();Br(4),ra(" ",i.key," (\u043c\u0438\u043d.)"),Br(2),ms("disabled",r.relayStatus[i.key])("ngModel",r.times[i.key])("showButtons",!0)("step",1),Br(2),ms("disabled",r.relayStatus[i.key]),Br(1),ms("disabled",!r.relayStatus[i.key])}}var uk=(function(e){e.Start="Start",e.Stop="Stop"}(uk||(uk={})),uk),lk=function(){var e=function(){function e(t){u(this,e),this.mqttService=t,this.sendCommand=new Mu,this.times={},this.relayStatus={},this.destroy$=new z}return c(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnChanges",value:function(e){var t,n;(null===(t=e.stations)||void 0===t?void 0:t.currentValue)&&(this.times=Object.keys(e.stations.currentValue).reduce(function(e,t){return e[t]=20,e},{})),(null===(n=e.zoneRelayTopicsMaps)||void 0===n?void 0:n.currentValue)&&this.initRelayTopics(e.zoneRelayTopicsMaps.currentValue)}},{key:"initRelayTopics",value:function(e){var t=this;Object.keys(e).forEach(function(n){t.mqttService.observe("/devices/".concat(e[n].deviceName,"/controls/").concat(e[n].control)).pipe(a_(t.destroy$),G(function(e){return JSON.parse(e.payload.toString())})).subscribe(function(e){t.relayStatus[n]=e})})}},{key:"ngOnInit",value:function(){}},{key:"start",value:function(e){this.sendCommand.emit({commnad:uk.Start,timeSec:this.times[e],zoneKey:e})}},{key:"stop",value:function(e){this.sendCommand.emit({commnad:uk.Stop,timeSec:this.times[e],zoneKey:e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(M_))},e.\u0275cmp=lt({type:e,selectors:[["app-manual-run"]],inputs:{stations:"stations",zoneRelayTopicsMaps:"zoneRelayTopicsMaps"},outputs:{sendCommand:"sendCommand"},features:[Ot],decls:3,vars:3,consts:[[1,"p-grid"],["class","p-col-12 field p-shadow-1",4,"ngFor","ngForOf"],[1,"p-col-12","field","p-shadow-1"],[1,"p-col",2,"max-width","320px"],["buttonLayout","horizontal","inputId","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus","min","5","max","40",3,"disabled","ngModel","showButtons","step","ngModelChange"],[1,"p-col-12","p-md-3","actions"],["pButton","","pRipple","","type","button","label","\u0421\u0442\u0430\u0440\u0442",1,"p-button-success","p-mr-1",3,"disabled","click"],["pButton","","pRipple","","type","button","label","\u0421\u0442\u043e\u043f",1,"p-button-warning",3,"disabled","click"]],template:function(e,t){1&e&&(_s(0,"div",0),vs(1,ak,10,7,"div",1),Au(2,"keyvalue"),ks()),2&e&&(Br(1),ms("ngForOf",Du(2,1,t.stations)))},directives:[_c,ok,Tv,Xv,Ep],pipes:[Dc],styles:[".actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:75px}"]}),e}();function ck(e,t){if(1&e&&(_s(0,"span",10),na(1),ks()),2&e){var n=Ms(2);ps("id",n.id+"_header"),Br(1),ia(n.header)}}function hk(e,t){1&e&&Es(0)}function fk(e,t){}function dk(e,t){1&e&&vs(0,fk,0,0,"ng-template")}function pk(e,t){if(1&e){var n=Ts();_s(0,"button",11),As("click",function(e){return Jt(n),Ms(2).onIconClick(e)})("keydown.enter",function(e){return Jt(n),Ms(2).onIconClick(e)}),ws(1,"span"),ks()}if(2&e){var i=Ms(2);ps("id",i.id+"-label")("aria-controls",i.id+"-content")("aria-expanded",!i.collapsed),Br(1),Ws(i.collapsed?i.expandIcon:i.collapseIcon)}}function vk(e,t){if(1&e){var n=Ts();_s(0,"div",6),As("click",function(e){return Jt(n),Ms().onHeaderClick(e)}),vs(1,ck,2,2,"span",7),Ns(2,1),vs(3,hk,1,0,"ng-container",4),_s(4,"div",8),vs(5,dk,1,0,void 0,4),vs(6,pk,2,5,"button",9),ks(),ks()}if(2&e){var i=Ms();ps("id",i.id+"-titlebar"),Br(1),ms("ngIf",i.header),Br(2),ms("ngTemplateOutlet",i.headerTemplate),Br(2),ms("ngTemplateOutlet",i.iconTemplate),Br(1),ms("ngIf",i.toggleable)}}function gk(e,t){1&e&&Es(0)}function yk(e,t){1&e&&Es(0)}function mk(e,t){if(1&e&&(_s(0,"div",12),Ns(1,2),vs(2,yk,1,0,"ng-container",4),ks()),2&e){var n=Ms();Br(2),ms("ngTemplateOutlet",n.footerTemplate)}}var bk=["*",[["p-header"]],[["p-footer"]]],_k=function(e){return{"p-panel p-component":!0,"p-panel-toggleable":e}},kk=function(e){return{transitionParams:e,height:"0",opacity:"0"}},wk=function(e){return{value:"hidden",params:e}},Sk=function(e){return{transitionParams:e,height:"*",opacity:"1"}},Ck=function(e){return{value:"visible",params:e}},Ek=["*","p-header","p-footer"],Tk=0,xk=function(){var e=function(){function e(t){u(this,e),this.el=t,this.collapsed=!1,this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new Mu,this.onBeforeToggle=new Mu,this.onAfterToggle=new Mu,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+Tk++}return c(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"header":e.headerTemplate=t.template;break;case"content":e.contentTemplate=t.template;break;case"footer":e.footerTemplate=t.template;break;case"icons":e.iconTemplate=t.template;break;default:e.contentTemplate=t.template}})}},{key:"onHeaderClick",value:function(e){"header"===this.toggler&&this.toggle(e)}},{key:"onIconClick",value:function(e){"icon"===this.toggler&&this.toggle(e)}},{key:"toggle",value:function(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()}},{key:"expand",value:function(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}},{key:"collapse",value:function(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"onToggleDone",value:function(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(xa))},e.\u0275cmp=lt({type:e,selectors:[["p-panel"]],contentQueries:function(e,t,n){var i;(1&e&&(Gu(n,_p,5),Gu(n,kp,4)),2&e)&&(Wu(i=Qu())&&(t.footerFacet=i.first),Wu(i=Qu())&&(t.templates=i))},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Ek,decls:7,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(e,t){1&e&&(Ls(bk),_s(0,"div",0),vs(1,vk,7,5,"div",1),_s(2,"div",2),As("@panelContent.done",function(e){return t.onToggleDone(e)}),_s(3,"div",3),Ns(4),vs(5,gk,1,0,"ng-container",4),ks(),vs(6,mk,3,1,"div",5),ks(),ks()),2&e&&(Ws(t.styleClass),ms("ngClass",Cu(12,_k,t.toggleable))("ngStyle",t.style),ps("id",t.id),Br(1),ms("ngIf",t.showHeader),Br(1),ms("@panelContent",t.collapsed?Cu(16,wk,Cu(14,kk,t.animating?t.transitionOptions:"0ms")):Cu(20,Ck,Cu(18,Sk,t.animating?t.transitionOptions:"0ms"))),ps("id",t.id+"-content")("aria-hidden",t.collapsed)("aria-labelledby",t.id+"-titlebar"),Br(3),ms("ngTemplateOutlet",t.contentTemplate),Br(1),ms("ngIf",t.footerFacet||t.footerTemplate))},directives:[mc,Ec,wc,Tc,Sp],styles:[".p-panel-header{display:flex;justify-content:space-between;align-items:center}.p-panel-title{line-height:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}"],encapsulation:2,data:{animation:[bh("panelContent",[Sh("hidden",wh({height:"0",overflow:"hidden"})),Sh("void",wh({height:"{{height}}"}),{params:{height:"0"}}),Sh("visible",wh({height:"*"})),Ch("visible <=> hidden",[wh({overflow:"hidden"}),_h("{{transitionParams}}")]),Ch("void => hidden",_h("{{transitionParams}}")),Ch("void => visible",_h("{{transitionParams}}"))])]},changeDetection:0}),e}(),Ok=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc,wp,Cp],wp]}),e}(),Ik=["container"],Ak=["inputfield"],Dk=["contentWrapper"];function Rk(e,t){if(1&e){var n=Ts();_s(0,"button",7),As("click",function(e){Jt(n),Ms();var t=gs(1);return Ms().onButtonClick(e,t)}),ks()}if(2&e){var i=Ms(2);ms("icon",i.icon)("disabled",i.disabled),ps("aria-label",i.iconAriaLabel)}}function Mk(e,t){if(1&e){var n=Ts();_s(0,"input",4,5),As("focus",function(e){return Jt(n),Ms().onInputFocus(e)})("keydown",function(e){return Jt(n),Ms().onInputKeydown(e)})("click",function(){return Jt(n),Ms().onInputClick()})("blur",function(e){return Jt(n),Ms().onInputBlur(e)})("input",function(e){return Jt(n),Ms().onUserInput(e)}),ks(),vs(2,Rk,1,3,"button",6)}if(2&e){var i=Ms();Ws(i.inputStyleClass),ms("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("placeholder",i.placeholder||"")("disabled",i.disabled)("ngClass","p-inputtext p-component"),ps("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null)("aria-labelledby",i.ariaLabelledBy),Br(2),ms("ngIf",i.showIcon)}}function Pk(e,t){1&e&&Es(0)}function Lk(e,t){if(1&e){var n=Ts();_s(0,"button",27),As("keydown",function(e){return Jt(n),Ms(4).onContainerButtonKeydown(e)})("click",function(e){return Jt(n),Ms(4).onPrevButtonClick(e)}),ws(1,"span",28),ks()}}function Nk(e,t){if(1&e&&(_s(0,"span",29),na(1),ks()),2&e){var n=Ms().$implicit,i=Ms(3);Br(1),ia(i.getTranslation("monthNames")[n.month])}}function Fk(e,t){if(1&e&&(_s(0,"option",32),na(1),ks()),2&e){var n=t.$implicit,i=t.index,r=Ms(2).$implicit;ms("value",i)("selected",i===r.month),Br(1),ia(n)}}function Vk(e,t){if(1&e){var n=Ts();_s(0,"select",30),As("change",function(e){return Jt(n),Ms(4).onMonthDropdownChange(e.target.value)}),vs(1,Fk,2,3,"option",31),ks()}if(2&e){var i=Ms(4);Br(1),ms("ngForOf",i.getTranslation("monthNames"))}}function jk(e,t){if(1&e&&(_s(0,"option",32),na(1),ks()),2&e){var n=t.$implicit,i=Ms(5);ms("value",n)("selected",n===i.currentYear),Br(1),ia(n)}}function Bk(e,t){if(1&e){var n=Ts();_s(0,"select",33),As("change",function(e){return Jt(n),Ms(4).onYearDropdownChange(e.target.value)}),vs(1,jk,2,3,"option",31),ks()}if(2&e){var i=Ms(4);Br(1),ms("ngForOf",i.yearOptions)}}function Uk(e,t){if(1&e&&(_s(0,"span",34),na(1),ks()),2&e){var n=Ms().$implicit,i=Ms(3);Br(1),ia("month"===i.view?i.currentYear:n.year)}}function Hk(e,t){if(1&e){var n=Ts();_s(0,"button",35),As("keydown",function(e){return Jt(n),Ms(4).onContainerButtonKeydown(e)})("click",function(e){return Jt(n),Ms(4).onNextButtonClick(e)}),ws(1,"span",36),ks()}}function qk(e,t){if(1&e&&(_s(0,"th",42),_s(1,"span"),na(2),ks(),ks()),2&e){var n=Ms(5);Br(2),ia(n.getTranslation("weekHeader"))}}function zk(e,t){if(1&e&&(_s(0,"th",43),_s(1,"span"),na(2),ks(),ks()),2&e){var n=t.$implicit;Br(2),ia(n)}}function Wk(e,t){if(1&e&&(_s(0,"td",46),_s(1,"span",47),na(2),ks(),ks()),2&e){var n=Ms().index,i=Ms(2).$implicit;Br(2),ra(" ",i.weekNumbers[n]," ")}}function Kk(e,t){if(1&e&&(Ss(0),na(1),Cs()),2&e){var n=Ms(2).$implicit;Br(1),ia(n.day)}}function Gk(e,t){1&e&&Es(0)}var Qk=function(e,t){return{"p-highlight":e,"p-disabled":t}},Yk=function(e){return{$implicit:e}};function Zk(e,t){if(1&e){var n=Ts();Ss(0),_s(1,"span",49),As("click",function(e){Jt(n);var t=Ms().$implicit;return Ms(6).onDateSelect(e,t)})("keydown",function(e){Jt(n);var t=Ms().$implicit,i=Ms(3).index;return Ms(3).onDateCellKeydown(e,t,i)}),vs(2,Kk,2,1,"ng-container",11),vs(3,Gk,1,0,"ng-container",50),ks(),Cs()}if(2&e){var i=Ms().$implicit,r=Ms(6);Br(1),ms("ngClass",Eu(4,Qk,r.isSelected(i),!i.selectable)),Br(1),ms("ngIf",!r.dateTemplate),Br(1),ms("ngTemplateOutlet",r.dateTemplate)("ngTemplateOutletContext",Cu(7,Yk,i))}}var $k=function(e,t){return{"p-datepicker-other-month":e,"p-datepicker-today":t}};function Jk(e,t){if(1&e&&(_s(0,"td",48),vs(1,Zk,4,9,"ng-container",11),ks()),2&e){var n=t.$implicit,i=Ms(6);ms("ngClass",Eu(2,$k,n.otherMonth,n.today)),Br(1),ms("ngIf",!n.otherMonth||i.showOtherMonths)}}function Xk(e,t){if(1&e&&(_s(0,"tr"),vs(1,Wk,3,1,"td",44),vs(2,Jk,2,5,"td",45),ks()),2&e){var n=t.$implicit,i=Ms(5);Br(1),ms("ngIf",i.showWeek),Br(1),ms("ngForOf",n)}}function ew(e,t){if(1&e&&(_s(0,"div",37),_s(1,"table",38),_s(2,"thead"),_s(3,"tr"),vs(4,qk,3,1,"th",39),vs(5,zk,3,1,"th",40),ks(),ks(),_s(6,"tbody"),vs(7,Xk,3,2,"tr",41),ks(),ks(),ks()),2&e){var n=Ms().$implicit,i=Ms(3);Br(4),ms("ngIf",i.showWeek),Br(1),ms("ngForOf",i.weekDays),Br(2),ms("ngForOf",n.dates)}}function tw(e,t){if(1&e&&(_s(0,"div",17),_s(1,"div",18),vs(2,Lk,2,0,"button",19),_s(3,"div",20),vs(4,Nk,2,1,"span",21),vs(5,Vk,2,1,"select",22),vs(6,Bk,2,1,"select",23),vs(7,Uk,2,1,"span",24),ks(),vs(8,Hk,2,0,"button",25),ks(),vs(9,ew,8,3,"div",26),ks()),2&e){var n=t.index,i=Ms(3);Br(2),ms("ngIf",0===n),Br(2),ms("ngIf",!i.monthNavigator&&"month"!==i.view),Br(1),ms("ngIf",i.monthNavigator&&"month"!==i.view&&1===i.numberOfMonths),Br(1),ms("ngIf",i.yearNavigator&&1===i.numberOfMonths),Br(1),ms("ngIf",!i.yearNavigator),Br(1),ms("ngIf",1===i.numberOfMonths||n===i.numberOfMonths-1),Br(1),ms("ngIf","date"===i.view)}}function nw(e,t){if(1&e){var n=Ts();_s(0,"span",53),As("click",function(e){var t=Jt(n).index;return Ms(4).onMonthSelect(e,t)})("keydown",function(e){var t=Jt(n).index;return Ms(4).onMonthCellKeydown(e,t)}),na(1),ks()}if(2&e){var i=t.$implicit,r=t.index,o=Ms(4);ms("ngClass",Eu(2,Qk,o.isMonthSelected(r),!o.isSelectable(1,r,o.currentYear,!1))),Br(1),ra(" ",i," ")}}function iw(e,t){if(1&e&&(_s(0,"div",51),vs(1,nw,2,5,"span",52),ks()),2&e){var n=Ms(3);Br(1),ms("ngForOf",n.monthPickerValues)}}function rw(e,t){if(1&e&&(Ss(0),_s(1,"div",14),vs(2,tw,10,7,"div",15),ks(),vs(3,iw,2,1,"div",16),Cs()),2&e){var n=Ms(2);Br(2),ms("ngForOf",n.months),Br(1),ms("ngIf","month"===n.view)}}function ow(e,t){1&e&&(Ss(0),na(1,"0"),Cs())}function sw(e,t){1&e&&(Ss(0),na(1,"0"),Cs())}function aw(e,t){if(1&e&&(_s(0,"div",59),_s(1,"span"),na(2),ks(),ks()),2&e){var n=Ms(3);Br(2),ia(n.timeSeparator)}}function uw(e,t){1&e&&(Ss(0),na(1,"0"),Cs())}function lw(e,t){if(1&e){var n=Ts();_s(0,"div",64),_s(1,"button",56),As("keydown",function(e){return Jt(n),Ms(3).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Jt(n),Ms(3).incrementSecond(e)})("mousedown",function(e){return Jt(n),Ms(3).onTimePickerElementMouseDown(e,2,1)})("mouseup",function(e){return Jt(n),Ms(3).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Jt(n),Ms(3).onTimePickerElementMouseLeave()}),ws(2,"span",57),ks(),_s(3,"span"),vs(4,uw,2,0,"ng-container",11),na(5),ks(),_s(6,"button",56),As("keydown",function(e){return Jt(n),Ms(3).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Jt(n),Ms(3).decrementSecond(e)})("mousedown",function(e){return Jt(n),Ms(3).onTimePickerElementMouseDown(e,2,-1)})("mouseup",function(e){return Jt(n),Ms(3).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Jt(n),Ms(3).onTimePickerElementMouseLeave()}),ws(7,"span",58),ks(),ks()}if(2&e){var i=Ms(3);Br(4),ms("ngIf",i.currentSecond<10),Br(1),ia(i.currentSecond)}}function cw(e,t){if(1&e){var n=Ts();_s(0,"div",65),_s(1,"button",66),As("keydown",function(e){return Jt(n),Ms(3).onContainerButtonKeydown(e)})("click",function(e){return Jt(n),Ms(3).toggleAMPM(e)})("keydown.enter",function(e){return Jt(n),Ms(3).toggleAMPM(e)}),ws(2,"span",57),ks(),_s(3,"span"),na(4),ks(),_s(5,"button",66),As("keydown",function(e){return Jt(n),Ms(3).onContainerButtonKeydown(e)})("click",function(e){return Jt(n),Ms(3).toggleAMPM(e)})("keydown.enter",function(e){return Jt(n),Ms(3).toggleAMPM(e)}),ws(6,"span",58),ks(),ks()}if(2&e){var i=Ms(3);Br(4),ia(i.pm?"PM":"AM")}}function hw(e,t){if(1&e){var n=Ts();_s(0,"div",54),_s(1,"div",55),_s(2,"button",56),As("keydown",function(e){return Jt(n),Ms(2).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Jt(n),Ms(2).incrementHour(e)})("mousedown",function(e){return Jt(n),Ms(2).onTimePickerElementMouseDown(e,0,1)})("mouseup",function(e){return Jt(n),Ms(2).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Jt(n),Ms(2).onTimePickerElementMouseLeave()}),ws(3,"span",57),ks(),_s(4,"span"),vs(5,ow,2,0,"ng-container",11),na(6),ks(),_s(7,"button",56),As("keydown",function(e){return Jt(n),Ms(2).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Jt(n),Ms(2).decrementHour(e)})("mousedown",function(e){return Jt(n),Ms(2).onTimePickerElementMouseDown(e,0,-1)})("mouseup",function(e){return Jt(n),Ms(2).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Jt(n),Ms(2).onTimePickerElementMouseLeave()}),ws(8,"span",58),ks(),ks(),_s(9,"div",59),_s(10,"span"),na(11),ks(),ks(),_s(12,"div",60),_s(13,"button",56),As("keydown",function(e){return Jt(n),Ms(2).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Jt(n),Ms(2).incrementMinute(e)})("mousedown",function(e){return Jt(n),Ms(2).onTimePickerElementMouseDown(e,1,1)})("mouseup",function(e){return Jt(n),Ms(2).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Jt(n),Ms(2).onTimePickerElementMouseLeave()}),ws(14,"span",57),ks(),_s(15,"span"),vs(16,sw,2,0,"ng-container",11),na(17),ks(),_s(18,"button",56),As("keydown",function(e){return Jt(n),Ms(2).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Jt(n),Ms(2).decrementMinute(e)})("mousedown",function(e){return Jt(n),Ms(2).onTimePickerElementMouseDown(e,1,-1)})("mouseup",function(e){return Jt(n),Ms(2).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Jt(n),Ms(2).onTimePickerElementMouseLeave()}),ws(19,"span",58),ks(),ks(),vs(20,aw,3,1,"div",61),vs(21,lw,8,2,"div",62),vs(22,cw,7,1,"div",63),ks()}if(2&e){var i=Ms(2);Br(5),ms("ngIf",i.currentHour<10),Br(1),ia(i.currentHour),Br(5),ia(i.timeSeparator),Br(5),ms("ngIf",i.currentMinute<10),Br(1),ia(i.currentMinute),Br(3),ms("ngIf",i.showSeconds),Br(1),ms("ngIf",i.showSeconds),Br(1),ms("ngIf","12"==i.hourFormat)}}var fw=function(e){return[e]};function dw(e,t){if(1&e){var n=Ts();_s(0,"div",67),_s(1,"button",68),As("keydown",function(e){return Jt(n),Ms(2).onContainerButtonKeydown(e)})("click",function(e){return Jt(n),Ms(2).onTodayButtonClick(e)}),ks(),_s(2,"button",68),As("keydown",function(e){return Jt(n),Ms(2).onContainerButtonKeydown(e)})("click",function(e){return Jt(n),Ms(2).onClearButtonClick(e)}),ks(),ks()}if(2&e){var i=Ms(2);Br(1),ms("label",i.getTranslation("today"))("ngClass",Cu(4,fw,i.todayButtonStyleClass)),Br(1),ms("label",i.getTranslation("clear"))("ngClass",Cu(6,fw,i.clearButtonStyleClass))}}function pw(e,t){1&e&&Es(0)}var vw=function(e,t,n,i,r,o){return{"p-datepicker p-component":!0,"p-datepicker-inline":e,"p-disabled":t,"p-datepicker-timeonly":n,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}},gw=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},yw=function(e){return{value:"visibleTouchUI",params:e}},mw=function(e){return{value:"visible",params:e}};function bw(e,t){if(1&e){var n=Ts();_s(0,"div",8,9),As("@overlayAnimation.start",function(e){return Jt(n),Ms().onOverlayAnimationStart(e)})("@overlayAnimation.done",function(e){return Jt(n),Ms().onOverlayAnimationDone(e)})("click",function(e){return Jt(n),Ms().onOverlayClick(e)}),Ns(2),vs(3,Pk,1,0,"ng-container",10),vs(4,rw,4,2,"ng-container",11),vs(5,hw,23,8,"div",12),vs(6,dw,3,8,"div",13),Ns(7,1),vs(8,pw,1,0,"ng-container",10),ks()}if(2&e){var i=Ms();Ws(i.panelStyleClass),ms("ngStyle",i.panelStyle)("ngClass",function(e,t,n,i,r,o,s,a,u){var l=an()+11,c=Zt(),h=ds(c,l,n,i,r,o);return fs(c,l+4,s,a)||h?ls(c,l+6,t(n,i,r,o,s,a)):cs(c,l+6)}(0,vw,i.inline,i.disabled,i.timeOnly,i.numberOfMonths>1,"month"===i.view,i.touchUI))("@overlayAnimation",i.touchUI?Cu(21,yw,Eu(18,gw,i.showTransitionOptions,i.hideTransitionOptions)):Cu(26,mw,Eu(23,gw,i.showTransitionOptions,i.hideTransitionOptions)))("@.disabled",!0===i.inline),Br(3),ms("ngTemplateOutlet",i.headerTemplate),Br(1),ms("ngIf",!i.timeOnly),Br(1),ms("ngIf",i.showTime||i.timeOnly),Br(1),ms("ngIf",i.showButtonBar),Br(2),ms("ngTemplateOutlet",i.footerTemplate)}}var _w=[[["p-header"]],[["p-footer"]]],kw=function(e,t,n,i){return{"p-calendar":!0,"p-calendar-w-btn":e,"p-calendar-timeonly":t,"p-calendar-disabled":n,"p-focus":i}},ww=["p-header","p-footer"],Sw={provide:Yp,useExisting:Te(function(){return Cw}),multi:!0},Cw=function(){var e=function(){function e(t,n,i,r,o,s){u(this,e),this.el=t,this.renderer=n,this.cd=i,this.zone=r,this.config=o,this.overlayService=s,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.numberOfMonths=1,this.view="date",this.timeSeparator=":",this.focusTrap=!0,this.firstDayOfWeek=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new Mu,this.onBlur=new Mu,this.onClose=new Mu,this.onSelect=new Mu,this.onInput=new Mu,this.onTodayClick=new Mu,this.onClearClick=new Mu,this.onMonthChange=new Mu,this.onYearChange=new Mu,this.onClickOutside=new Mu,this.onShow=new Mu,this.onModelChange=function(){},this.onModelTouched=function(){},this.inputFieldValue=null,this.navigationState=null,this.convertTo24Hour=function(e,t){return"12"==this.hourFormat?12===e?t?12:0:t?e+12:e:e}}return c(e,[{key:"content",set:function(e){var t=this;this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(function(){return t.updateFocus()}),this.isMonthNavigate=!1):this.initFocusableCell())}},{key:"defaultDate",get:function(){return this._defaultDate},set:function(e){if(this._defaultDate=e,this.initialized){var t=e||new Date;this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear)}}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}},{key:"disabledDates",get:function(){return this._disabledDates},set:function(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}},{key:"disabledDays",get:function(){return this._disabledDays},set:function(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}},{key:"yearRange",get:function(){return this._yearRange},set:function(e){if(this._yearRange=e,e){var t=e.split(":"),n=parseInt(t[0]),i=parseInt(t[1]);this.populateYearOptions(n,i)}}},{key:"showTime",get:function(){return this._showTime},set:function(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}},{key:"locale",get:function(){return this._locale},set:function(e){console.warn("Locale property has no effect, use new i18n API instead.")}},{key:"ngOnInit",value:function(){var e=this,t=this.defaultDate||new Date;this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),"date"===this.view?(this.createWeekDays(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7):"month"===this.view&&this.createMonthPickerValues(),this.translationSubscription=this.config.translationObserver.subscribe(function(){e.createWeekDays()}),this.initialized=!0}},{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"date":e.dateTemplate=t.template;break;case"disabledDate":e.disabledDateTemplate=t.template;break;case"header":e.headerTemplate=t.template;break;case"footer":e.footerTemplate=t.template;break;default:e.dateTemplate=t.template}})}},{key:"getTranslation",value:function(e){return this.config.getTranslation(e)}},{key:"populateYearOptions",value:function(e,t){this.yearOptions=[];for(var n=e;n<=t;n++)this.yearOptions.push(n)}},{key:"createWeekDays",value:function(){this.weekDays=[];for(var e=this.firstDayOfWeek,t=this.getTranslation(gp.DAY_NAMES_MIN),n=0;n<7;n++)this.weekDays.push(t[e]),e=6==e?0:++e}},{key:"createMonthPickerValues",value:function(){this.monthPickerValues=[];for(var e=this.getTranslation(gp.MONTH_NAMES_SHORT),t=0;t<=11;t++)this.monthPickerValues.push(e[t])}},{key:"createMonths",value:function(e,t){this.months=this.months=[];for(var n=0;n<this.numberOfMonths;n++){var i=e+n,r=t;i>11&&(i=i%11-1,r=t+1),this.months.push(this.createMonth(i,r))}}},{key:"getWeekNumber",value:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t.getTime())/864e5)/7)+1}},{key:"createMonth",value:function(e,t){for(var n=[],i=this.getFirstDayOfMonthIndex(e,t),r=this.getDaysCountInMonth(e,t),o=this.getDaysCountInPrevMonth(e,t),s=1,a=new Date,u=[],l=Math.ceil((r+i)/7),c=0;c<l;c++){var h=[];if(0==c){for(var f=o-i+1;f<=o;f++){var d=this.getPreviousMonthAndYear(e,t);h.push({day:f,month:d.month,year:d.year,otherMonth:!0,today:this.isToday(a,f,d.month,d.year),selectable:this.isSelectable(f,d.month,d.year,!0)})}for(var p=7-h.length,v=0;v<p;v++)h.push({day:s,month:e,year:t,today:this.isToday(a,s,e,t),selectable:this.isSelectable(s,e,t,!1)}),s++}else for(var g=0;g<7;g++){if(s>r){var y=this.getNextMonthAndYear(e,t);h.push({day:s-r,month:y.month,year:y.year,otherMonth:!0,today:this.isToday(a,s-r,y.month,y.year),selectable:this.isSelectable(s-r,y.month,y.year,!0)})}else h.push({day:s,month:e,year:t,today:this.isToday(a,s,e,t),selectable:this.isSelectable(s,e,t,!1)});s++}this.showWeek&&u.push(this.getWeekNumber(new Date(h[0].year,h[0].month,h[0].day))),n.push(h)}return{month:e,year:t,dates:n,weekNumbers:u}}},{key:"initTime",value:function(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}},{key:"navBackward",value:function(e){var t=this;e.stopPropagation(),this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.decrementYear(),setTimeout(function(){t.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}},{key:"navForward",value:function(e){var t=this;e.stopPropagation(),this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.incrementYear(),setTimeout(function(){t.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}},{key:"decrementYear",value:function(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){var e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}},{key:"incrementYear",value:function(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){var e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}},{key:"onDateSelect",value:function(e,t){var n=this;!this.disabled&&t.selectable?(this.isMultipleSelection()&&this.isSelected(t)?(this.value=this.value.filter(function(e,i){return!n.isDateEquals(e,t)}),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(t)&&this.selectDate(t),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(function(){e.preventDefault(),n.hideOverlay(),n.mask&&n.disableModality(),n.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}},{key:"shouldSelectDate",value:function(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}},{key:"onMonthSelect",value:function(e,t){up.hasClass(e.target,"p-disabled")||this.onDateSelect(e,{year:this.currentYear,month:t,day:1,selectable:!0})}},{key:"updateInputfield",value:function(){var e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(var t=0;t<this.value.length;t++)e+=this.formatDateTime(this.value[t]),t!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){var n=this.value[1];e=this.formatDateTime(this.value[0]),n&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(n))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}},{key:"formatDateTime",value:function(e){var t=null;return e&&(this.timeOnly?t=this.formatTime(e):(t=this.formatDate(e,this.getDateFormat()),this.showTime&&(t+=" "+this.formatTime(e)))),t}},{key:"setCurrentHourPM",value:function(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}},{key:"selectDate",value:function(e){var t=new Date(e.year,e.month,e.day);if(this.showTime&&(t.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond)),this.minDate&&this.minDate>t&&(t=this.minDate,this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.maxDate&&this.maxDate<t&&(t=this.maxDate,this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.isSingleSelection())this.updateModel(t);else if(this.isMultipleSelection())this.updateModel(this.value?[].concat(m(this.value),[t]):[t]);else if(this.isRangeSelection())if(this.value&&this.value.length){var n=this.value[0],i=this.value[1];!i&&t.getTime()>=n.getTime()?i=t:(n=t,i=null),this.updateModel([n,i])}else this.updateModel([t,null]);this.onSelect.emit(t)}},{key:"updateModel",value:function(e){var t=this;if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{var n=null;this.value&&(n=this.value.map(function(e){return t.formatDateTime(e)})),this.onModelChange(n)}}},{key:"getFirstDayOfMonthIndex",value:function(e,t){var n=new Date;n.setDate(1),n.setMonth(e),n.setFullYear(t);var i=n.getDay()+this.getSundayIndex();return i>=7?i-7:i}},{key:"getDaysCountInMonth",value:function(e,t){return 32-this.daylightSavingAdjust(new Date(t,e,32)).getDate()}},{key:"getDaysCountInPrevMonth",value:function(e,t){var n=this.getPreviousMonthAndYear(e,t);return this.getDaysCountInMonth(n.month,n.year)}},{key:"getPreviousMonthAndYear",value:function(e,t){var n,i;return 0===e?(n=11,i=t-1):(n=e-1,i=t),{month:n,year:i}}},{key:"getNextMonthAndYear",value:function(e,t){var n,i;return 11===e?(n=0,i=t+1):(n=e+1,i=t),{month:n,year:i}}},{key:"getSundayIndex",value:function(){return this.firstDayOfWeek>0?7-this.firstDayOfWeek:0}},{key:"isSelected",value:function(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){var t,n=!1,i=a(this.value);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(n=this.isDateEquals(r,e))break}}catch(o){i.e(o)}finally{i.f()}return n}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}},{key:"isMonthSelected",value:function(e){var t=this.value?Array.isArray(this.value)?this.value[0].getDate():this.value.getDate():1;return this.isSelected({year:this.currentYear,month:e,day:t,selectable:!0})}},{key:"isDateEquals",value:function(e,t){return!!e&&e.getDate()===t.day&&e.getMonth()===t.month&&e.getFullYear()===t.year}},{key:"isDateBetween",value:function(e,t,n){if(e&&t){var i=new Date(n.year,n.month,n.day);return e.getTime()<=i.getTime()&&t.getTime()>=i.getTime()}return!1}},{key:"isSingleSelection",value:function(){return"single"===this.selectionMode}},{key:"isRangeSelection",value:function(){return"range"===this.selectionMode}},{key:"isMultipleSelection",value:function(){return"multiple"===this.selectionMode}},{key:"isToday",value:function(e,t,n,i){return e.getDate()===t&&e.getMonth()===n&&e.getFullYear()===i}},{key:"isSelectable",value:function(e,t,n,i){var r=!0,o=!0,s=!0,a=!0;return!(i&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>n||this.minDate.getFullYear()===n&&(this.minDate.getMonth()>t||this.minDate.getMonth()===t&&this.minDate.getDate()>e))&&(r=!1),this.maxDate&&(this.maxDate.getFullYear()<n||this.maxDate.getFullYear()===n&&(this.maxDate.getMonth()<t||this.maxDate.getMonth()===t&&this.maxDate.getDate()<e))&&(o=!1),this.disabledDates&&(s=!this.isDateDisabled(e,t,n)),this.disabledDays&&(a=!this.isDayDisabled(e,t,n)),r&&o&&s&&a)}},{key:"isDateDisabled",value:function(e,t,n){if(this.disabledDates){var i,r=a(this.disabledDates);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.getFullYear()===n&&o.getMonth()===t&&o.getDate()===e)return!0}}catch(s){r.e(s)}finally{r.f()}}return!1}},{key:"isDayDisabled",value:function(e,t,n){if(this.disabledDays){var i=new Date(n,t,e).getDay();return-1!==this.disabledDays.indexOf(i)}return!1}},{key:"onInputFocus",value:function(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}},{key:"onInputClick",value:function(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}},{key:"onInputBlur",value:function(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}},{key:"onButtonClick",value:function(e,t){this.overlayVisible?this.hideOverlay():(t.focus(),this.showOverlay())}},{key:"onOverlayClick",value:function(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}},{key:"onPrevButtonClick",value:function(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}},{key:"onNextButtonClick",value:function(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}},{key:"onContainerButtonKeydown",value:function(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}},{key:"onInputKeydown",value:function(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(up.getFocusableElements(this.contentViewChild.nativeElement).forEach(function(e){return e.tabIndex="-1"}),this.overlayVisible&&(this.overlayVisible=!1))}},{key:"onDateCellKeydown",value:function(e,t,n){var i=e.currentTarget,r=i.parentElement;switch(e.which){case 40:i.tabIndex="-1";var o=up.index(r),s=r.parentElement.nextElementSibling;s?up.hasClass(s.children[o].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(s.children[o].children[0].tabIndex="0",s.children[o].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break;case 38:i.tabIndex="-1";var a=up.index(r),u=r.parentElement.previousElementSibling;if(u){var l=u.children[a].children[0];up.hasClass(l,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(l.tabIndex="0",l.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break;case 37:i.tabIndex="-1";var c=r.previousElementSibling;if(c){var h=c.children[0];up.hasClass(h,"p-disabled")||up.hasClass(h.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,n):(h.tabIndex="0",h.focus())}else this.navigateToMonth(!0,n);e.preventDefault();break;case 39:i.tabIndex="-1";var f=r.nextElementSibling;if(f){var d=f.children[0];up.hasClass(d,"p-disabled")?this.navigateToMonth(!1,n):(d.tabIndex="0",d.focus())}else this.navigateToMonth(!1,n);e.preventDefault();break;case 13:this.onDateSelect(e,t),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}},{key:"onMonthCellKeydown",value:function(e,t){var n=e.currentTarget;switch(e.which){case 38:case 40:n.tabIndex="-1";var i=n.parentElement.children,r=up.index(n),o=i[40===e.which?r+3:r-3];o&&(o.tabIndex="0",o.focus()),e.preventDefault();break;case 37:n.tabIndex="-1";var s=n.previousElementSibling;s&&(s.tabIndex="0",s.focus()),e.preventDefault();break;case 39:n.tabIndex="-1";var a=n.nextElementSibling;a&&(a.tabIndex="0",a.focus()),e.preventDefault();break;case 13:this.onMonthSelect(e,t),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}},{key:"navigateToMonth",value:function(e,t){if(e)if(1===this.numberOfMonths||0===t)this.navigationState={backward:!0},this.navBackward(event);else{var n=up.find(this.contentViewChild.nativeElement.children[t-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i=n[n.length-1];i.tabIndex="0",i.focus()}else if(1===this.numberOfMonths||t===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{var r=up.findSingle(this.contentViewChild.nativeElement.children[t+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");r.tabIndex="0",r.focus()}}},{key:"updateFocus",value:function(){var e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?up.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():up.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){var t=up.find(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e=t[t.length-1]}else e=up.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}},{key:"initFocusableCell",value:function(){var e;if("month"===this.view){var t=up.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),n=up.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");t.forEach(function(e){return e.tabIndex=-1}),e=n||t[0],0===t.length&&up.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(function(e){return e.tabIndex=-1})}else(e=up.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"))||(e=up.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)")||up.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"));e&&(e.tabIndex="0")}},{key:"trapFocus",value:function(e){var t=up.getFocusableElements(this.contentViewChild.nativeElement);if(t&&t.length>0)if(t[0].ownerDocument.activeElement){var n=t.indexOf(t[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==n||0===n)if(this.focusTrap)t[t.length-1].focus();else{if(-1===n)return this.hideOverlay();if(0===n)return}else t[n-1].focus();else if(-1==n||n===t.length-1){if(!this.focusTrap&&-1!=n)return this.hideOverlay();t[0].focus()}else t[n+1].focus()}else t[0].focus();e.preventDefault()}},{key:"onMonthDropdownChange",value:function(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}},{key:"onYearDropdownChange",value:function(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}},{key:"validateTime",value:function(e,t,n,i){var r=this.value,o=this.convertTo24Hour(e,i);this.isRangeSelection()&&(r=this.value[1]||this.value[0]),this.isMultipleSelection()&&(r=this.value[this.value.length-1]);var s=r?r.toDateString():null;return!(this.minDate&&s&&this.minDate.toDateString()===s&&(this.minDate.getHours()>o||this.minDate.getHours()===o&&(this.minDate.getMinutes()>t||this.minDate.getMinutes()===t&&this.minDate.getSeconds()>n))||this.maxDate&&s&&this.maxDate.toDateString()===s&&(this.maxDate.getHours()<o||this.maxDate.getHours()===o&&(this.maxDate.getMinutes()<t||this.maxDate.getMinutes()===t&&this.maxDate.getSeconds()<n)))}},{key:"incrementHour",value:function(e){var t=this.currentHour+this.stepHour,n=this.pm;"24"==this.hourFormat?t=t>=24?t-24:t:"12"==this.hourFormat&&(this.currentHour<12&&t>11&&(n=!this.pm),t=t>=13?t-12:t),this.validateTime(t,this.currentMinute,this.currentSecond,n)&&(this.currentHour=t,this.pm=n),e.preventDefault()}},{key:"onTimePickerElementMouseDown",value:function(e,t,n){this.disabled||(this.repeat(e,null,t,n),e.preventDefault())}},{key:"onTimePickerElementMouseUp",value:function(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}},{key:"onTimePickerElementMouseLeave",value:function(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}},{key:"repeat",value:function(e,t,n,i){var r=this,o=t||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(function(){r.repeat(e,100,n,i),r.cd.markForCheck()},o),n){case 0:1===i?this.incrementHour(e):this.decrementHour(e);break;case 1:1===i?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===i?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}},{key:"clearTimePickerTimer",value:function(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}},{key:"decrementHour",value:function(e){var t=this.currentHour-this.stepHour,n=this.pm;"24"==this.hourFormat?t=t<0?24+t:t:"12"==this.hourFormat&&(12===this.currentHour&&(n=!this.pm),t=t<=0?12+t:t),this.validateTime(t,this.currentMinute,this.currentSecond,n)&&(this.currentHour=t,this.pm=n),e.preventDefault()}},{key:"incrementMinute",value:function(e){var t=this.currentMinute+this.stepMinute;t=t>59?t-60:t,this.validateTime(this.currentHour,t,this.currentSecond,this.pm)&&(this.currentMinute=t),e.preventDefault()}},{key:"decrementMinute",value:function(e){var t=this.currentMinute-this.stepMinute;t=t<0?60+t:t,this.validateTime(this.currentHour,t,this.currentSecond,this.pm)&&(this.currentMinute=t),e.preventDefault()}},{key:"incrementSecond",value:function(e){var t=this.currentSecond+this.stepSecond;t=t>59?t-60:t,this.validateTime(this.currentHour,this.currentMinute,t,this.pm)&&(this.currentSecond=t),e.preventDefault()}},{key:"decrementSecond",value:function(e){var t=this.currentSecond-this.stepSecond;t=t<0?60+t:t,this.validateTime(this.currentHour,this.currentMinute,t,this.pm)&&(this.currentSecond=t),e.preventDefault()}},{key:"updateTime",value:function(){var e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),(e=e?new Date(e.getTime()):new Date).setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[].concat(m(this.value.slice(0,-1)),[e])),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}},{key:"toggleAMPM",value:function(e){var t=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,t)&&(this.pm=t,this.updateTime()),e.preventDefault()}},{key:"onUserInput",value:function(e){if(this.isKeydown){this.isKeydown=!1;var t=e.target.value;try{var n=this.parseValueFromString(t);this.isValidSelection(n)&&(this.updateModel(n),this.updateUI())}catch(g){this.updateModel(null)}this.filled=null!=t&&t.length,this.onInput.emit(e)}}},{key:"isValidSelection",value:function(e){var t=this,n=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(n=!1):e.every(function(e){return t.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)})&&this.isRangeSelection()&&(n=e.length>1&&e[1]>e[0]),n}},{key:"parseValueFromString",value:function(e){if(!e||0===e.trim().length)return null;var t;if(this.isSingleSelection())t=this.parseDateTime(e);else if(this.isMultipleSelection()){t=[];var n,i=a(e.split(this.multipleSeparator));try{for(i.s();!(n=i.n()).done;){var r=n.value;t.push(this.parseDateTime(r.trim()))}}catch(u){i.e(u)}finally{i.f()}}else if(this.isRangeSelection()){var o=e.split(" "+this.rangeSeparator+" ");t=[];for(var s=0;s<o.length;s++)t[s]=this.parseDateTime(o[s].trim())}return t}},{key:"parseDateTime",value:function(e){var t,n=e.split(" ");if(this.timeOnly)t=new Date,this.populateTime(t,n[0],n[1]);else{var i=this.getDateFormat();if(this.showTime){var r="12"==this.hourFormat?n.pop():null,o=n.pop();t=this.parseDate(n.join(" "),i),this.populateTime(t,o,r)}else t=this.parseDate(e,i)}return t}},{key:"populateTime",value:function(e,t,n){if("12"==this.hourFormat&&!n)throw"Invalid Time";this.pm="PM"===n||"pm"===n;var i=this.parseTime(t);e.setHours(i.hour),e.setMinutes(i.minute),e.setSeconds(i.second)}},{key:"updateUI",value:function(){var e=this.value||this.defaultDate||new Date;Array.isArray(e)&&(e=e[0]),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(e.getHours()),this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds())}},{key:"showOverlay",value:function(){this.overlayVisible||(this.updateUI(),this.overlayVisible=!0)}},{key:"hideOverlay",value:function(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}},{key:"toggle",value:function(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}},{key:"onOverlayAnimationStart",value:function(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&(this.touchUI?fp.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):fp.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}},{key:"onOverlayAnimationDone",value:function(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&fp.clear(e.element)}}},{key:"appendOverlay",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):up.appendChild(this.overlay,this.appendTo))}},{key:"restoreOverlayAppend",value:function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}},{key:"alignOverlay",value:function(){this.touchUI?this.enableModality(this.overlay):this.appendTo?up.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement):up.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement)}},{key:"enableModality",value:function(e){var t=this;this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),up.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",function(e){t.disableModality()}),document.body.appendChild(this.mask),up.addClass(document.body,"p-overflow-hidden"))}},{key:"disableModality",value:function(){this.mask&&(up.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}},{key:"destroyMask",value:function(){document.body.removeChild(this.mask);for(var e,t=document.body.children,n=0;n<t.length;n++)if(up.hasClass(t[n],"p-datepicker-mask-scrollblocker")){e=!0;break}e||up.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"unbindAnimationEndListener",value:function(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}},{key:"writeValue",value:function(e){this.value=e,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cd.markForCheck()}},{key:"getDateFormat",value:function(){return this.dateFormat||this.getTranslation("dateFormat")}},{key:"formatDate",value:function(e,t){if(!e)return"";var n,i=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},r=function(e,t,n){var r=""+t;if(i(e))for(;r.length<n;)r="0"+r;return r},o=function(e,t,n,r){return i(e)?r[t]:n[t]},s="",a=!1;if(e)for(n=0;n<t.length;n++)if(a)"'"!==t.charAt(n)||i("'")?s+=t.charAt(n):a=!1;else switch(t.charAt(n)){case"d":s+=r("d",e.getDate(),2);break;case"D":s+=o("D",e.getDay(),this.getTranslation(gp.DAY_NAMES_SHORT),this.getTranslation(gp.DAY_NAMES));break;case"o":s+=r("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":s+=r("m",e.getMonth()+1,2);break;case"M":s+=o("M",e.getMonth(),this.getTranslation(gp.MONTH_NAMES_SHORT),this.getTranslation(gp.MONTH_NAMES));break;case"y":s+=i("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":s+=e.getTime();break;case"!":s+=1e4*e.getTime()+this.ticksTo1970;break;case"'":i("'")?s+="'":a=!0;break;default:s+=t.charAt(n)}return s}},{key:"formatTime",value:function(e){if(!e)return"";var t="",n=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return"12"==this.hourFormat&&n>11&&12!=n&&(n-=12),t+="12"==this.hourFormat&&0===n?12:n<10?"0"+n:n,t+=":",t+=i<10?"0"+i:i,this.showSeconds&&(t+=":",t+=r<10?"0"+r:r),"12"==this.hourFormat&&(t+=e.getHours()>11?" PM":" AM"),t}},{key:"parseTime",value:function(e){var t=e.split(":");if(t.length!==(this.showSeconds?3:2))throw"Invalid time";var n=parseInt(t[0]),i=parseInt(t[1]),r=this.showSeconds?parseInt(t[2]):null;if(isNaN(n)||isNaN(i)||n>23||i>59||"12"==this.hourFormat&&n>12||this.showSeconds&&(isNaN(r)||r>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==n&&this.pm?n+=12:!this.pm&&12===n&&(n-=12)),{hour:n,minute:i,second:r}}},{key:"parseDate",value:function(e,t){if(null==t||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;var n,i,r,o,s=0,a="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),u=-1,l=-1,c=-1,h=-1,f=!1,d=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},p=function(t){var n=d(t),i="@"===t?14:"!"===t?20:"y"===t&&n?4:"o"===t?3:2,r=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),o=e.substring(s).match(r);if(!o)throw"Missing number at position "+s;return s+=o[0].length,parseInt(o[0],10)},v=function(t,n,i){for(var r=-1,o=d(t)?i:n,a=[],u=0;u<o.length;u++)a.push([u,o[u]]);a.sort(function(e,t){return-(e[1].length-t[1].length)});for(var l=0;l<a.length;l++){var c=a[l][1];if(e.substr(s,c.length).toLowerCase()===c.toLowerCase()){r=a[l][0],s+=c.length;break}}if(-1!==r)return r+1;throw"Unknown name at position "+s},g=function(){if(e.charAt(s)!==t.charAt(n))throw"Unexpected literal at position "+s;s++};for("month"===this.view&&(c=1),n=0;n<t.length;n++)if(f)"'"!==t.charAt(n)||d("'")?g():f=!1;else switch(t.charAt(n)){case"d":c=p("d");break;case"D":v("D",this.getTranslation(gp.DAY_NAMES_SHORT),this.getTranslation(gp.DAY_NAMES));break;case"o":h=p("o");break;case"m":l=p("m");break;case"M":l=v("M",this.getTranslation(gp.MONTH_NAMES_SHORT),this.getTranslation(gp.MONTH_NAMES));break;case"y":u=p("y");break;case"@":u=(o=new Date(p("@"))).getFullYear(),l=o.getMonth()+1,c=o.getDate();break;case"!":u=(o=new Date((p("!")-this.ticksTo1970)/1e4)).getFullYear(),l=o.getMonth()+1,c=o.getDate();break;case"'":d("'")?g():f=!0;break;default:g()}if(s<e.length&&(r=e.substr(s),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===u?u=(new Date).getFullYear():u<100&&(u+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u<=a?0:-100)),h>-1)for(l=1,c=h;!(c<=(i=this.getDaysCountInMonth(u,l-1)));)l++,c-=i;if((o=this.daylightSavingAdjust(new Date(u,l-1,c))).getFullYear()!==u||o.getMonth()+1!==l||o.getDate()!==c)throw"Invalid date";return o}},{key:"daylightSavingAdjust",value:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}},{key:"updateFilledState",value:function(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}},{key:"onTodayButtonClick",value:function(e){var t=new Date,n={day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),otherMonth:t.getMonth()!==this.currentMonth||t.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,n),this.onTodayClick.emit(e)}},{key:"onClearButtonClick",value:function(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}},{key:"bindDocumentClickListener",value:function(){var e=this;this.documentClickListener||this.zone.runOutsideAngular(function(){e.documentClickListener=e.renderer.listen(e.el?e.el.nativeElement.ownerDocument:"document","click",function(t){e.isOutsideClicked(t)&&e.overlayVisible&&e.zone.run(function(){e.hideOverlay(),e.onClickOutside.emit(t),e.cd.markForCheck()})})})}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"bindScrollListener",value:function(){var e=this;this.scrollHandler||(this.scrollHandler=new lp(this.containerViewChild.nativeElement,function(){e.overlayVisible&&e.hideOverlay()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"isOutsideClicked",value:function(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}},{key:"isNavIconClicked",value:function(e){return up.hasClass(e.target,"p-datepicker-prev")||up.hasClass(e.target,"p-datepicker-prev-icon")||up.hasClass(e.target,"p-datepicker-next")||up.hasClass(e.target,"p-datepicker-next-icon")}},{key:"onWindowResize",value:function(){this.overlayVisible&&!up.isAndroid()&&this.hideOverlay()}},{key:"onOverlayHide",value:function(){this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}},{key:"ngOnDestroy",value:function(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&fp.clear(this.overlay),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(xa),ys(Aa),ys(Ja),ys(_l),ys(vp),ys(mp))},e.\u0275cmp=lt({type:e,selectors:[["p-calendar"]],contentQueries:function(e,t,n){var i;(1&e&&Gu(n,kp,4),2&e)&&(Wu(i=Qu())&&(t.templates=i))},viewQuery:function(e,t){var n;(1&e&&(Ku(Ik,5),Ku(Ak,5),Ku(Dk,5)),2&e)&&(Wu(n=Qu())&&(t.containerViewChild=n.first),Wu(n=Qu())&&(t.inputfieldViewChild=n.first),Wu(n=Qu())&&(t.content=n.first))},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,t){2&e&&zs("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focus)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",numberOfMonths:"numberOfMonths",view:"view",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",firstDayOfWeek:"firstDayOfWeek",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[_a([Sw])],ngContentSelectors:ww,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["class","p-datepicker-month",4,"ngIf"],["tabindex","0","class","p-datepicker-month",3,"change",4,"ngIf"],["tabindex","0","class","p-datepicker-year",3,"change",4,"ngIf"],["class","p-datepicker-year",4,"ngIf"],["class","p-datepicker-next p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],[1,"p-datepicker-month"],["tabindex","0",1,"p-datepicker-month",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["tabindex","0",1,"p-datepicker-year",3,"change"],[1,"p-datepicker-year"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","mousedown","mouseup","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,t){1&e&&(Ls(_w),_s(0,"span",0,1),vs(2,Mk,3,16,"ng-template",2),vs(3,bw,9,28,"div",3),ks()),2&e&&(Ws(t.styleClass),ms("ngClass",xu(6,kw,t.showIcon,t.timeOnly,t.disabled,t.focus))("ngStyle",t.style),Br(2),ms("ngIf",!t.inline),Br(1),ms("ngIf",t.inline||t.overlayVisible))},directives:[mc,Ec,wc,Ep,Sp,Tc,_c],styles:[".p-calendar{position:relative;display:inline-flex}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{position:static}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-next,.p-datepicker-prev{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;margin:0 auto}.p-datepicker td>span,.p-monthpicker-month{justify-content:center;align-items:center;cursor:pointer;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker,.p-timepicker button{display:flex;justify-content:center;align-items:center}.p-timepicker button{cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-calendar .p-datepicker-touch-ui,.p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}"],encapsulation:2,data:{animation:[bh("overlayAnimation",[Sh("visibleTouchUI",wh({transform:"translate(-50%,-50%)",opacity:1})),Ch("void => visible",[wh({opacity:0,transform:"scaleY(0.8)"}),_h("{{showTransitionParams}}",wh({opacity:1,transform:"*"}))]),Ch("visible => void",[_h("{{hideTransitionParams}}",wh({opacity:0}))]),Ch("void => visibleTouchUI",[wh({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),_h("{{showTransitionParams}}")]),Ch("visibleTouchUI => void",[_h("{{hideTransitionParams}}",wh({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),e}(),Ew=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc,Tp,wp,Cp],Tp,wp]}),e}();function Tw(e,t){1&e&&Es(0)}var xw=function(e){return{program:e}};function Ow(e,t){if(1&e&&(_s(0,"div",3),vs(1,Tw,1,0,"ng-container",4),ks()),2&e){var n=t.$implicit;Ms();var i=gs(4);Br(1),ms("ngTemplateOutlet",i)("ngTemplateOutletContext",Cu(2,xw,n))}}function Iw(e,t){if(1&e){var n=Ts();_s(0,"td"),_s(1,"p-calendar",9),As("ngModelChange",function(e){var t=Jt(n).$implicit,i=Ms().program;return Ms().changeTime(e,i.key,t)}),ks(),ks()}if(2&e){var i=t.$implicit;Br(1),ms("ngModel",i.startTime)("timeOnly",!0)}}function Aw(e,t){if(1&e){var n=Ts();_s(0,"td"),_s(1,"p-inputNumber",10),As("ngModelChange",function(e){return Jt(n).$implicit.workTime=e})("ngModelChange",function(){Jt(n);var e=Ms().program;return Ms().cahngeValue(e.key)}),ks(),ks()}if(2&e){var i=t.$implicit;Br(1),ms("min",10)("max",50)("ngModel",i.workTime)}}function Dw(e,t){if(1&e&&(_s(0,"p-panel",5),_s(1,"p-header",6),_s(2,"div"),_s(3,"h4"),na(4," \u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 "),_s(5,"strong"),na(6),ks(),ks(),ks(),ks(),_s(7,"div",0),_s(8,"table",7),_s(9,"tbody"),_s(10,"tr"),_s(11,"td"),na(12,"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u043b\u0438\u0432\u0430"),ks(),vs(13,Iw,2,2,"td",8),ks(),_s(14,"tr"),_s(15,"td"),na(16,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043b\u0438\u0432\u0430"),ks(),vs(17,Aw,2,3,"td",8),ks(),ks(),ks(),ks(),ks()),2&e){var n=t.program;ms("toggleable",!0),Br(6),ia(n.key),Br(7),ms("ngForOf",n.value),Br(4),ms("ngForOf",n.value)}}var Rw=function(){var e=function(){function e(){u(this,e),this.programChange=new Mu}return c(e,[{key:"ngOnInit",value:function(){}},{key:"changeTime",value:function(e,t,n){n.startTime=e?[e.getHours(),e.getMinutes()].join(":"):null,this.cahngeValue(t)}},{key:"cahngeValue",value:function(e){this.programChange.emit({key:e,value:this.programs[e]})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-programs"]],inputs:{programs:"programs"},outputs:{programChange:"programChange"},decls:5,vars:3,consts:[[1,"p-grid"],["class","p-col program",4,"ngFor","ngForOf"],["programRef",""],[1,"p-col","program"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"toggleable"],[1,"header"],[1,"styled-table"],[4,"ngFor","ngForOf"],["appendTo","body",3,"ngModel","timeOnly","ngModelChange"],[3,"min","max","ngModel","ngModelChange"]],template:function(e,t){1&e&&(_s(0,"div",0),vs(1,Ow,2,4,"div",1),Au(2,"keyvalue"),ks(),vs(3,Dw,18,4,"ng-template",null,2,Ju)),2&e&&(Br(1),ms("ngForOf",Du(2,1,t.programs)))},directives:[_c,Tc,xk,bp,Cw,Tv,Xv,ok],pipes:[Dc],styles:[".p-panel-content{width:100%;overflow:auto}.program[_ngcontent-%COMP%]{width:100%}"]}),e}();function Mw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function Pw(e,t,n,i){return S(n)&&(i=n,n=void 0),i?Pw(e,t,n).pipe(G(function(e){return O(e)?i.apply(void 0,m(e)):i(e)})):new j(function(i){Lw(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}function Lw(e,t,n,i,r){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,n,r),o=function(){return s.removeEventListener(t,n,r)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var a=e;e.on(t,n),o=function(){return a.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var u=e;e.addListener(t,n),o=function(){return u.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,c=e.length;l<c;l++)Lw(e[l],t,n,i,r)}i.add(o)}var Nw=new(function(e){h(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(b_))(function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return c(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?s(y(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return s(y(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(y_)),Fw=1,Vw=Promise.resolve(),jw={};function Bw(e){return e in jw&&(delete jw[e],!0)}var Uw=function(e){var t=Fw++;return jw[t]=!0,Vw.then(function(){return Bw(t)&&e()}),t},Hw=function(e){Bw(e)},qw=new(function(e){h(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(b_))(function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return c(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?s(y(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=Uw(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return s(y(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(Hw(t),e.scheduled=void 0)}}]),n}(y_));function zw(e){return!!e&&(e instanceof j||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var Ww=function(){function e(t,n){u(this,e),this.compare=t,this.keySelector=n}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Kw(e,this.compare,this.keySelector))}}]),e}(),Kw=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,e)).keySelector=r,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return c(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(S){return this.destination.error(S)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(S){return this.destination.error(S)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),n}(L),Gw=new b_(y_),Qw=function(){function e(t){u(this,e),this.durationSelector=t}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Yw(e,this.durationSelector))}}]),e}(),Yw=function(e){h(n,e);var t=d(n);function n(e,i){var r;return u(this,n),(r=t.call(this,e)).durationSelector=i,r.hasValue=!1,r}return c(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(f){return this.destination.error(f)}var n=oe(t,new ie(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(re);function Zw(e){return!O(e)&&e-parseFloat(e)+1>=0}function $w(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function Jw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gw;return function(e){return function(t){return t.lift(new Qw(e))}}(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return Zw(t)?i=Number(t)<1?1:Number(t):K(t)&&(n=t),K(n)||(n=Gw),new j(function(t){var r=Zw(e)?e:+e-n.now();return n.schedule($w,r,{index:0,period:i,subscriber:t})})}(e,t)})}var Xw,eS=function(){function e(){u(this,e)}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new tS(e))}}]),e}(),tS=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this,e)).hasPrev=!1,i}return c(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(L);try{Xw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(A){Xw=!1}var nS,iS,rS=function(){var e=function e(t){u(this,e),this._platformId=t,this.isBrowser=this._platformId?Lc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Xw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};return e.\u0275prov=Me({token:e,factory:e.\u0275fac=function(t){return new(t||e)(Ai(ol))},providedIn:"root"}),e}();function oS(){if("object"!=typeof document||!document)return 0;if(null==nS){var e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";var n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",e.appendChild(n),document.body.appendChild(e),nS=0,0===e.scrollLeft&&(e.scrollLeft=1,nS=0===e.scrollLeft?1:2),e.remove()}return nS}var sS=new ci("cdk-dir-doc",{providedIn:"root",factory:function(){return Di($l)}}),aS=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,uS=function(){var e=function(){function e(t){if(u(this,e),this.value="ltr",this.change=new Mu,t){var n=t.documentElement?t.documentElement.dir:null;this.value=function(e){var t=(null==e?void 0:e.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?aS.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((t.body?t.body.dir:null)||n||"ltr")}}return c(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(sS,8))},e.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),lS=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({}),e}(),cS=function(e){h(n,e);var t=d(n);function n(e){var i;return u(this,n),(i=t.call(this))._data=e,i}return c(n,[{key:"connect",value:function(){return zw(this._data)?this._data:fg(this._data)}},{key:"disconnect",value:function(){}}]),n}(function(){return function e(){u(this,e)}}()),hS=function(){function e(){u(this,e),this.viewCacheSize=20,this._viewCache=[]}return c(e,[{key:"applyChanges",value:function(e,t,n,i,r){var o=this;e.forEachOperation(function(e,s,a){var u,l;null==e.previousIndex?l=(u=o._insertView(function(){return n(e,s,a)},a,t,i(e)))?1:0:null==a?(o._detachAndCacheView(s,t),l=3):(u=o._moveView(s,a,t,i(e)),l=2),r&&r({context:null==u?void 0:u.context,operation:l,record:e})})}},{key:"detach",value:function(){var e,t=a(this._viewCache);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this._viewCache=[]}},{key:"_insertView",value:function(e,t,n,i){var r=this._insertViewFromCache(t,n);if(!r){var o=e();return n.createEmbeddedView(o.templateRef,o.context,o.index)}r.context.$implicit=i}},{key:"_detachAndCacheView",value:function(e,t){var n=t.detach(e);this._maybeCacheView(n,t)}},{key:"_moveView",value:function(e,t,n,i){var r=n.get(e);return n.move(r,t),r.context.$implicit=i,r}},{key:"_maybeCacheView",value:function(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{var n=t.indexOf(e);-1===n?e.destroy():t.remove(n)}}},{key:"_insertViewFromCache",value:function(e,t){var n=this._viewCache.pop();return n&&t.insert(n,e),n||null}}]),e}(),fS=new ci("_ViewRepeater"),dS=["contentWrapper"],pS=["*"],vS=new ci("VIRTUAL_SCROLL_STRATEGY"),gS=function(){function e(t,n,i){u(this,e),this._scrolledIndexChange=new z,this.scrolledIndexChange=this._scrolledIndexChange.pipe(function(e){return e.lift(new Ww(void 0,void 0))}),this._viewport=null,this._itemSize=t,this._minBufferPx=n,this._maxBufferPx=i}return c(e,[{key:"attach",value:function(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null}},{key:"updateItemAndBufferSize",value:function(e,t,n){this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}},{key:"_updateTotalContentSize",value:function(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},n=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),r=this._viewport.measureScrollOffset(),o=this._itemSize>0?r/this._itemSize:0;if(t.end>i){var s=Math.ceil(n/this._itemSize),a=Math.max(0,Math.min(o,i-s));o!=a&&(o=a,r=a*this._itemSize,t.start=Math.floor(o)),t.end=Math.max(0,Math.min(i,t.start+s))}var u=r-t.start*this._itemSize;if(u<this._minBufferPx&&0!=t.start){var l=Math.ceil((this._maxBufferPx-u)/this._itemSize);t.start=Math.max(0,t.start-l),t.end=Math.min(i,Math.ceil(o+(n+this._minBufferPx)/this._itemSize))}else{var c=t.end*this._itemSize-(r+n);if(c<this._minBufferPx&&t.end!=i){var h=Math.ceil((this._maxBufferPx-c)/this._itemSize);h>0&&(t.end=Math.min(i,t.end+h),t.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(o))}}}]),e}();function yS(e){return e._scrollStrategy}var mS=function(){var e=function(){function e(){u(this,e),this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new gS(this.itemSize,this.minBufferPx,this.maxBufferPx)}return c(e,[{key:"itemSize",get:function(){return this._itemSize},set:function(e){this._itemSize=Mw(e)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(e){this._minBufferPx=Mw(e)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(e){this._maxBufferPx=Mw(e)}},{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=vt({type:e,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[_a([{provide:vS,useFactory:yS,deps:[Te(function(){return e})]}]),Ot]}),e}(),bS=function(){var e=function(){function e(t,n,i){u(this,e),this._ngZone=t,this._platform=n,this._scrolled=new z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return c(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(function(){return t._scrolled.next(e)}))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new j(function(n){e._globalSubscription||e._addGlobalListener();var i=t>0?e._scrolled.pipe(Jw(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){i.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):fg()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,n){return e.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Ng(function(e){return!e||n.indexOf(e)>-1}))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach(function(i,r){t._scrollableContainsElement(r,e)&&n.push(r)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n=function(e){return e instanceof xa?e.nativeElement:e}(t),i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Pw(e._getWindow().document,"scroll").subscribe(function(){return e._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(_l),Ai(rS),Ai($l,8))},e.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),_S=function(){var e=function(){function e(t,n,i,r){var o=this;u(this,e),this.elementRef=t,this.scrollDispatcher=n,this.ngZone=i,this.dir=r,this._destroyed=new z,this._elementScrolled=new j(function(e){return o.ngZone.runOutsideAngular(function(){return Pw(o.elementRef.nativeElement,"scroll").pipe(a_(o._destroyed)).subscribe(e)})})}return c(e,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(e){var t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&0!=oS()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==oS()?e.left=e.right:1==oS()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}},{key:"_applyScrollToOptions",value:function(e){var t=this.elementRef.nativeElement;!function(){if(null==iS){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return iS=!1;if("scrollBehavior"in document.documentElement.style)iS=!0;else{var e=Element.prototype.scrollTo;iS=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return iS}()?(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left)):t.scrollTo(e)}},{key:"measureScrollOffset",value:function(e){var t="left",n="right",i=this.elementRef.nativeElement;if("top"==e)return i.scrollTop;if("bottom"==e)return i.scrollHeight-i.clientHeight-i.scrollTop;var r=this.dir&&"rtl"==this.dir.value;return"start"==e?e=r?n:t:"end"==e&&(e=r?t:n),r&&2==oS()?e==t?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:r&&1==oS()?e==t?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:e==t?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(xa),ys(bS),ys(_l),ys(uS,8))},e.\u0275dir=vt({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e}(),kS=function(){var e=function(){function e(t,n,i){var r=this;u(this,e),this._platform=t,this._change=new z,this._changeListener=function(e){r._change.next(e)},this._document=i,n.runOutsideAngular(function(){if(t.isBrowser){var e=r._getWindow();e.addEventListener("resize",r._changeListener),e.addEventListener("orientationchange",r._changeListener)}r.change().subscribe(function(){return r._viewportSize=null})})}return c(e,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,i=t.height;return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._document,t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(Jw(e)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(rS),Ai(_l),Ai($l,8))},e.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),wS="undefined"!=typeof requestAnimationFrame?Nw:qw,SS=function(){var e=function(e){h(n,e);var t=d(n);function n(e,i,r,o,s,a,l){var c;return u(this,n),(c=t.call(this,e,a,r,s)).elementRef=e,c._changeDetectorRef=i,c._scrollStrategy=o,c._detachedSubject=new z,c._renderedRangeSubject=new z,c._orientation="vertical",c._appendOnly=!1,c.scrolledIndexChange=new j(function(e){return c._scrollStrategy.scrolledIndexChange.subscribe(function(t){return Promise.resolve().then(function(){return c.ngZone.run(function(){return e.next(t)})})})}),c.renderedRangeStream=c._renderedRangeSubject,c._totalContentSize=0,c._totalContentWidth="",c._totalContentHeight="",c._renderedRange={start:0,end:0},c._dataLength=0,c._viewportSize=0,c._renderedContentOffset=0,c._renderedContentOffsetNeedsRewrite=!1,c._isChangeDetectionPending=!1,c._runAfterChangeDetection=[],c._viewportChanges=R.EMPTY,c._viewportChanges=l.change().subscribe(function(){c.checkViewportSize()}),c}return c(n,[{key:"orientation",get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}},{key:"appendOnly",get:function(){return this._appendOnly},set:function(e){this._appendOnly=function(e){return null!=e&&"false"!="".concat(e)}(e)}},{key:"ngOnInit",value:function(){var e=this;s(y(n.prototype),"ngOnInit",this).call(this),this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){e._measureViewportSize(),e._scrollStrategy.attach(e),e.elementScrolled().pipe(Rg(null),Jw(0,wS)).subscribe(function(){return e._scrollStrategy.onContentScrolled()}),e._markChangeDetectionNeeded()})})}},{key:"ngOnDestroy",value:function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),s(y(n.prototype),"ngOnDestroy",this).call(this)}},{key:"attach",value:function(e){var t=this;this.ngZone.runOutsideAngular(function(){t._forOf=e,t._forOf.dataStream.pipe(a_(t._detachedSubject)).subscribe(function(e){var n=e.length;n!==t._dataLength&&(t._dataLength=n,t._scrollStrategy.onDataLengthChanged()),t._doChangeDetection()})})}},{key:"detach",value:function(){this._forOf=null,this._detachedSubject.next()}},{key:"getDataLength",value:function(){return this._dataLength}},{key:"getViewportSize",value:function(){return this._viewportSize}},{key:"getRenderedRange",value:function(){return this._renderedRange}},{key:"setTotalContentSize",value:function(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}},{key:"setRenderedRange",value:function(e){var t=this;(function(e,t){return e.start==t.start&&e.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(function(){return t._scrollStrategy.onContentRendered()}))}},{key:"getOffsetToRenderedContentStart",value:function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}},{key:"setRenderedContentOffset",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"to-start",i="horizontal"==this.orientation,r=i?"X":"Y",o="translate".concat(r,"(").concat(Number((i&&this.dir&&"rtl"==this.dir.value?-1:1)*e),"px)");this._renderedContentOffset=e=this.appendOnly&&"to-start"===n?0:e,"to-end"===n&&(o+=" translate".concat(r,"(-100%)"),this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=o&&(this._renderedContentTransform=o,this._markChangeDetectionNeeded(function(){t._renderedContentOffsetNeedsRewrite?(t._renderedContentOffset-=t.measureRenderedContentSize(),t._renderedContentOffsetNeedsRewrite=!1,t.setRenderedContentOffset(t._renderedContentOffset)):t._scrollStrategy.onRenderedOffsetChanged()}))}},{key:"scrollToOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n={behavior:t};"horizontal"===this.orientation?n.start=e:n.top=e,this.scrollTo(n)}},{key:"scrollToIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this._scrollStrategy.scrollToIndex(e,t)}},{key:"measureScrollOffset",value:function(e){return s(y(n.prototype),"measureScrollOffset",this).call(this,e||("horizontal"===this.orientation?"start":"top"))}},{key:"measureRenderedContentSize",value:function(){var e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}},{key:"measureRangeSize",value:function(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}},{key:"checkViewportSize",value:function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}},{key:"_measureViewportSize",value:function(){var e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}},{key:"_markChangeDetectionNeeded",value:function(e){var t=this;e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){t._doChangeDetection()})}))}},{key:"_doChangeDetection",value:function(){var e=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(function(){return e._changeDetectorRef.markForCheck()});var t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];var n,i=a(t);try{for(i.s();!(n=i.n()).done;){(0,n.value)()}}catch(r){i.e(r)}finally{i.f()}}},{key:"_calculateSpacerSize",value:function(){this._totalContentHeight="horizontal"===this.orientation?"":"".concat(this._totalContentSize,"px"),this._totalContentWidth="horizontal"===this.orientation?"".concat(this._totalContentSize,"px"):""}}]),n}(_S);return e.\u0275fac=function(t){return new(t||e)(ys(xa),ys(Ja),ys(_l),ys(vS,8),ys(uS,8),ys(bS),ys(kS))},e.\u0275cmp=lt({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,t){var n;(1&e&&Ku(dS,7),2&e)&&(Wu(n=Qu())&&(t._contentWrapper=n.first))},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,t){2&e&&zs("cdk-virtual-scroll-orientation-horizontal","horizontal"===t.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==t.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[_a([{provide:_S,useExisting:e}]),Xo],ngContentSelectors:pS,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,t){1&e&&(Ls(),_s(0,"div",0,1),Ns(2),ks(),ws(3,"div",2)),2&e&&(Br(3),qs("width",t._totalContentWidth)("height",t._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),e}();function CS(e,t,n){if(!n.getBoundingClientRect)return 0;var i=n.getBoundingClientRect();return"horizontal"===e?"start"===t?i.left:i.right:"start"===t?i.top:i.bottom}var ES=function(){var e=function(){function e(n,i,r,o,s,a){var l=this;u(this,e),this._viewContainerRef=n,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=s,this.viewChange=new z,this._dataSourceChanges=new z,this.dataStream=this._dataSourceChanges.pipe(Rg(null),function(e){return e.lift(new eS)},Eg(function(e){var n=t(e,2),i=n[0],r=n[1];return l._changeDataSource(i,r)}),function(e,t,n){var i;return i={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},function(e){return e.lift(function(e){var t,n,i=e.bufferSize,r=void 0===i?Number.POSITIVE_INFINITY:i,o=e.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=e.refCount,u=e.scheduler,l=0,c=!1,h=!1;return function(e){var i;l++,!t||c?(c=!1,t=new T_(r,s,u),i=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){c=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}),h&&(n=void 0)):i=t.subscribe(this),this.add(function(){l--,i.unsubscribe(),i=void 0,n&&!h&&a&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)})}}(i))}}()),this._differ=null,this._needsUpdate=!1,this._destroyed=new z,this.dataStream.subscribe(function(e){l._data=e,l._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(a_(this._destroyed)).subscribe(function(e){l._renderedRange=e,l.viewChange.observers.length&&a.run(function(){return l.viewChange.next(l._renderedRange)}),l._onRenderedDataChange()}),this._viewport.attach(this)}return c(e,[{key:"cdkVirtualForOf",get:function(){return this._cdkVirtualForOf},set:function(e){this._cdkVirtualForOf=e,function(e){return e&&"function"==typeof e.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new cS(zw(e)?e:Array.from(e||[])))}},{key:"cdkVirtualForTrackBy",get:function(){return this._cdkVirtualForTrackBy},set:function(e){var t=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?function(n,i){return e(n+(t._renderedRange?t._renderedRange.start:0),i)}:void 0}},{key:"cdkVirtualForTemplate",set:function(e){e&&(this._needsUpdate=!0,this._template=e)}},{key:"cdkVirtualForTemplateCacheSize",get:function(){return this._viewRepeater.viewCacheSize},set:function(e){this._viewRepeater.viewCacheSize=Mw(e)}},{key:"measureRangeSize",value:function(e,t){if(e.start>=e.end)return 0;for(var n,i,r=e.start-this._renderedRange.start,o=e.end-e.start,s=0;s<o;s++){var a=this._viewContainerRef.get(s+r);if(a&&a.rootNodes.length){n=i=a.rootNodes[0];break}}for(var u=o-1;u>-1;u--){var l=this._viewContainerRef.get(u+r);if(l&&l.rootNodes.length){i=l.rootNodes[l.rootNodes.length-1];break}}return n&&i?CS(t,"end",i)-CS(t,"start",n):0}},{key:"ngDoCheck",value:function(){if(this._differ&&this._needsUpdate){var e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}},{key:"ngOnDestroy",value:function(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}},{key:"_onRenderedDataChange",value:function(){var e=this;!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(function(t,n){return e.cdkVirtualForTrackBy?e.cdkVirtualForTrackBy(t,n):n})),this._needsUpdate=!0)}},{key:"_changeDataSource",value:function(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t?t.connect(this):fg()}},{key:"_updateContext",value:function(){for(var e=this._data.length,t=this._viewContainerRef.length;t--;){var n=this._viewContainerRef.get(t);n.context.index=this._renderedRange.start+t,n.context.count=e,this._updateComputedContextProperties(n.context),n.detectChanges()}}},{key:"_applyChanges",value:function(e){var t=this;this._viewRepeater.applyChanges(e,this._viewContainerRef,function(e,n,i){return t._getEmbeddedViewArgs(e,i)},function(e){return e.item}),e.forEachIdentityChange(function(e){t._viewContainerRef.get(e.currentIndex).context.$implicit=e.item});for(var n=this._data.length,i=this._viewContainerRef.length;i--;){var r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=n,this._updateComputedContextProperties(r.context)}}},{key:"_updateComputedContextProperties",value:function(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}},{key:"_getEmbeddedViewArgs",value:function(e,t){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:t}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(lu),ys(iu),ys(Wa),ys(fS),ys(SS,4),ys(_l))},e.\u0275dir=vt({type:e,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[_a([{provide:fS,useClass:hS}])]}),e}(),TS=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({}),e}(),xS=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[lS,TS],lS,TS]}),e}(),OS=function(){var e=function(){function e(t,n,i){u(this,e),this.el=t,this.zone=n,this.config=i,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}return c(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this.deactivate()}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular(function(){"hover"===e.getOption("tooltipEvent")?(e.mouseEnterListener=e.onMouseEnter.bind(e),e.mouseLeaveListener=e.onMouseLeave.bind(e),e.clickListener=e.onClick.bind(e),e.el.nativeElement.addEventListener("mouseenter",e.mouseEnterListener),e.el.nativeElement.addEventListener("mouseleave",e.mouseLeaveListener),e.el.nativeElement.addEventListener("click",e.clickListener)):"focus"===e.getOption("tooltipEvent")&&(e.focusListener=e.onFocus.bind(e),e.blurListener=e.onBlur.bind(e),e.el.nativeElement.addEventListener("focus",e.focusListener),e.el.nativeElement.addEventListener("blur",e.blurListener))})}},{key:"ngOnChanges",value:function(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}},{key:"onMouseEnter",value:function(e){!this.container&&!this.showTimeout&&this.activate()}},{key:"onMouseLeave",value:function(e){this.deactivate()}},{key:"onFocus",value:function(e){this.activate()}},{key:"onBlur",value:function(e){this.deactivate()}},{key:"onClick",value:function(e){this.deactivate()}},{key:"activate",value:function(){var e=this;if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(function(){e.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){var t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(function(){e.hide()},t)}}},{key:"deactivate",value:function(){var e=this;this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(function(){e.hide()},this.getOption("hideDelay"))):this.hide()}},{key:"create",value:function(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");var e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?up.appendChild(this.container,this.el.nativeElement):up.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}},{key:"show",value:function(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),up.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?fp.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}},{key:"hide",value:function(){"auto"===this.getOption("tooltipZIndex")&&fp.clear(this.container),this.remove()}},{key:"updateText",value:function(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}},{key:"align",value:function(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}},{key:"getHostOffset",value:function(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){var e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+up.getWindowScrollLeft(),top:e.top+up.getWindowScrollTop()}}return{left:0,top:0}}},{key:"alignRight",value:function(){this.preAlign("right");var e=this.getHostOffset(),t=e.left+up.getOuterWidth(this.el.nativeElement),n=e.top+(up.getOuterHeight(this.el.nativeElement)-up.getOuterHeight(this.container))/2;this.container.style.left=t+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}},{key:"alignLeft",value:function(){this.preAlign("left");var e=this.getHostOffset(),t=e.left-up.getOuterWidth(this.container),n=e.top+(up.getOuterHeight(this.el.nativeElement)-up.getOuterHeight(this.container))/2;this.container.style.left=t+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}},{key:"alignTop",value:function(){this.preAlign("top");var e=this.getHostOffset(),t=e.left+(up.getOuterWidth(this.el.nativeElement)-up.getOuterWidth(this.container))/2,n=e.top-up.getOuterHeight(this.container);this.container.style.left=t+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}},{key:"alignBottom",value:function(){this.preAlign("bottom");var e=this.getHostOffset(),t=e.left+(up.getOuterWidth(this.el.nativeElement)-up.getOuterWidth(this.container))/2,n=e.top+up.getOuterHeight(this.el.nativeElement);this.container.style.left=t+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}},{key:"setOption",value:function(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}},{key:"getOption",value:function(e){return this._tooltipOptions[e]}},{key:"preAlign",value:function(e){this.container.style.left="-999px",this.container.style.top="-999px";var t="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?t+" "+this.getOption("tooltipStyleClass"):t}},{key:"isOutOfBounds",value:function(){var e=this.container.getBoundingClientRect(),t=e.top,n=e.left,i=up.getOuterWidth(this.container),r=up.getOuterHeight(this.container),o=up.getViewport();return n+i>o.width||n<0||t<0||t+r>o.height}},{key:"onWindowResize",value:function(e){this.hide()}},{key:"bindDocumentResizeListener",value:function(){var e=this;this.zone.runOutsideAngular(function(){e.resizeListener=e.onWindowResize.bind(e),window.addEventListener("resize",e.resizeListener)})}},{key:"unbindDocumentResizeListener",value:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},{key:"bindScrollListener",value:function(){var e=this;this.scrollHandler||(this.scrollHandler=new lp(this.el.nativeElement,function(){e.container&&e.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"unbindEvents",value:function(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}},{key:"remove",value:function(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):up.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}},{key:"clearShowTimeout",value:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}},{key:"clearHideTimeout",value:function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}},{key:"clearTimeouts",value:function(){this.clearShowTimeout(),this.clearHideTimeout()}},{key:"ngOnDestroy",value:function(){this.unbindEvents(),this.container&&fp.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(xa),ys(_l),ys(vp))},e.\u0275dir=vt({type:e,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Ot]}),e}(),IS=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc]]}),e}();function AS(e,t){if(1&e&&(_s(0,"span"),na(1),ks()),2&e){var n=Ms();Br(1),ia(n.label||"empty")}}function DS(e,t){1&e&&Es(0)}var RS=function(e){return{height:e}},MS=function(e,t){return{"p-dropdown-item":!0,"p-highlight":e,"p-disabled":t}},PS=function(e){return{$implicit:e}},LS=["container"],NS=["filter"],FS=["in"],VS=["editableInput"];function jS(e,t){if(1&e&&(Ss(0),na(1),Cs()),2&e){var n=Ms(2);Br(1),ia(n.label||"empty")}}function BS(e,t){1&e&&Es(0)}var US=function(e){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":e}};function HS(e,t){if(1&e&&(_s(0,"span",12),vs(1,jS,2,1,"ng-container",13),vs(2,BS,1,0,"ng-container",14),ks()),2&e){var n=Ms();ms("ngClass",Cu(9,US,null==n.label||0===n.label.length))("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass),ps("id",n.labelId),Br(1),ms("ngIf",!n.selectedItemTemplate),Br(1),ms("ngTemplateOutlet",n.selectedItemTemplate)("ngTemplateOutletContext",Cu(11,PS,n.selectedOption))}}var qS=function(e){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":e}};function zS(e,t){if(1&e&&(_s(0,"span",15),na(1),ks()),2&e){var n=Ms();ms("ngClass",Cu(2,qS,null==n.placeholder||0===n.placeholder.length)),Br(1),ia(n.placeholder||"empty")}}function WS(e,t){if(1&e){var n=Ts();_s(0,"input",16,17),As("click",function(){return Jt(n),Ms().onEditableInputClick()})("input",function(e){return Jt(n),Ms().onEditableInputChange(e)})("focus",function(e){return Jt(n),Ms().onEditableInputFocus(e)})("blur",function(e){return Jt(n),Ms().onInputBlur(e)}),ks()}if(2&e){var i=Ms();ms("disabled",i.disabled),ps("maxlength",i.maxlength)("placeholder",i.placeholder)("aria-expanded",i.overlayVisible)}}function KS(e,t){if(1&e){var n=Ts();_s(0,"i",18),As("click",function(e){return Jt(n),Ms().clear(e)}),ks()}}function GS(e,t){1&e&&Es(0)}function QS(e,t){if(1&e){var n=Ts();_s(0,"div",26),_s(1,"div",27),As("click",function(e){return e.stopPropagation()}),_s(2,"input",28,29),As("keydown.enter",function(e){return e.preventDefault()})("keydown",function(e){return Jt(n),Ms(2).onKeydown(e,!1)})("input",function(e){return Jt(n),Ms(2).onFilterInputChange(e)}),ks(),ws(4,"span",30),ks(),ks()}if(2&e){var i=Ms(2);Br(2),ms("value",i.filterValue||""),ps("placeholder",i.filterPlaceholder)("aria-label",i.ariaFilterLabel)("aria-activedescendant",i.overlayVisible?"p-highlighted-option":i.labelId)}}function YS(e,t){if(1&e&&(_s(0,"span"),na(1),ks()),2&e){var n=Ms().$implicit,i=Ms(3);Br(1),ia(i.getOptionGroupLabel(n)||"empty")}}function ZS(e,t){1&e&&Es(0)}function $S(e,t){1&e&&Es(0)}var JS=function(e,t){return{$implicit:e,selectedOption:t}};function XS(e,t){if(1&e&&(_s(0,"li",32),vs(1,YS,2,1,"span",13),vs(2,ZS,1,0,"ng-container",14),ks(),vs(3,$S,1,0,"ng-container",14)),2&e){var n=t.$implicit;Ms(2);var i=gs(8),r=Ms();Br(1),ms("ngIf",!r.groupTemplate),Br(1),ms("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",Cu(5,PS,n)),Br(1),ms("ngTemplateOutlet",i)("ngTemplateOutletContext",Eu(7,JS,r.getOptionGroupChildren(n),r.selectedOption))}}function eC(e,t){if(1&e&&(Ss(0),vs(1,XS,4,10,"ng-template",31),Cs()),2&e){var n=Ms(2);Br(1),ms("ngForOf",n.optionsToDisplay)}}function tC(e,t){1&e&&Es(0)}function nC(e,t){if(1&e&&(Ss(0),vs(1,tC,1,0,"ng-container",14),Cs()),2&e){Ms();var n=gs(8),i=Ms();Br(1),ms("ngTemplateOutlet",n)("ngTemplateOutletContext",Eu(2,JS,i.optionsToDisplay,i.selectedOption))}}function iC(e,t){if(1&e){var n=Ts();_s(0,"p-dropdownItem",35),As("onClick",function(e){return Jt(n),Ms(4).onItemClick(e)}),ks()}if(2&e){var i=t.$implicit,r=Ms(2).selectedOption,o=Ms(2);ms("option",i)("selected",r==i)("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)}}function rC(e,t){if(1&e&&(Ss(0),vs(1,iC,1,5,"ng-template",31),Cs()),2&e){var n=Ms().$implicit;Br(1),ms("ngForOf",n)}}function oC(e,t){if(1&e){var n=Ts();Ss(0),_s(1,"p-dropdownItem",35),As("onClick",function(e){return Jt(n),Ms(5).onItemClick(e)}),ks(),Cs()}if(2&e){var i=t.$implicit,r=Ms(3).selectedOption,o=Ms(2);Br(1),ms("option",i)("selected",r==i)("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)}}function sC(e,t){if(1&e){var n=Ts();_s(0,"cdk-virtual-scroll-viewport",37,38),As("scrolledIndexChange",function(){return Jt(n),Ms(4).scrollToSelectedVirtualScrollElement()}),vs(2,oC,2,5,"ng-container",39),ks()}if(2&e){var i=Ms(2).$implicit,r=Ms(2);ms("ngStyle",Cu(3,RS,r.scrollHeight))("itemSize",r.itemSize),Br(2),ms("cdkVirtualForOf",i)}}function aC(e,t){if(1&e&&vs(0,sC,3,5,"cdk-virtual-scroll-viewport",36),2&e){var n=Ms(3);ms("ngIf",n.virtualScroll&&n.optionsToDisplay&&n.optionsToDisplay.length)}}function uC(e,t){if(1&e&&(vs(0,rC,2,1,"ng-container",33),vs(1,aC,1,1,"ng-template",null,34,Ju)),2&e){var n=gs(2);ms("ngIf",!Ms(2).virtualScroll)("ngIfElse",n)}}function lC(e,t){if(1&e&&(Ss(0),na(1),Cs()),2&e){var n=Ms(3);Br(1),ra(" ",n.emptyFilterMessageLabel," ")}}function cC(e,t){1&e&&Es(0,null,41)}function hC(e,t){if(1&e&&(_s(0,"li",40),vs(1,lC,2,1,"ng-container",33),vs(2,cC,2,0,"ng-container",20),ks()),2&e){var n=Ms(2);Br(1),ms("ngIf",!n.emptyFilterTemplate&&!n.emptyTemplate)("ngIfElse",n.emptyFilter),Br(1),ms("ngTemplateOutlet",n.emptyFilterTemplate||n.emptyTemplate)}}function fC(e,t){if(1&e&&(Ss(0),na(1),Cs()),2&e){var n=Ms(3);Br(1),ra(" ",n.emptyMessageLabel," ")}}function dC(e,t){1&e&&Es(0,null,42)}function pC(e,t){if(1&e&&(_s(0,"li",40),vs(1,fC,2,1,"ng-container",33),vs(2,dC,2,0,"ng-container",20),ks()),2&e){var n=Ms(2);Br(1),ms("ngIf",!n.emptyTemplate)("ngIfElse",n.empty),Br(1),ms("ngTemplateOutlet",n.emptyTemplate)}}function vC(e,t){1&e&&Es(0)}var gC=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},yC=function(e){return{value:"visible",params:e}},mC=function(e){return{"p-dropdown-virtualscroll":e}};function bC(e,t){if(1&e){var n=Ts();_s(0,"div",19),As("click",function(e){return Jt(n),Ms().onOverlayClick(e)})("@overlayAnimation.start",function(e){return Jt(n),Ms().onOverlayAnimationStart(e)})("@overlayAnimation.start",function(e){return Jt(n),Ms().onOverlayAnimationEnd(e)}),vs(1,GS,1,0,"ng-container",20),vs(2,QS,5,4,"div",21),_s(3,"div",22),_s(4,"ul",23),vs(5,eC,2,1,"ng-container",13),vs(6,nC,2,5,"ng-container",13),vs(7,uC,3,2,"ng-template",null,24,Ju),vs(9,hC,3,3,"li",25),vs(10,pC,3,3,"li",25),ks(),ks(),vs(11,vC,1,0,"ng-container",20),ks()}if(2&e){var i=Ms();Ws(i.panelStyleClass),ms("ngClass","p-dropdown-panel p-component")("@overlayAnimation",Cu(19,yC,Eu(16,gC,i.showTransitionOptions,i.hideTransitionOptions)))("ngStyle",i.panelStyle),Br(1),ms("ngTemplateOutlet",i.headerTemplate),Br(1),ms("ngIf",i.filter),Br(1),qs("max-height",i.virtualScroll?"auto":i.scrollHeight||"auto"),Br(1),ms("ngClass",Cu(21,mC,i.virtualScroll)),ps("id",i.listId),Br(1),ms("ngIf",i.group),Br(1),ms("ngIf",!i.group),Br(3),ms("ngIf",i.filterValue&&i.isEmpty()),Br(1),ms("ngIf",!i.filterValue&&i.isEmpty()),Br(1),ms("ngTemplateOutlet",i.footerTemplate)}}var _C=function(e,t,n,i){return{"p-dropdown p-component":!0,"p-disabled":e,"p-dropdown-open":t,"p-focus":n,"p-dropdown-clearable":i}},kC={provide:Yp,useExisting:Te(function(){return SC}),multi:!0},wC=function(){var e=function(){function e(){u(this,e),this.onClick=new Mu}return c(e,[{key:"onOptionClick",value:function(e){this.onClick.emit({originalEvent:e,option:this.option})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(_s(0,"li",0),As("click",function(e){return t.onOptionClick(e)}),vs(1,AS,2,1,"span",1),vs(2,DS,1,0,"ng-container",2),ks()),2&e&&(ms("ngStyle",Cu(8,RS,t.itemSize+"px"))("id",t.selected?"p-highlighted-option":"")("ngClass",Eu(10,MS,t.selected,t.disabled)),ps("aria-label",t.label)("aria-selected",t.selected),Br(1),ms("ngIf",!t.template),Br(1),ms("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Cu(13,PS,t.option)))},directives:[Sp,Ec,mc,wc,Tc],encapsulation:2}),e}(),SC=function(){var t=function(){function t(e,n,i,r,o,s,a){u(this,t),this.el=e,this.renderer=n,this.cd=i,this.zone=r,this.filterService=o,this.config=s,this.overlayService=a,this.scrollHeight="200px",this.appendTo="body",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new Mu,this.onFilter=new Mu,this.onFocus=new Mu,this.onBlur=new Mu,this.onClick=new Mu,this.onShow=new Mu,this.onHide=new Mu,this.onClear=new Mu,this.onModelChange=function(){},this.onModelTouched=function(){},this.viewPortOffsetTop=0,this.id="pr_id_"+ ++hp}return c(t,[{key:"disabled",get:function(){return this._disabled},set:function(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}},{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"item":e.itemTemplate=t.template;break;case"selectedItem":e.selectedItemTemplate=t.template;break;case"header":e.headerTemplate=t.template;break;case"footer":e.footerTemplate=t.template;break;case"emptyfilter":e.emptyFilterTemplate=t.template;break;case"empty":e.emptyTemplate=t.template;break;case"group":e.groupTemplate=t.template;break;default:e.itemTemplate=t.template}})}},{key:"ngOnInit",value:function(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}},{key:"options",get:function(){return this._options},set:function(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}},{key:"filterValue",get:function(){return this._filterValue},set:function(e){this._filterValue=e,this.activateFilter()}},{key:"ngAfterViewInit",value:function(){this.editable&&this.updateEditableLabel()}},{key:"label",get:function(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}},{key:"emptyMessageLabel",get:function(){return this.emptyMessage||this.config.getTranslation(gp.EMPTY_MESSAGE)}},{key:"emptyFilterMessageLabel",get:function(){return this.emptyFilterMessage||this.config.getTranslation(gp.EMPTY_FILTER_MESSAGE)}},{key:"filled",get:function(){return this.value||null!=this.value||null!=this.value}},{key:"updateEditableLabel",value:function(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}},{key:"getOptionLabel",value:function(e){return this.optionLabel?cp.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}},{key:"getOptionValue",value:function(e){return this.optionValue?cp.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}},{key:"isOptionDisabled",value:function(e){return this.optionDisabled?cp.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}},{key:"getOptionGroupLabel",value:function(e){return this.optionGroupLabel?cp.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}},{key:"getOptionGroupChildren",value:function(e){return this.optionGroupChildren?cp.resolveFieldData(e,this.optionGroupChildren):e.items}},{key:"onItemClick",value:function(e){var t=this,n=e.option;this.isOptionDisabled(n)||(this.selectItem(e,n),this.accessibleViewChild.nativeElement.focus()),setTimeout(function(){t.hide()},150)}},{key:"selectItem",value:function(e,t){var n=this;this.selectedOption!=t&&(this.selectedOption=t,this.value=this.getOptionValue(t),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(function(){n.viewPortOffsetTop=n.viewPort?n.viewPort.measureScrollOffset():0},1))}},{key:"ngAfterViewChecked",value:function(){var e=this;if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(function(){setTimeout(function(){e.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){var t=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(t.start>this.virtualScrollSelectedIndex||t.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}up.findSingle(this.overlay,"li.p-highlight")&&up.scrollInView(this.itemsWrapper,up.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}},{key:"writeValue",value:function(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}},{key:"resetFilter",value:function(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}},{key:"updateSelectedOption",value:function(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cd.markForCheck()}},{key:"onMouseclick",value:function(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}},{key:"onOverlayClick",value:function(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}},{key:"isInputClick",value:function(e){return up.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}},{key:"isOutsideClicked",value:function(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}},{key:"isEmpty",value:function(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}},{key:"onEditableInputClick",value:function(){this.bindDocumentClickListener()}},{key:"onEditableInputFocus",value:function(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}},{key:"onEditableInputChange",value:function(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}},{key:"show",value:function(){this.overlayVisible=!0}},{key:"onOverlayAnimationStart",value:function(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=up.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&fp.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){var t=up.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");t&&up.scrollInView(this.itemsWrapper,t)}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}},{key:"onOverlayAnimationEnd",value:function(e){switch(e.toState){case"void":fp.clear(e.element)}}},{key:"scrollToSelectedVirtualScrollElement",value:function(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}},{key:"updateVirtualScrollSelectedIndex",value:function(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}},{key:"appendOverlay",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):up.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=up.getWidth(this.containerViewChild.nativeElement)+"px"))}},{key:"restoreOverlayAppend",value:function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}},{key:"hide",value:function(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}},{key:"alignOverlay",value:function(){this.overlay&&(this.appendTo?up.absolutePosition(this.overlay,this.containerViewChild.nativeElement):up.relativePosition(this.overlay,this.containerViewChild.nativeElement))}},{key:"onInputFocus",value:function(e){this.focused=!0,this.onFocus.emit(e)}},{key:"onInputBlur",value:function(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}},{key:"findPrevEnabledOption",value:function(e){var t;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var n=e-1;0<=n;n--){var i=this.optionsToDisplay[n];if(!i.disabled){t=i;break}}if(!t)for(var r=this.optionsToDisplay.length-1;r>=e;r--){var o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){t=o;break}}}return t}},{key:"findNextEnabledOption",value:function(e){var t;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var n=e+1;n<this.optionsToDisplay.length;n++){var i=this.optionsToDisplay[n];if(!this.isOptionDisabled(i)){t=i;break}}if(!t)for(var r=0;r<e;r++){var o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){t=o;break}}}return t}},{key:"onKeydown",value:function(e,t){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){var n=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==n){var i=n.itemIndex+1;i<this.getOptionGroupChildren(this.optionsToDisplay[n.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[n.groupIndex])[i]),this.selectedOptionUpdated=!0):this.optionsToDisplay[n.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[n.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{var r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){var s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==s){var a=s.itemIndex-1;if(a>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[s.groupIndex])[a]),this.selectedOptionUpdated=!0;else if(a<0){var u=this.optionsToDisplay[s.groupIndex-1];u&&(this.selectItem(e,this.getOptionGroupChildren(u)[this.getOptionGroupChildren(u).length-1]),this.selectedOptionUpdated=!0)}}}else{var l=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,c=this.findPrevEnabledOption(l);c&&(this.selectItem(e,c),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:t&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:t&&!e.metaKey&&this.search(e)}}},{key:"search",value:function(e){var t=this;this.searchTimeout&&clearTimeout(this.searchTimeout);var n,i=e.key;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){var r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};n=this.searchOptionWithinGroup(r)}else{var o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;n=this.searchOption(++o)}n&&!this.isOptionDisabled(n)&&(this.selectItem(e,n),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(function(){t.searchValue=null},250)}},{key:"searchOption",value:function(e){var t;return this.searchValue&&((t=this.searchOptionInRange(e,this.optionsToDisplay.length))||(t=this.searchOptionInRange(0,e))),t}},{key:"searchOptionInRange",value:function(e,t){for(var n=e;n<t;n++){var i=this.optionsToDisplay[n];if(this.getOptionLabel(i).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(i))return i}return null}},{key:"searchOptionWithinGroup",value:function(e){if(this.searchValue){for(var t=e.groupIndex;t<this.optionsToDisplay.length;t++)for(var n=e.groupIndex===t?e.itemIndex+1:0;n<this.getOptionGroupChildren(this.optionsToDisplay[t]).length;n++){var i=this.getOptionGroupChildren(this.optionsToDisplay[t])[n];if(this.getOptionLabel(i).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(i))return i}for(var r=0;r<=e.groupIndex;r++)for(var o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){var s=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}}return null}},{key:"findOptionIndex",value:function(e,t){var n=-1;if(t)for(var i=0;i<t.length;i++)if(null==e&&null==this.getOptionValue(t[i])||cp.equals(e,this.getOptionValue(t[i]),this.dataKey)){n=i;break}return n}},{key:"findOptionGroupIndex",value:function(e,t){var n,i;if(t)for(var r=0;r<t.length&&(n=r,-1===(i=this.findOptionIndex(e,this.getOptionGroupChildren(t[r]))));r++);return-1!==i?{groupIndex:n,itemIndex:i}:-1}},{key:"findOption",value:function(e,t,n){if(this.group&&!n){var i;if(t&&t.length){var r,o=a(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(i=this.findOption(e,this.getOptionGroupChildren(s),!0))break}}catch(l){o.e(l)}finally{o.f()}}return i}var u=this.findOptionIndex(e,t);return-1!=u?t[u]:null}},{key:"onFilterInputChange",value:function(e){var t=e.target.value;t&&t.length?(this._filterValue=t,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}},{key:"activateFilter",value:function(){var t=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){var n,i=[],r=a(this.options);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=this.filterService.filter(this.getOptionGroupChildren(o),t,this.filterValue,this.filterMatchMode,this.filterLocale);s&&s.length&&i.push(Object.assign(Object.assign({},o),e({},this.optionGroupChildren,s)))}}catch(u){r.e(u)}finally{r.f()}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,t,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}},{key:"applyFocus",value:function(){this.editable?up.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():up.findSingle(this.el.nativeElement,"input[readonly]").focus()}},{key:"focus",value:function(){this.applyFocus()}},{key:"bindDocumentClickListener",value:function(){var e=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",function(t){e.isOutsideClicked(t)&&(e.hide(),e.unbindDocumentClickListener()),e.cd.markForCheck()}))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"onWindowResize",value:function(){this.overlayVisible&&!up.isTouchDevice()&&this.hide()}},{key:"bindScrollListener",value:function(){var e=this;this.scrollHandler||(this.scrollHandler=new lp(this.containerViewChild.nativeElement,function(t){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"clear",value:function(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}},{key:"onOverlayHide",value:function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}},{key:"ngOnDestroy",value:function(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&fp.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ys(xa),ys(Aa),ys(Ja),ys(_l),ys(yp),ys(vp),ys(mp))},t.\u0275cmp=lt({type:t,selectors:[["p-dropdown"]],contentQueries:function(e,t,n){var i;(1&e&&Gu(n,kp,4),2&e)&&(Wu(i=Qu())&&(t.templates=i))},viewQuery:function(e,t){var n;(1&e&&(Ku(LS,5),Ku(NS,5),Ku(FS,5),Ku(SS,5),Ku(VS,5)),2&e)&&(Wu(n=Qu())&&(t.containerViewChild=n.first),Wu(n=Qu())&&(t.filterViewChild=n.first),Wu(n=Qu())&&(t.accessibleViewChild=n.first),Wu(n=Qu())&&(t.viewPort=n.first),Wu(n=Qu())&&(t.editableInputViewChild=n.first))},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,t){2&e&&zs("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focused||t.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[_a([kC])],decls:12,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,t){1&e&&(_s(0,"div",0,1),As("click",function(e){return t.onMouseclick(e)}),_s(2,"div",2),_s(3,"input",3,4),As("focus",function(e){return t.onInputFocus(e)})("blur",function(e){return t.onInputBlur(e)})("keydown",function(e){return t.onKeydown(e,!0)}),ks(),ks(),vs(5,HS,3,13,"span",5),vs(6,zS,2,4,"span",6),vs(7,WS,2,4,"input",7),vs(8,KS,1,0,"i",8),_s(9,"div",9),ws(10,"span",10),ks(),vs(11,bC,12,23,"div",11),ks()),2&e&&(Ws(t.styleClass),ms("ngClass",xu(19,_C,t.disabled,t.overlayVisible,t.focused,t.showClear&&!t.disabled))("ngStyle",t.style),Br(3),ms("disabled",t.disabled),ps("id",t.inputId)("placeholder",t.placeholder)("aria-expanded",t.overlayVisible)("aria-labelledby",t.ariaLabelledBy)("tabindex",t.tabindex)("autofocus",t.autofocus)("aria-activedescendant",t.overlayVisible?"p-highlighted-option":t.labelId),Br(2),ms("ngIf",!t.editable&&null!=t.label),Br(1),ms("ngIf",!t.editable&&null==t.label),Br(1),ms("ngIf",t.editable),Br(1),ms("ngIf",null!=t.value&&t.showClear&&!t.disabled),Br(1),ps("aria-expanded",t.overlayVisible),Br(1),ms("ngClass",t.dropdownIcon),Br(1),ms("ngIf",t.overlayVisible))},directives:[mc,Ec,wc,OS,Tc,_c,wC,SS,mS,ES],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],encapsulation:2,data:{animation:[bh("overlayAnimation",[Ch(":enter",[wh({opacity:0,transform:"scaleY(0.8)"}),_h("{{showTransitionParams}}")]),Ch(":leave",[_h("{{hideTransitionParams}}",wh({opacity:0}))])])]},changeDetection:0}),t}(),CC=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc,wp,xS,IS,Cp],wp,xS]}),e}();function EC(e,t){if(1&e&&(_s(0,"th",5),na(1),ks()),2&e){var n=t.$implicit,i=Ms();Br(1),ra(" ",i.DaysName[n]," ")}}function TC(e,t){if(1&e){var n=Ts();_s(0,"td"),_s(1,"p-dropdown",6),As("ngModelChange",function(e){var t=Jt(n).$implicit;return Ms().$implicit.value[t]=e})("ngModelChange",function(){Jt(n);var e=Ms().$implicit;return Ms().stationChange.emit(e)}),ks(),ks()}if(2&e){var i=t.$implicit,r=Ms().$implicit,o=Ms();Br(1),ms("options",o.programsKey)("ngModel",r.value[i])("showClear",!0)}}function xC(e,t){if(1&e&&(_s(0,"tr"),_s(1,"td"),na(2),ks(),vs(3,TC,2,3,"td",4),ks()),2&e){var n=t.$implicit,i=Ms();Br(2),ia(n.key),Br(1),ms("ngForOf",i.daysArr)}}var OC=function(){var e=function(){function e(){u(this,e),this.stationChange=new Mu,this.DaysName=h_,this.daysArr=f_}return c(e,[{key:"programs",set:function(e){this.programsKey=[{value:null,label:""}].concat(m(Object.keys(e).map(function(e){return{value:e,label:e}})))}},{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-zones"]],inputs:{stations:"stations",programs:"programs"},outputs:{stationChange:"stationChange"},decls:10,vars:4,consts:[[1,"p-grid","content"],[1,"p-col","center"],[1,"styled-table"],["width","60px",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["width","60px"],[3,"options","ngModel","showClear","ngModelChange"]],template:function(e,t){1&e&&(_s(0,"div",0),_s(1,"div",1),_s(2,"table",2),_s(3,"thead"),_s(4,"th"),na(5,"\u0421\u0442\u0430\u043d\u0446\u0438\u044f"),ks(),vs(6,EC,2,1,"th",3),ks(),_s(7,"tbody"),vs(8,xC,4,2,"tr",4),Au(9,"keyvalue"),ks(),ks(),ks(),ks()),2&e&&(Br(6),ms("ngForOf",t.daysArr),Br(2),ms("ngForOf",Du(9,2,t.stations)))},directives:[_c,SC,Tv,Xv],pipes:[Dc],styles:[".content[_ngcontent-%COMP%]{width:100%;overflow:auto}  .p-dropdown.p-component{width:85px}"]}),e}(),IC=function(){function e(t,n){u(this,e),this.dueTime=t,this.scheduler=n}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new AC(e,this.dueTime,this.scheduler))}}]),e}(),AC=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,e)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return c(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(DC,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(L);function DC(e){e.debouncedNext()}var RC=function(e,t,n){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":e,"p-disabled":t,"p-focus":n}},MC={provide:Yp,useExisting:Te(function(){return PC}),multi:!0},PC=function(){var e=function(){function e(t){u(this,e),this.cd=t,this.trueValue=!0,this.falseValue=!1,this.onChange=new Mu,this.modelValue=!1,this.focused=!1,this.onModelChange=function(){},this.onModelTouched=function(){}}return c(e,[{key:"onClick",value:function(e,t){!this.disabled&&!this.readonly&&(e.preventDefault(),this.toggle(e),t.focus())}},{key:"onInputChange",value:function(e){this.readonly||this.updateModel(e,e.target.checked)}},{key:"toggle",value:function(e){this.updateModel(e,!this.checked())}},{key:"updateModel",value:function(e,t){this.modelValue=t?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue})}},{key:"onFocus",value:function(e){this.focused=!0}},{key:"onBlur",value:function(e){this.focused=!1,this.onModelTouched()}},{key:"writeValue",value:function(e){this.modelValue=e,this.cd.markForCheck()}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cd.markForCheck()}},{key:"checked",value:function(){return this.modelValue===this.trueValue}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Ja))},e.\u0275cmp=lt({type:e,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[_a([MC])],decls:5,vars:15,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(e,t){if(1&e){var n=Ts();_s(0,"div",0),As("click",function(e){Jt(n);var i=gs(3);return t.onClick(e,i)}),_s(1,"div",1),_s(2,"input",2,3),As("change",function(e){return t.onInputChange(e)})("focus",function(e){return t.onFocus(e)})("blur",function(e){return t.onBlur(e)}),ks(),ks(),ws(4,"span",4),ks()}2&e&&(Ws(t.styleClass),ms("ngClass",Tu(11,RC,t.checked(),t.disabled,t.focused))("ngStyle",t.style),Br(2),ms("checked",t.checked())("disabled",t.disabled),ps("id",t.inputId)("name",t.name)("tabindex",t.tabindex)("aria-checked",t.checked())("aria-labelledby",t.ariaLabelledBy))},directives:[mc,Ec],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}'],encapsulation:2,changeDetection:0}),e}(),LC=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc]]}),e}(),NC=function(){var e=function(){function e(t){u(this,e),this._fb=t,this.optionChange=new Mu,this.optionForm=this._fb.group({rainDetector:[null,rv.required],tempDetector:[null,rv.required],tempLow:[null,rv.required],tempHight:[null,rv.required],timeRatio:[null,rv.required]})}return c(e,[{key:"options",set:function(e){this.optionForm.setValue(e,{emitEvent:!1}),e.tempDetector||(this.tempLowControl.disable(),this.tempHightControl.disable())}},{key:"tempDetectorControl",get:function(){return this.optionForm.get("tempDetector")}},{key:"tempLowControl",get:function(){return this.optionForm.get("tempLow")}},{key:"tempHightControl",get:function(){return this.optionForm.get("tempHight")}},{key:"ngOnInit",value:function(){var e=this;this.optionForm.valueChanges.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gw;return function(n){return n.lift(new IC(e,t))}}(100)).subscribe(function(t){e.optionChange.emit(e.optionForm.getRawValue())}),this.tempDetectorControl.valueChanges.subscribe(function(t){t?e.tempLowControl.enable():e.tempLowControl.disable(),t?e.tempHightControl.enable():e.tempHightControl.disable()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(lg))},e.\u0275cmp=lt({type:e,selectors:[["app-options"]],inputs:{options:"options"},outputs:{optionChange:"optionChange"},decls:27,vars:1,consts:[[1,"p-grid"],[1,"p-col","form",3,"formGroup"],[1,"p-grid","p-shadow-1"],[1,"p-col-fixed","label"],[1,"p-col"],["formControlName","rainDetector"],["formControlName","tempDetector"],[1,"p-col-fixed","w-100","p-p-0"],["formControlName","tempLow"],["formControlName","tempHight"],["min","10","max","100","formControlName","timeRatio"]],template:function(e,t){1&e&&(_s(0,"div",0),_s(1,"div",1),_s(2,"div",2),_s(3,"div",3),na(4,"\u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0434\u0430\u0442\u0447\u0438\u043a \u0434\u043e\u0436\u0434\u044f"),ks(),_s(5,"div",4),ws(6,"p-inputSwitch",5),ks(),ks(),_s(7,"div",2),_s(8,"div",3),na(9,"\u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0434\u0430\u0442\u0447\u0438\u043a \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b"),ks(),_s(10,"div",4),ws(11,"p-inputSwitch",6),ks(),ws(12,"div",7),_s(13,"div",3),na(14," \u043d\u0438\u0436\u043d\u0438\u0439 \u043f\u043e\u0440\u043e\u0433 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u043f\u043e \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0435 "),ks(),_s(15,"div",4),ws(16,"p-inputNumber",8),ks(),ws(17,"div",7),_s(18,"div",3),na(19," \u0432\u0435\u0440\u0445\u043d\u0438\u0439 \u043f\u043e\u0440\u043e\u0433 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u043f\u043e \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0435 "),ks(),_s(20,"div",4),ws(21,"p-inputNumber",9),ks(),ks(),_s(22,"div",2),_s(23,"div",3),na(24,"\u043a\u043e\u044d\u0444\u0438\u0446\u0438\u0435\u043d\u0442 \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u043b\u0438\u0432\u0430"),ks(),_s(25,"div",4),ws(26,"p-inputNumber",10),ks(),ks(),ks(),ks()),2&e&&(Br(1),ms("formGroup",t.optionForm))},directives:[xv,ig,PC,Tv,og,ok],styles:[".label[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.form[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem;padding-left:.5rem}"]}),e}(),FC=(function(e){e.init="init",e.stationChange="stationChange",e.programChange="programChange",e.optionChange="optionChange",e.manualSendCommand="manualSendCommand"}(FC||(FC={})),FC),VC=(function(e){e.stationsRes="stationsRes",e.programsRes="programsRes",e.optionsRes="optionsRes",e.initRes="initRes"}(VC||(VC={})),VC),jC=function(){var e=function(){function e(t){u(this,e),this.mqttService=t,this.programs=d_,this.options=p_,this.zoneRelayTopicsMaps={},this.destroy$=new z,this.temperature$=new j,this.rainDetected$=new j,this.sendCommand(FC.init)}return c(e,[{key:"manualSendCommand",value:function(e){this.sendCommand(FC.manualSendCommand,e)}},{key:"sendCommand",value:function(e,t){this.mqttService.unsafePublish("/ui-client/sub",JSON.stringify({name:e,payload:t}),{qos:1,retain:!0})}},{key:"ngOnInit",value:function(){var e=this;this.mqttService.observe("/ui-client/pub").pipe(G(function(e){return JSON.parse(e.payload.toString())})).subscribe(function(t){switch(t.name){case VC.initRes:var n=t.payload,i=n.stations,r=n.programs,o=n.options,s=n.zoneRelayTopicsMaps,a=n.detectsDevices;e.stations=i,e.programs=r,e.options=o,e.zoneRelayTopicsMaps=s,e.temperature$=e.subControl(a.temperature),e.rainDetected$=e.subControl(a.rain).pipe(G(function(e){return e?"\u043d\u0435\u0442 \u0434\u043e\u0436\u0434\u044f":"\u0434\u043e\u0436\u0434\u044c"}));break;default:console.warn("\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0442\u0438\u043f \u043a\u043e\u043c\u0430\u043d\u0434\u044b",t)}})}},{key:"programChange",value:function(e){this.sendCommand(FC.programChange,e)}},{key:"stationChange",value:function(e){this.sendCommand(FC.stationChange,e)}},{key:"optionChange",value:function(e){this.sendCommand(FC.optionChange,e)}},{key:"subControl",value:function(e){return this.mqttService.observe("/devices/".concat(e.deviceName,"/controls/").concat(e.control)).pipe(a_(this.destroy$),G(function(e){return JSON.parse(e.payload.toString())}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(M_))},e.\u0275cmp=lt({type:e,selectors:[["app-watering"]],decls:21,vars:14,consts:[[1,"row"],[1,"col-12"],[1,"control"],[1,"col-12","p-mt-1"],[3,"multiple"],["header","\u0420\u0443\u0447\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",3,"selected"],[3,"stations","zoneRelayTopicsMaps","sendCommand"],["header","\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b"],[3,"programs","programChange"],["header","\u0417\u043e\u043d\u044b"],[3,"stations","programs","stationChange"],["header","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"],[3,"options","optionChange"]],template:function(e,t){1&e&&(_s(0,"div",0),_s(1,"div",1),na(2," \u0434\u0430\u0442\u0447\u0438\u043a \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b:"),_s(3,"span",2),na(4),Au(5,"async"),ks(),ws(6,"br"),na(7," \u0434\u0430\u0442\u0447\u0438\u043a \u0434\u043e\u0436\u0434\u044f: "),_s(8,"span",2),na(9),Au(10,"async"),ks(),ks(),_s(11,"div",3),_s(12,"p-accordion",4),_s(13,"p-accordionTab",5),_s(14,"app-manual-run",6),As("sendCommand",function(e){return t.manualSendCommand(e)}),ks(),ks(),_s(15,"p-accordionTab",7),_s(16,"app-programs",8),As("programChange",function(e){return t.programChange(e)}),ks(),ks(),_s(17,"p-accordionTab",9),_s(18,"app-zones",10),As("stationChange",function(e){return t.stationChange(e)}),ks(),ks(),_s(19,"p-accordionTab",11),_s(20,"app-options",12),As("optionChange",function(e){return t.optionChange(e)}),ks(),ks(),ks(),ks(),ks()),2&e&&(Br(4),ra(" ",Du(5,10,t.temperature$),""),Br(5),ia(Du(10,12,t.rainDetected$)),Br(3),ms("multiple",!0),Br(1),ms("selected",!0),Br(1),ms("stations",t.stations)("zoneRelayTopicsMaps",t.zoneRelayTopicsMaps),Br(2),ms("programs",t.programs),Br(2),ms("stations",t.stations)("programs",t.programs),Br(2),ms("options",t.options))},directives:[Y_,Q_,lk,Rw,OC,NC],pipes:[Ac],styles:["[_nghost-%COMP%]{color:#fff}[_nghost-%COMP%]  p-inputNumber input{width:100%}.day[_ngcontent-%COMP%]{min-width:215px;max-width:300px}.day-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}i[_ngcontent-%COMP%]{cursor:pointer}.time-remove[_ngcontent-%COMP%]{display:flex;align-items:center}.control[_ngcontent-%COMP%]{color:red}"]}),e}(),BC=(function(e){e.Admin="Admin",e.Shower="Shower"}(BC||(BC={})),BC),UC=(e(w={},BC.Admin,"0123456789"),e(w,BC.Shower,"shower"),w),HC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"develop",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];u(this,e),this.Name=t,this.Icon=n,this.Route=i,this.children=r,this.userAcces=o,this.isExpand=!1}return c(e,[{key:"chekAcces",value:function(e){return this.userAcces.includes(e)}}]),e}(),qC=[new HC("\u041e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u0435","fa fa-sun-o","/sun",[new HC("\u0413\u0430\u0440\u0430\u0436"),new HC("\u041f\u043e\u0433\u0440\u0435\u0431"),new HC("1 \u044d\u0442\u0430\u0436",null,"develop",[new HC("\u0422\u0430\u0431\u043c\u0431\u0443\u0440"),new HC("\u0425\u043e\u043b\u043b"),new HC("\u0413\u043e\u0441\u0442\u0438\u043d\u043d\u0430\u044f"),new HC("\u0421\u0442\u043e\u043b\u043e\u0432\u0430\u044f"),new HC("\u041a\u0443\u0445\u043d\u044f"),new HC("\u0411\u0430\u0441\u0441\u0435\u0439\u043d")]),new HC("2 \u044d\u0442\u0430\u0436"),new HC("3 \u044d\u0442\u0430\u0436"),new HC("\u0423\u043b\u0438\u0446\u0430")]),new HC("\u041f\u043e\u043b\u0438\u0432","fa fa-shower","/watering",[],[BC.Shower])],zC=function(){function e(){u(this,e)}return c(e,null,[{key:"getMenuItemByPath",value:function(e){for(var t=qC;null==t?void 0:t.length;){var n=t.find(function(t){return t.Route===e});if(n)return n;t=t.reduce(function(e,t){return e.concat(t.children||[])},[])}return null}}]),e}(),WC=function(e){return{"is-invalid":e}},KC=function(){var e=function(){function e(t,n){u(this,e),this.ref=t,this.config=n,this.password="",this.isError=!1,this.isError=n.data.hasError}return c(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){this.ref.close(this.password)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(jp),ys(Vp))},e.\u0275cmp=lt({type:e,selectors:[["app-auth"]],decls:11,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],[1,"form-group"],["pInputText","","type","password","placeholder","\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","name","something",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"row","p-mt-2"],[1,"col-12"],[1,"btn","btn-primary",2,"width","100%",3,"disabled","click"]],template:function(e,t){1&e&&(_s(0,"div",0),_s(1,"div",1),_s(2,"div",2),_s(3,"div",3),_s(4,"label"),na(5,"\u041f\u0430\u0440\u043e\u043b\u044c"),ks(),_s(6,"input",4),As("ngModelChange",function(e){return t.password=e}),ks(),ks(),ks(),ks(),_s(7,"div",5),_s(8,"div",6),_s(9,"button",7),As("click",function(){return t.ok()}),na(10," \u041e\u043a "),ks(),ks(),ks(),ks()),2&e&&(Br(6),ms("ngModel",t.password)("ngClass",Cu(3,WC,t.isError)),Br(3),ms("disabled",!(null!=t.password&&t.password.length)))},directives:[Jp,cg,Tv,Xv,mc],styles:[""]}),e}(),GC="Auth",QC=function(){var e=function(){function e(t){u(this,e),this.dialogService=t,this.isAutorize$=new dg(!1),this.user$=new dg(void 0),this.isAutorize$.next(this.isAuth())}return c(e,[{key:"checkUser",value:function(e){return UC[e]===this.getUserPass()}},{key:"logOut",value:function(){localStorage.removeItem(GC),this.user$.next(void 0),this.isAutorize$.next(!1),this.show()}},{key:"setUser",value:function(){var e=this.getUserPass(),t=null;Object.keys(UC).forEach(function(n){UC[n]===e&&(t=n)}),t&&this.user$.next(t)}},{key:"isAuth",value:function(){var e;if(null===(e=this.getUserPass())||void 0===e?void 0:e.length)return this.setUser(),!0;this.show()}},{key:"getUserPass",value:function(){var e=localStorage.getItem(GC);return e?atob(e):null}},{key:"show",value:function(e){var t=this;this.dialogService.open(KC,{data:{hasError:e},header:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c",style:{"max-height":"350px","max-width":"350px"},closable:!1,closeOnEscape:!1}).onClose.subscribe(function(e){t.validatePass(e)?(t.setAuth(btoa(e)),t.setUser(),t.isAutorize$.next(!0)):t.show()})}},{key:"validatePass",value:function(e){return Object.values(UC).includes(e)}},{key:"setAuth",value:function(e){localStorage.setItem(GC,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(Wp))},e.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),YC=[{path:"watering",component:jC,canActivate:[function(){var e=function(){function e(t){u(this,e),this.authService=t}return c(e,[{key:"canActivate",value:function(e,t){if(this.authService.checkUser(BC.Admin))return!0;var n=zC.getMenuItemByPath(t.url);return null==n?void 0:n.chekAcces(this.authService.user$.value)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(QC))},e.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()]},{path:"**",pathMatch:"full",component:s_}],ZC=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[$b.forRoot(YC,{relativeLinkResolution:"legacy"})],$b]}),e}(),$C=function(){var e=function(){function e(t,n){u(this,e),this.authSrv=t,this.titleService=n,this.appName="\u041e-\u0410\u0437\u0438\u0441",this.titleService.setTitle(this.appName)}return c(e,[{key:"logout",value:function(){this.authSrv.logOut()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(QC),ys(gh))},e.\u0275cmp=lt({type:e,selectors:[["app-header"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-4"],[1,"col-4","text-center","center"],[1,"col-4","text-end","right"],[1,"logout",3,"click"]],template:function(e,t){1&e&&(_s(0,"div",0),ws(1,"div",1),_s(2,"div",2),na(3),ks(),_s(4,"div",3),_s(5,"a",4),As("click",function(){return t.logout()}),na(6,"\u0432\u044b\u0445\u043e\u0434"),ks(),ks(),ks()),2&e&&(Br(3),ia(t.appName))},styles:["[_nghost-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{color:#fff}.right[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{cursor:pointer;color:#fff}"]}),e}();function JC(e,t){1&e&&Es(0)}var XC=function(e){return{"fa-rotate-180":e}};function eE(e,t){if(1&e&&ws(0,"i",17),2&e){var n=Ms(2).$implicit;ms("ngClass",Cu(1,XC,n.isExpand))}}function tE(e,t){if(1&e){var n=Ts();_s(0,"div",15),As("click",function(){Jt(n);var e=Ms().$implicit;return e.isExpand=!e.isExpand}),vs(1,eE,1,3,"i",16),ks()}if(2&e){var i=Ms().$implicit;Br(1),ms("ngIf",null==i.children?null:i.children.length)}}function nE(e,t){if(1&e&&(Ss(0),na(1),Cs()),2&e){var n=Ms().$implicit;Br(1),ra(" ",n.Name,"")}}function iE(e,t){1&e&&Es(0)}var rE=function(e){return{menuItems:e}};function oE(e,t){if(1&e&&(_s(0,"div",18),_s(1,"div",19),ws(2,"div",20),_s(3,"div",21),vs(4,iE,1,0,"ng-container",2),ks(),ks(),ks()),2&e){var n=Ms().$implicit;Ms(2);var i=gs(6);Br(4),ms("ngTemplateOutlet",i)("ngTemplateOutletContext",Cu(2,rE,n.children))}}function sE(e,t){if(1&e&&(_s(0,"div",7),vs(1,tE,2,1,"div",8),_s(2,"div",9),_s(3,"a",10),ws(4,"i",11),vs(5,nE,2,1,"ng-container",12),ks(),ks(),ws(6,"div",13),vs(7,oE,5,4,"div",14),ks()),2&e){var n=t.$implicit,i=Ms(2);Br(1),ms("ngIf",i.isExpand&&i.isEndAnimateExpand),Br(2),ms("routerLink",n.Route),Br(1),ms("ngClass",n.Icon),Br(1),ms("ngIf",i.isExpand&&i.isEndAnimateExpand),Br(2),ms("ngIf",(null==n.children?null:n.children.length)&&n.isExpand&&i.isExpand)}}function aE(e,t){1&e&&vs(0,sE,8,5,"div",6),2&e&&ms("ngForOf",t.menuItems)}var uE=function(){var e=function(){function e(t,n){var i=this;u(this,e),this.authSrv=n,this.MenuItems=[],this.m=qC,this.expandMenuEvent=new Mu,this.isExpand=!1,t.events.pipe(Ng(function(e){return e instanceof uy})).subscribe(function(e){i.isExpand&&i.expandMenu()})}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.authSrv.user$.subscribe(function(t){e.MenuItems=e.authSrv.checkUser(BC.Admin)?qC:qC.filter(function(e){return e.userAcces.includes(t)})})}},{key:"expandMenu",value:function(){this.isExpand=!this.isExpand,this.expandMenuEvent.emit(this.isExpand)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(Lb),ys(QC))},e.\u0275cmp=lt({type:e,selectors:[["app-menu"]],inputs:{isEndAnimateExpand:"isEndAnimateExpand"},outputs:{expandMenuEvent:"expandMenuEvent"},decls:7,vars:7,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"navbar-nav"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"nav-item","nav-link",3,"click"],["aria-hidden","true",1,"fa","fa-angle-double-right",3,"ngClass"],["children",""],["class","item p-grid p-nogutter",4,"ngFor","ngForOf"],[1,"item","p-grid","p-nogutter"],["class","expand-icon p-col-fixed p-nogutter p-mr-2",3,"click",4,"ngIf"],[1,"content","p-col","p-nogutter"],["routerLinkActive","active",1,"nav-item","nav-link",3,"routerLink"],[3,"ngClass"],[4,"ngIf"],[1,"w-100"],["class","col-12 p-nogutter",4,"ngIf"],[1,"expand-icon","p-col-fixed","p-nogutter","p-mr-2",3,"click"],["class","fa fa-angle-down","aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",1,"fa","fa-angle-down",3,"ngClass"],[1,"col-12","p-nogutter"],[1,"p-grid","p-nogutter"],[1,"col-1"],[1,"col-11"]],template:function(e,t){if(1&e&&(_s(0,"div",0),_s(1,"div",1),vs(2,JC,1,0,"ng-container",2),_s(3,"a",3),As("click",function(){return t.expandMenu()}),ws(4,"i",4),ks(),ks(),ks(),vs(5,aE,1,1,"ng-template",null,5,Ju)),2&e){var n=gs(6);Br(2),ms("ngTemplateOutlet",n)("ngTemplateOutletContext",Cu(3,rE,t.MenuItems)),Br(2),ms("ngClass",Cu(5,XC,t.isExpand))}},directives:[Tc,mc,_c,wc,Vb,Bb],styles:["[_nghost-%COMP%]{font-size:24px}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{padding-left:10px;padding-right:5px}.item[_ngcontent-%COMP%]{align-items:center}.item[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{width:15px;color:#fff;cursor:pointer}  .p-treenode:hover{background-color:#0000000d}.w-100[_ngcontent-%COMP%]{width:100%}"]}),e}();function lE(e,t){if(1&e&&(_s(0,"div",10),_s(1,"h4"),na(2),ks(),ks()),2&e){var n=Ms(2);Br(2),ia(n.pageName)}}function cE(e,t){if(1&e){var n=Ts();_s(0,"div",1),_s(1,"div",2),ws(2,"app-header"),ks(),_s(3,"div",3),_s(4,"div",4),As("@MinExpan.done",function(){return Jt(n),Ms().doneAnimate()}),_s(5,"app-menu",5),As("expandMenuEvent",function(e){return Jt(n),Ms().isExpandMenu=e}),ks(),ks(),_s(6,"div",6),_s(7,"div",7),vs(8,lE,3,1,"div",8),_s(9,"div",9),ws(10,"router-outlet"),ks(),ks(),ks(),ks(),ks()}if(2&e){var i=Ms();Br(4),ms("@MinExpan",i.isExpandMenu?"expan":"min"),Br(1),ms("isEndAnimateExpand",i.isEndAnimateExpand),Br(3),ms("ngIf",i.pageName)}}var hE=function(){var e=function(){function e(t,n,i){var r=this;u(this,e),this.mqttService=t,this.authSrv=n,this.router=i,this.isExpandMenu=!1,this.isEndAnimateExpand=!1,this.mqttService.onConnect.subscribe(function(e){console.log("status MQTT: ",e)}),this.mqttService.onError.subscribe(function(e){console.error(e)}),this.router.events.pipe(Ng(function(e){return e instanceof uy})).subscribe(function(e){var t=zC.getMenuItemByPath(e.url);r.pageName=null==t?void 0:t.Name})}return c(e,[{key:"doneAnimate",value:function(){this.isEndAnimateExpand=this.isExpandMenu}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ys(M_),ys(QC),ys(Lb))},e.\u0275cmp=lt({type:e,selectors:[["app-root"]],decls:2,vars:3,consts:[["class","container-fluid bg-dark",4,"ngIf"],[1,"container-fluid","bg-dark"],[1,"row","header"],[1,"row","body"],[1,"col","menu","bg-dark"],[3,"isEndAnimateExpand","expandMenuEvent"],[1,"col","content"],[1,"row"],["class","col-12 page-name center",4,"ngIf"],[1,"col-12"],[1,"col-12","page-name","center"]],template:function(e,t){1&e&&(vs(0,cE,11,3,"div",0),Au(1,"async")),2&e&&ms("ngIf",Du(1,1,t.authSrv.isAutorize$))},directives:[wc,$C,uE,Ub],pipes:[Ac],styles:[".container-fluid[_ngcontent-%COMP%]{overflow:hidden}.container-fluid[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:30px;border-bottom:solid 2px black}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{height:calc(100vh - 30px)}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%] > .menu[_ngcontent-%COMP%]{top:30px;left:0;position:absolute;padding:0;border-right:solid 2px black;z-index:1;height:100%}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{height:100%;overflow:auto;padding-left:60px;z-index:0;margin:16px}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .page-name[_ngcontent-%COMP%]{color:#fff}"],data:{animation:[bh("MinExpan",[Sh("min",wh({width:"60px"})),Sh("expan",wh({width:"220px"})),Ch("min => expan",[_h("0.3s")]),Ch("expan => min",[_h("0.3s")])])]}}),e}(),fE=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({imports:[[Mc,xS,Cp],wp,xS]}),e}(),dE=new j(ey),pE=function(){function e(t,n){u(this,e),this.delay=t,this.scheduler=n}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new vE(e,this.delay,this.scheduler))}}]),e}(),vE=function(e){h(n,e);var t=d(n);function n(e,i,r){var o;return u(this,n),(o=t.call(this,e)).delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return c(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new gE(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(S_.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(S_.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,i=e.scheduler,r=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}}]),n}(L),gE=function e(t,n){u(this,e),this.time=t,this.notification=n},yE="Service workers are disabled or not supported by this browser",mE=function(){function e(t){if(u(this,e),this.serviceWorker=t,t){var n=Pw(t,"controllerchange").pipe(G(function(){return t.controller})),i=kg(Cg(function(){return fg(t.controller)}),n);this.worker=i.pipe(Ng(function(e){return!!e})),this.registration=this.worker.pipe(Eg(function(){return t.getRegistration()}));var r=Pw(t,"message").pipe(G(function(e){return e.data})).pipe(Ng(function(e){return e&&e.type})).pipe(O_());r.connect(),this.events=r}else this.worker=this.events=this.registration=Cg(function(){return k_(new Error("Service workers are disabled or not supported by this browser"))})}return c(e,[{key:"postMessage",value:function(e,t){return this.worker.pipe(Ig(1),ty(function(n){n.postMessage(Object.assign({action:e},t))})).toPromise().then(function(){})}},{key:"postMessageWithStatus",value:function(e,t,n){var i=this.waitForStatus(n),r=this.postMessage(e,t);return Promise.all([i,r]).then(function(){})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(e){return this.events.pipe(Ng(function(t){return t.type===e}))}},{key:"nextEventOfType",value:function(e){return this.eventsOfType(e).pipe(Ig(1))}},{key:"waitForStatus",value:function(e){return this.eventsOfType("STATUS").pipe(Ng(function(t){return t.nonce===e}),Ig(1),G(function(e){if(!e.status)throw new Error(e.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),e}(),bE=function(){var e=function(){function e(t){if(u(this,e),this.sw=t,this.subscriptionChanges=new z,!t.isEnabled)return this.messages=dE,this.notificationClicks=dE,void(this.subscription=dE);this.messages=this.sw.eventsOfType("PUSH").pipe(G(function(e){return e.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(G(function(e){return e.data})),this.pushManager=this.sw.registration.pipe(G(function(e){return e.pushManager}));var n=this.pushManager.pipe(Eg(function(e){return e.getSubscription()}));this.subscription=he(n,this.subscriptionChanges)}return c(e,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(e){var t=this;if(!this.sw.isEnabled)return Promise.reject(new Error(yE));for(var n={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(i.length)),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return n.applicationServerKey=r,this.pushManager.pipe(Eg(function(e){return e.subscribe(n)}),Ig(1)).toPromise().then(function(e){return t.subscriptionChanges.next(e),e})}},{key:"unsubscribe",value:function(){var e=this;return this.sw.isEnabled?this.subscription.pipe(Ig(1),Eg(function(t){if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(function(t){if(!t)throw new Error("Unsubscribe failed!");e.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(yE))}},{key:"decodeBase64",value:function(e){return atob(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(mE))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),_E=function(){var e=function(){function e(t){if(u(this,e),this.sw=t,!t.isEnabled)return this.available=dE,this.activated=dE,void(this.unrecoverable=dE);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}return c(e,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(yE));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(yE));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ai(mE))},e.\u0275prov=Me({token:e,factory:e.\u0275fac}),e}(),kE=function e(){u(this,e)},wE=new ci("NGSW_REGISTER_SCRIPT");function SE(e,t,r,o){return function(){if(Lc(o)&&"serviceWorker"in navigator&&!1!==r.enabled){var s,a;if(navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof r.registrationStrategy)s=r.registrationStrategy();else{var u=(r.registrationStrategy||"registerWhenStable:30000").split(":"),l=i(a=u)||_(a)||b(a)||n(),c=l[0],h=l.slice(1);switch(c){case"registerImmediately":s=fg(null);break;case"registerWithDelay":s=CE(+h[0]||0);break;case"registerWhenStable":s=h[0]?he(EE(e),CE(+h[0])):EE(e);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(r.registrationStrategy))}}e.get(_l).runOutsideAngular(function(){return s.pipe(Ig(1)).subscribe(function(){return navigator.serviceWorker.register(t,{scope:r.scope}).catch(function(e){return console.error("Service worker registration failed with:",e)})})})}}}function CE(e){return fg(null).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gw,n=function(e){return e instanceof Date&&!isNaN(+e)}(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new pE(n,t))}}(e))}function EE(e){return e.get(jl).isStable.pipe(Ng(function(e){return e}))}function TE(e,t){return new mE(Lc(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var xE=function(){var e=function(){function e(){u(this,e)}return c(e,null,[{key:"register",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:e,providers:[{provide:wE,useValue:t},{provide:kE,useValue:n},{provide:mE,useFactory:TE,deps:[kE,ol]},{provide:Xu,useFactory:SE,deps:[$o,wE,kE,ol],multi:!0}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=Pe({providers:[bE,_E]}),e}(),OE=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dt({type:e,bootstrap:[hE]}),e.\u0275inj=Pe({providers:[QC,Wp],imports:[[ph,ZC,ap,R_.forRoot({hostname:window.location.hostname,protocol:"ws",port:18883,clientId:"SmartHouse: "+Math.ceil(10*Math.random())}),LC,Ok,ag,Tp,qp,hg,sk,Ew,Z_,CC,ug,fE,xE.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]]}),e}();(function(){if(Rl)throw new Error("Cannot enable prod mode after platform setup.");Dl=!1})(),fh().bootstrapModule(OE).catch(function(e){return console.error(e)})}},function(e){e(e.s=4341)}])}();