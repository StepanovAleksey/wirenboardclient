!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e){var t="function"==typeof Map?new Map:void 0;return(n=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return r(e,arguments,v(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),c(i,e)})(e)}function r(e,t,n){return(r=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=p();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(self.webpackChunkwirenboardclient=self.webpackChunkwirenboardclient||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},7334:function(e,t,n){e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return i(t[s][1][e]||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";n.byteLength=function(e){var t=l(e),n=t[1];return 3*(t[0]+n)/4-n},n.toByteArray=function(e){var t,n,r=l(e),s=r[0],a=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),c=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(h(e,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function h(e,t,n){for(var r=[],i=t;i<n;i+=3)r.push(c((e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2])));return r.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){},{}],3:[function(e,t,n){(function(t){(function(){"use strict";var t=e("base64-js"),r=e("ieee754");n.Buffer=s,n.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),r=o(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=s.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var i=function(e){if(s.isBuffer(e)){var t=0|h(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||U(e.length)?o(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),o(e<0?0:0|h(e))}function c(e){for(var t=e.length<0?0:0|h(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(e).length;default:if(i)return r?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function d(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){h=!1;break}if(h)return o}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(U(a))return s;e[n+s]=a}return s}function m(e,t,n,r){return F(j(t,e.length-n),e,n,r)}function _(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return _(e,t,n,r)}function w(e,t,n,r){return F(D(t),e,n,r)}function k(e,t,n,r){return F(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,n,r){return t.fromByteArray(0===n&&r===e.length?e:e.slice(n,r))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:s=e[i+2],128==(192&(o=e[i+1]))&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=e[i+2],a=e[i+3],128==(192&(o=e[i+1]))&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=L(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,i,o){return t=+t,n>>>=0,o||R(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,o){return t=+t,n>>>=0,o||R(e,0,n,8),r.write(e,t,n,i,52,8),n+8}n.kMaxLength=i,!(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,n){return a(e,t,n)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(V(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(V(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):d.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if(V(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),h=0;h<u;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=s.prototype,r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!r&&0!==r&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,r),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var M=/[^+/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function D(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:5}],4:[function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(e){console&&console.warn&&console.warn(e)}(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=y(u,l);for(n=0;n<l;++n)o(c[n],this,t)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},a.prototype.off=a.prototype.removeListener=function(e,t){var n,r,i,o,s;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},a.prototype.listenerCount=v,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],5:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=l}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[n+d]=255&s,d+=p,s/=256,l-=8);e[n+d-p]|=128*v}},{}],6:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],7:[function(e,t,n){(function(n,r){(function(){"use strict";var i=e("events").EventEmitter,o=e("./store"),s=e("mqtt-packet"),a=e("readable-stream").Writable,u=e("inherits"),l=e("reinterval"),c=e("./validations"),h=e("xtend"),f=e("debug")("mqttjs:client"),d=n?n.nextTick:function(e){setTimeout(e,0)},p=r.setImmediate||function(e){d(e)},v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},y=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],g={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function m(e,t,n){f("sendPacket :: packet: %O",t),f("sendPacket :: emitting `packetsend`"),e.emit("packetsend",t),f("sendPacket :: writing to stream");var r=s.writeToStream(t,e.stream,e.options);f("sendPacket :: writeToStream result %s",r),!r&&n?(f("sendPacket :: handle events on `drain` once through callback."),e.stream.once("drain",n)):n&&(f("sendPacket :: invoking cb"),n())}function _(e){e&&(f("flush: queue exists? %b",!!e),Object.keys(e).forEach(function(t){"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])}))}function b(e,t,n,r){f("storeAndSend :: store packet with cmd %s to outgoingStore",t.cmd),e.outgoingStore.put(t,function(i){if(i)return n&&n(i);r(),m(e,t,n)})}function w(e){f("nop ::",e)}function k(e,t){var n,r=this;if(!(this instanceof k))return new k(e,t);for(n in this.options=t||{},v)this.options[n]=void 0===this.options[n]?v[n]:t[n];f("MqttClient :: options.protocol",t.protocol),f("MqttClient :: options.protocolVersion",t.protocolVersion),f("MqttClient :: options.username",t.username),f("MqttClient :: options.keepalive",t.keepalive),f("MqttClient :: options.reconnectPeriod",t.reconnectPeriod),f("MqttClient :: options.rejectUnauthorized",t.rejectUnauthorized),this.options.clientId="string"==typeof t.clientId?t.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),f("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.outgoingStore=t.outgoingStore||new o,this.incomingStore=t.incomingStore||new o,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this._firstConnection=!0,this.on("connect",function(){var e=this.queue;f("connect :: sending queued packets"),function t(){var n=e.shift();f("deliver :: entry %o",n);var i=null;!n||(f("deliver :: call _sendPacket for %o",i=n.packet),r._sendPacket(i,function(e){n.cb&&n.cb(e),t()}))}()}),this.on("close",function(){f("close :: connected set to `false`"),this.connected=!1,f("close :: clearing connackTimer"),clearTimeout(this.connackTimer),f("close :: clearing ping timer"),null!==r.pingTimer&&(r.pingTimer.clear(),r.pingTimer=null),f("close :: calling _setupReconnect"),this._setupReconnect()}),i.call(this),f("MqttClient :: setting up stream"),this._setupStream()}u(k,i),k.prototype._setupStream=function(){var e,t=this,n=this,r=new a,i=s.parser(this.options),o=null,u=[];function l(){if(u.length)d(c);else{var e=o;o=null,e()}}function c(){f("work :: getting next packet in queue");var e=u.shift();if(e)f("work :: packet pulled from queue"),n._handlePacket(e,l);else{f("work :: no packets in queue");var t=o;o=null,f("work :: done flag is %s",!!t),t&&t()}}if(f("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),f("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),i.on("packet",function(e){f("parser :: on packet push to packets array."),u.push(e)}),r._write=function(e,t,n){o=n,f("writable stream :: parsing buffer"),i.parse(e),c()},f("_setupStream :: pipe stream to writable stream"),this.stream.pipe(r),this.stream.on("error",function(e){f("streamErrorHandler :: error",e.message),y.includes(e.code)?(f("streamErrorHandler :: emitting error"),n.emit("error",e)):w(e)}),this.stream.on("close",function(){f("(%s)stream :: on close",n.options.clientId),function(e){e&&(f("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(e).forEach(function(t){e[t].volatile&&"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])}))}(n.outgoing),f("stream: emit close to MqttClient"),n.emit("close")}),f("_setupStream: sending packet `connect`"),(e=Object.create(this.options)).cmd="connect",m(this,e),i.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return n.end(function(){return t.emit("error",new Error("Packet has no Authentication Method"))}),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket&&m(this,h({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){f("!!connectTimeout hit!! Calling _cleanUp with force `true`"),n._cleanUp(!0)},this.options.connectTimeout)},k.prototype._handlePacket=function(e,t){var n=this.options;if(5===n.protocolVersion&&n.properties&&n.properties.maximumPacketSize&&n.properties.maximumPacketSize<e.length)return this.emit("error",new Error("exceeding packets size "+e.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(f("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",e),e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"pingresp":this._handlePingresp(e),t();break;case"disconnect":this._handleDisconnect(e),t()}},k.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},k.prototype.publish=function(e,t,n,r){f("publish :: message `%s` to topic `%s`",t,e);var i,o=this.options;if("function"==typeof n&&(r=n,n=null),n=h({qos:0,retain:!1,dup:!1},n),this._checkDisconnecting(r))return this;switch(i={cmd:"publish",topic:e,payload:t,qos:n.qos,retain:n.retain,messageId:this._nextId(),dup:n.dup},5===o.protocolVersion&&(i.properties=n.properties,(!o.properties&&i.properties&&i.properties.topicAlias||n.properties&&o.properties&&(n.properties.topicAlias&&o.properties.topicAliasMaximum&&n.properties.topicAlias>o.properties.topicAliasMaximum||!o.properties.topicAliasMaximum&&n.properties.topicAlias))&&delete i.properties.topicAlias),f("publish :: qos",n.qos),n.qos){case 1:case 2:this.outgoing[i.messageId]={volatile:!1,cb:r||w},this._storeProcessing?(f("_storeProcessing enabled"),this._packetIdsDuringStoreProcessing[i.messageId]=!1,this._storePacket(i,void 0,n.cbStorePut)):(f("MqttClient:publish: packet cmd: %s",i.cmd),this._sendPacket(i,void 0,n.cbStorePut));break;default:this._storeProcessing?(f("_storeProcessing enabled"),this._storePacket(i,r,n.cbStorePut)):(f("MqttClient:publish: packet cmd: %s",i.cmd),this._sendPacket(i,r,n.cbStorePut))}return this},k.prototype.subscribe=function(){for(var e,t=new Array(arguments.length),n=0;n<arguments.length;n++)t[n]=arguments[n];var r,i=[],o=t.shift(),s=o.resubscribe,a=t.pop()||w,u=t.pop(),l=this,d=this.options.protocolVersion;if(delete o.resubscribe,"string"==typeof o&&(o=[o]),"function"!=typeof a&&(u=a,a=w),null!==(r=c.validateTopics(o)))return p(a,new Error("Invalid topic "+r)),this;if(this._checkDisconnecting(a))return f("subscribe: discconecting true"),this;var v={qos:0};if(5===d&&(v.nl=!1,v.rap=!1,v.rh=0),u=h(v,u),Array.isArray(o)?o.forEach(function(e){if(f("subscribe: array topic %s",e),!l._resubscribeTopics.hasOwnProperty(e)||l._resubscribeTopics[e].qos<u.qos||s){var t={topic:e,qos:u.qos};5===d&&(t.nl=u.nl,t.rap=u.rap,t.rh=u.rh,t.properties=u.properties),f("subscribe: pushing topic `%s` and qos `%s` to subs list",t.topic,t.qos),i.push(t)}}):Object.keys(o).forEach(function(e){if(f("subscribe: object topic %s",e),!l._resubscribeTopics.hasOwnProperty(e)||l._resubscribeTopics[e].qos<o[e].qos||s){var t={topic:e,qos:o[e].qos};5===d&&(t.nl=o[e].nl,t.rap=o[e].rap,t.rh=o[e].rh,t.properties=u.properties),f("subscribe: pushing `%s` to subs list",t),i.push(t)}}),e={cmd:"subscribe",subscriptions:i,qos:1,retain:!1,dup:!1,messageId:this._nextId()},u.properties&&(e.properties=u.properties),i.length){if(this.options.resubscribe){f("subscribe :: resubscribe true");var y=[];i.forEach(function(e){if(l.options.reconnectPeriod>0){var t={qos:e.qos};5===d&&(t.nl=e.nl||!1,t.rap=e.rap||!1,t.rh=e.rh||0,t.properties=e.properties),l._resubscribeTopics[e.topic]=t,y.push(e.topic)}}),l.messageIdToTopic[e.messageId]=y}return this.outgoing[e.messageId]={volatile:!0,cb:function(e,t){if(!e)for(var n=t.granted,r=0;r<n.length;r+=1)i[r].qos=n[r];a(e,i)}},f("subscribe :: call _sendPacket"),this._sendPacket(e),this}a(null,[])},k.prototype.unsubscribe=function(){for(var e={cmd:"unsubscribe",qos:1,messageId:this._nextId()},t=this,n=new Array(arguments.length),r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.shift(),o=n.pop()||w,s=n.pop();return"string"==typeof i&&(i=[i]),"function"!=typeof o&&(s=o,o=w),this._checkDisconnecting(o)||("string"==typeof i?e.unsubscriptions=[i]:Array.isArray(i)&&(e.unsubscriptions=i),this.options.resubscribe&&e.unsubscriptions.forEach(function(e){delete t._resubscribeTopics[e]}),"object"==typeof s&&s.properties&&(e.properties=s.properties),this.outgoing[e.messageId]={volatile:!0,cb:o},f("unsubscribe: call _sendPacket"),this._sendPacket(e)),this},k.prototype.end=function(e,t,n){var r=this;function i(){f("end :: closeStores: closing incoming and outgoing stores"),r.disconnected=!0,r.incomingStore.close(function(e){r.outgoingStore.close(function(t){if(f("end :: closeStores: emitting end"),r.emit("end"),n){var i=e||t;f("end :: closeStores: invoking callback with args"),n(i)}})}),r._deferredReconnect&&r._deferredReconnect()}function o(){f("end :: (%s) :: finish :: calling _cleanUp with force %s",r.options.clientId,e),r._cleanUp(e,function(){f("end :: finish :: calling process.nextTick on closeStores"),d(i.bind(r))},t)}return f("end :: (%s)",this.options.clientId),(null==e||"boolean"!=typeof e)&&(n=t||w,t=e,e=!1,"object"!=typeof t&&(n=t,t=null,"function"!=typeof n&&(n=w))),"object"!=typeof t&&(n=t,t=null),f("end :: cb? %s",!!n),n=n||w,this.disconnecting?(n(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(f("end :: (%s) :: calling finish in 10ms once outgoing is empty",r.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(f("end :: (%s) :: immediately calling finish",r.options.clientId),o()),this)},k.prototype.removeOutgoingMessage=function(e){var t=this.outgoing[e]?this.outgoing[e].cb:null;return delete this.outgoing[e],this.outgoingStore.del({messageId:e},function(){t(new Error("Message removed"))}),this},k.prototype.reconnect=function(e){f("client reconnect");var t=this,n=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new o,t.outgoingStore=t.options.outgoingStore||new o,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=n:n(),this},k.prototype._reconnect=function(){var e=this;f("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(function(){e._setupStream()}),f("client already connected. disconnecting first.")):(f("_reconnect: calling _setupStream"),this._setupStream())},k.prototype._setupReconnect=function(){var e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0?(this.reconnecting||(f("_setupReconnect :: emit `offline` state"),this.emit("offline"),f("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),f("_setupReconnect :: setting reconnectTimer for %d ms",e.options.reconnectPeriod),e.reconnectTimer=setInterval(function(){f("reconnectTimer :: reconnect triggered!"),e._reconnect()},e.options.reconnectPeriod)):f("_setupReconnect :: doing nothing...")},k.prototype._clearReconnect=function(){f("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},k.prototype._cleanUp=function(e,t){var n=arguments[2];if(t&&(f("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",t)),f("_cleanUp :: forced? %s",e),e)0===this.options.reconnectPeriod&&this.options.clean&&_(this.outgoing),f("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{var r=h({cmd:"disconnect"},n);f("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(r,p.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(f("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(f("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(f("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",t),t())},k.prototype._sendPacket=function(e,t,n){if(f("_sendPacket :: (%s) ::  start",this.options.clientId),n=n||w,!this.connected)return f("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(e,t,n);switch(this._shiftPingInterval(),e.cmd){case"publish":break;case"pubrel":return void b(this,e,t,n);default:return void m(this,e,t)}switch(e.qos){case 2:case 1:b(this,e,t,n);break;case 0:default:m(this,e,t)}f("_sendPacket :: (%s) ::  end",this.options.clientId)},k.prototype._storePacket=function(e,t,n){f("_storePacket :: packet: %o",e),f("_storePacket :: cb? %s",!!t),n=n||w,0===(e.qos||0)&&this.queueQoSZero||"publish"!==e.cmd?this.queue.push({packet:e,cb:t}):e.qos>0?(t=this.outgoing[e.messageId]?this.outgoing[e.messageId].cb:null,this.outgoingStore.put(e,function(e){if(e)return t&&t(e);n()})):t&&t(new Error("No connection to broker"))},k.prototype._setupPingTimer=function(){f("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);var e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=l(function(){e._checkPing()},1e3*this.options.keepalive))},k.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},k.prototype._checkPing=function(){f("_checkPing :: checking ping..."),this.pingResp?(f("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(f("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},k.prototype._handlePingresp=function(){this.pingResp=!0},k.prototype._handleConnack=function(e){f("_handleConnack");var t=this.options,n=5===t.protocolVersion?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),e.properties&&(e.properties.topicAliasMaximum&&(t.properties||(t.properties={}),t.properties.topicAliasMaximum=e.properties.topicAliasMaximum),e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)),0===n)this.reconnecting=!1,this._onConnect(e);else if(n>0){var r=new Error("Connection refused: "+g[n]);r.code=n,this.emit("error",r)}},k.prototype._handlePublish=function(e,t){f("_handlePublish: packet %o",e),t=void 0!==t?t:w;var n=e.topic.toString(),r=e.payload,i=e.qos,o=e.messageId,s=this,a=this.options,u=[0,16,128,131,135,144,145,151,153];switch(f("_handlePublish: qos %d",i),i){case 2:a.customHandleAcks(n,r,e,function(n,r){return n instanceof Error||(r=n,n=null),n?s.emit("error",n):-1===u.indexOf(r)?s.emit("error",new Error("Wrong reason code for pubrec")):void(r?s._sendPacket({cmd:"pubrec",messageId:o,reasonCode:r},t):s.incomingStore.put(e,function(){s._sendPacket({cmd:"pubrec",messageId:o},t)}))});break;case 1:a.customHandleAcks(n,r,e,function(i,a){return i instanceof Error||(a=i,i=null),i?s.emit("error",i):-1===u.indexOf(a)?s.emit("error",new Error("Wrong reason code for puback")):(a||s.emit("message",n,r,e),void s.handleMessage(e,function(e){if(e)return t&&t(e);s._sendPacket({cmd:"puback",messageId:o,reasonCode:a},t)}))});break;case 0:this.emit("message",n,r,e),this.handleMessage(e,t);break;default:f("_handlePublish: unknown QoS. Doing nothing.")}},k.prototype.handleMessage=function(e,t){t()},k.prototype._handleAck=function(e){var t,n=e.messageId,r=e.cmd,i=null,o=this.outgoing[n]?this.outgoing[n].cb:null,s=this;if(o){switch(f("_handleAck :: packet type",r),r){case"pubcomp":case"puback":var a=e.reasonCode;a&&a>0&&16!==a&&((t=new Error("Publish error: "+g[a])).code=a,o(t,e)),delete this.outgoing[n],this.outgoingStore.del(e,o);break;case"pubrec":i={cmd:"pubrel",qos:2,messageId:n};var u=e.reasonCode;u&&u>0&&16!==u?((t=new Error("Publish error: "+g[u])).code=u,o(t,e)):this._sendPacket(i);break;case"suback":delete this.outgoing[n];for(var l=0;l<e.granted.length;l++)if(0!=(128&e.granted[l])){var c=this.messageIdToTopic[n];c&&c.forEach(function(e){delete s._resubscribeTopics[e]})}o(null,e);break;case"unsuback":delete this.outgoing[n],o(null);break;default:s.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else f("_handleAck :: Server sent an ack in error. Ignoring.")},k.prototype._handlePubrel=function(e,t){f("handling pubrel packet"),t=void 0!==t?t:w;var n=this,r={cmd:"pubcomp",messageId:e.messageId};n.incomingStore.get(e,function(e,i){e?n._sendPacket(r,t):(n.emit("message",i.topic,i.payload,i),n.handleMessage(i,function(e){if(e)return t(e);n.incomingStore.del(i,w),n._sendPacket(r,t)}))})},k.prototype._handleDisconnect=function(e){this.emit("disconnect",e)},k.prototype._nextId=function(){var e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},k.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},k.prototype._resubscribe=function(e){f("_resubscribe");var t=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!e.sessionPresent)&&t.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){f("_resubscribe: protocolVersion 5");for(var n=0;n<t.length;n++){var r={};r[t[n]]=this._resubscribeTopics[t[n]],r.resubscribe=!0,this.subscribe(r,{properties:r[t[n]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},k.prototype._onConnect=function(e){if(this.disconnected)this.emit("connect",e);else{var t=this;this._setupPingTimer(),this._resubscribe(e),this.connected=!0,function n(){var r=t.outgoingStore.createStream();function i(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}}function o(){r.destroy(),r=null,i()}t.once("close",o),r.on("error",function(e){i(),t.removeListener("close",o),t.emit("error",e)}),r.on("end",function(){var r=!0;for(var s in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[s]){r=!1;break}r?(i(),t.removeListener("close",o),t.emit("connect",e)):n()}),function e(){if(r){t._storeProcessing=!0;var n,i=r.read(1);if(!i)return void r.once("readable",e);if(t._packetIdsDuringStoreProcessing[i.messageId])return void e();t.disconnecting||t.reconnectTimer?r.destroy&&r.destroy():(n=t.outgoing[i.messageId]?t.outgoing[i.messageId].cb:null,t.outgoing[i.messageId]={volatile:!1,cb:function(t,r){n&&n(t,r),e()}},t._packetIdsDuringStoreProcessing[i.messageId]=!0,t._sendPacket(i))}}()}()}},t.exports=k}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./store":13,"./validations":14,_process:69,debug:19,events:4,inherits:34,"mqtt-packet":38,"readable-stream":60,reinterval:61,xtend:68}],8:[function(e,t,n){(function(n){(function(){"use strict";var r,i,o,s=e("readable-stream").Transform,a=e("duplexify"),u=!1;t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(t);var c=function(e,t){var n="alis"===e.protocol?"wss":"ws",r=n+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(r=n+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}(t,e);return(r=t.my).connectSocket({url:c,protocols:l}),i=function(){var e=new s;return e._write=function(e,t,n){r.sendSocketMessage({data:e.buffer,success:function(){n()},fail:function(){n(new Error)}})},e._flush=function(e){r.closeSocket({success:function(){e()}})},e}(),o=a.obj(),u||(u=!0,r.onSocketOpen(function(){o.setReadable(i),o.setWritable(i),o.emit("connect")}),r.onSocketMessage(function(e){if("string"==typeof e.data){var t=n.from(e.data,"base64");i.push(t)}else{var r=new FileReader;r.addEventListener("load",function(){var e=r.result;e=e instanceof ArrayBuffer?n.from(e):n.from(e,"utf8"),i.push(e)}),r.readAsArrayBuffer(e.data)}}),r.onSocketClose(function(){o.end(),o.destroy()}),r.onSocketError(function(e){o.destroy(e)})),o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:3,duplexify:21,"readable-stream":60}],9:[function(e,t,n){"use strict";var r=e("net"),i=e("debug")("mqttjs:tcp");t.exports=function(e,t){var n,o;return t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",i("port %d and host %s",n=t.port,o=t.hostname),r.createConnection(n,o)}},{debug:19,net:2}],10:[function(e,t,n){"use strict";var r=e("tls"),i=e("debug")("mqttjs:tls");t.exports=function(e,t){var n;function o(r){t.rejectUnauthorized&&e.emit("error",r),n.end()}return t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",t.servername=t.host,t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,i("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized),(n=r.connect(t)).on("secureConnect",function(){t.rejectUnauthorized&&!n.authorized?n.emit("error",new Error("TLS not authorized")):n.removeListener("error",o)}),n.on("error",o),n}},{debug:19,tls:2}],11:[function(e,t,r){(function(r,i){(function(){"use strict";var o=e("ws"),s=e("debug")("mqttjs:ws"),a=e("duplexify"),u=e("readable-stream").Transform,l=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],c=void 0!==r&&"browser"===r.title||"function"==typeof n;function h(e,t){var n=e.protocol+"://"+e.hostname+":"+e.port+e.path;return"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}function f(e){var t=e;return e.hostname||(t.hostname="localhost"),e.port||(t.port="wss"===e.protocol?443:80),e.path||(t.path="/"),e.wsOptions||(t.wsOptions={}),!c&&"wss"===e.protocol&&l.forEach(function(n){e.hasOwnProperty(n)&&!e.wsOptions.hasOwnProperty(n)&&(t.wsOptions[n]=e[n])}),t}t.exports=c?function(e,t){var n;s("browserStreamBuilder");var r,o=function(e){var t=f(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var n=new URL(document.URL);t.hostname=n.hostname,t.port||(t.port=n.port)}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}(t).browserBufferSize||524288,l=t.browserBufferTimeout||1e3,c=!t.objectMode,d=function(e,t){var n="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",r=h(t,e),i=new WebSocket(r,[n]);return i.binaryType="arraybuffer",i}(e,t),p=((r=new u({objectModeMode:t.objectMode}))._write=function e(t,n,s){d.bufferedAmount>o&&setTimeout(e,l,t,n,s),c&&"string"==typeof t&&(t=i.from(t,"utf8"));try{d.send(t)}catch(r){return s(r)}s()},r._flush=function(e){d.close(),e()},r);t.objectMode||(p._writev=b),p.on("close",function(){d.close()});var v=void 0===d.addEventListener;function y(){n.setReadable(p),n.setWritable(p),n.emit("connect")}function g(){n.end(),n.destroy()}function m(e){n.destroy(e)}function _(e){var t=e.data;t=t instanceof ArrayBuffer?i.from(t):i.from(t,"utf8"),p.push(t)}function b(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]="string"==typeof e[r].chunk?i.from(e[r],"utf8"):e[r].chunk;this._write(i.concat(n),"binary",t)}return d.readyState===d.OPEN?n=p:(n=n=a(void 0,void 0,t),t.objectMode||(n._writev=b),v?d.addEventListener("open",y):d.onopen=y),n.socket=d,v?(d.addEventListener("close",g),d.addEventListener("error",m),d.addEventListener("message",_)):(d.onclose=g,d.onerror=m,d.onmessage=_),n}:function(e,t){s("streamBuilder");var n=f(t),r=h(n,e),i=function(e,t,n){s("createWebSocket"),s("protocol: "+n.protocolId+" "+n.protocolVersion);var r="MQIsdp"===n.protocolId&&3===n.protocolVersion?"mqttv3.1":"mqtt";return s("creating new Websocket for url: "+t+" and protocol: "+r),new o(t,[r],n.wsOptions)}(0,r,n),a=o.createWebSocketStream(i,n.wsOptions);return a.url=r,a}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:69,buffer:3,debug:19,duplexify:21,"readable-stream":60,ws:67}],12:[function(e,t,n){(function(n){(function(){"use strict";var r,i,o,s=e("readable-stream").Transform,a=e("duplexify");t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");var u="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(t);var l=function(e,t){var n="wxs"===e.protocol?"wss":"ws",r=n+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(r=n+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}(t,e);r=wx.connectSocket({url:l,protocols:[u]}),i=function(){var e=new s;return e._write=function(e,t,n){r.send({data:e.buffer,success:function(){n()},fail:function(e){n(new Error(e))}})},e._flush=function(e){r.close({success:function(){e()}})},e}(),(o=a.obj())._destroy=function(e,t){r.close({success:function(){t&&t(e)}})};var c=o.destroy;return o.destroy=(function(){o.destroy=c;var e=this;setTimeout(function(){r.close({fail:function(){e._destroy(new Error)}})},0)}).bind(o),r.onOpen(function(){o.setReadable(i),o.setWritable(i),o.emit("connect")}),r.onMessage(function(e){var t=e.data;t=t instanceof ArrayBuffer?n.from(t):n.from(t,"utf8"),i.push(t)}),r.onClose(function(){o.end(),o.destroy()}),r.onError(function(e){o.destroy(new Error(e.errMsg))}),o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:3,duplexify:21,"readable-stream":60}],13:[function(e,t,n){"use strict";var r=e("xtend"),i=e("readable-stream").Readable,o={objectMode:!0},s={clean:!0};function a(e){if(!(this instanceof a))return new a(e);this.options=e||{},this.options=r(s,e),this._inflights=new Map}a.prototype.put=function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this},a.prototype.createStream=function(){var e=new i(o),t=!1,n=[],r=0;return this._inflights.forEach(function(e,t){n.push(e)}),e._read=function(){this.push(!t&&r<n.length?n[r++]:null)},e.destroy=function(){if(!t){var e=this;t=!0,setTimeout(function(){e.emit("close")},0)}},e},a.prototype.del=function(e,t){return(e=this._inflights.get(e.messageId))?(this._inflights.delete(e.messageId),t(null,e)):t&&t(new Error("missing packet")),this},a.prototype.get=function(e,t){return(e=this._inflights.get(e.messageId))?t(null,e):t&&t(new Error("missing packet")),this},a.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},t.exports=a},{"readable-stream":60,xtend:68}],14:[function(e,t,n){"use strict";function r(e){for(var t=e.split("/"),n=0;n<t.length;n++)if("+"!==t[n]){if("#"===t[n])return n===t.length-1;if(-1!==t[n].indexOf("+")||-1!==t[n].indexOf("#"))return!1}return!0}t.exports={validateTopics:function(e){if(0===e.length)return"empty_topic_list";for(var t=0;t<e.length;t++)if(!r(e[t]))return e[t];return null}}},{}],15:[function(e,t,r){(function(r){(function(){"use strict";var i=e("../client"),o=e("../store"),s=e("url"),a=e("xtend"),u=e("debug")("mqttjs"),l={};function c(e,t){if(u("connecting to an MQTT broker..."),"object"==typeof e&&!t&&(t=e,e=null),t=t||{},e){var n=s.parse(e,!0);if(null!=n.port&&(n.port=Number(n.port)),null===(t=a(n,t)).protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(function(e){var t;e.auth&&((t=e.auth.match(/^(.+):(.+)$/))?(e.username=t[1],e.password=t[2]):e.username=e.auth)}(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!l[t.protocol]){var r=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(e,t){return(!r||t%2!=0)&&"function"==typeof l[e]})[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");t.protocol&&(t.defaultProtocol=t.protocol);var o=new i(function(e){return t.servers&&((!e._reconnectCount||e._reconnectCount===t.servers.length)&&(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),u("calling streambuilder for",t.protocol),l[t.protocol](e,t)},t);return o.on("error",function(){}),o}void 0!==r&&"browser"!==r.title||"function"!=typeof n?(l.mqtt=e("./tcp"),l.tcp=e("./tcp"),l.ssl=e("./tls"),l.tls=e("./tls"),l.mqtts=e("./tls")):(l.wx=e("./wx"),l.wxs=e("./wx"),l.ali=e("./ali"),l.alis=e("./ali")),l.ws=e("./ws"),l.wss=e("./ws"),t.exports=c,t.exports.connect=c,t.exports.MqttClient=i,t.exports.Store=o}).call(this)}).call(this,e("_process"))},{"../client":7,"../store":13,"./ali":8,"./tcp":9,"./tls":10,"./ws":11,"./wx":12,_process:69,debug:19,url:75,xtend:68}],16:[function(e,t,n){"use strict";var r=e("buffer").Buffer,i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];for(var t=0,n=0;n<this._bufs.length;n++){var r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},o.prototype._reverseOffset=function(e){for(var t=e[0],n=e[1],r=0;r<t;r++)n+=this._bufs[r].length;return n},o.prototype.get=function(e){if(!(e>this.length||e<0)){var t=this._offset(e);return this._bufs[t[0]][t[1]]}},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||r.alloc(0);var o=!!e,s=this._offset(n),a=i-n,u=a,l=o&&t||0,c=s[1];if(0===n&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(var h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,l),l+=this._bufs[h].length;return e}if(u<=this._bufs[s[0]].length-c)return o?this._bufs[s[0]].copy(e,t,c,c+u):this._bufs[s[0]].slice(c,c+u);o||(e=r.allocUnsafe(a));for(var f=s[0];f<this._bufs.length;f++){var d=this._bufs[f].length-c;if(!(u>d)){this._bufs[f].copy(e,l,c,c+u),l+=d;break}this._bufs[f].copy(e,l,c),l+=d,u-=d,c&&(c=0)}return e.length>l?e.slice(0,l):e},o.prototype.shallowSlice=function(e,t){if((e=e||0)<0&&(e+=this.length),(t="number"!=typeof t?this.length:t)<0&&(t+=this.length),e===t)return this._new();var n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},o.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){for(var e=this._new(),t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(var t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(var n=0;n<e._bufs.length;n++)this.append(e._bufs[n]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;for(var i=this._offset(t),o=i[0],s=i[1];o<this._bufs.length;o++){for(var a=this._bufs[o];s<a.length;)if(a.length-s>=e.length){var u=a.indexOf(e,s);if(-1!==u)return this._reverseOffset([o,u]);s=a.length-e.length+1}else{var l=this._reverseOffset([o,s]);if(this._match(l,e))return l;s++}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(var n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var t in e)!function(t){o.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(n,n+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},t.exports=o},{buffer:3}],17:[function(e,t,n){"use strict";var r=e("readable-stream").Duplex,i=e("inherits"),o=e("./BufferList");function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;var t=(function(e){this._callback&&(this._callback(e),this._callback=null)}).bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),e=null}o._init.call(this,e),r.call(this)}i(s,r),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,t.exports=s,t.exports.BufferListStream=s,t.exports.BufferList=o},{"./BufferList":16,inherits:34,"readable-stream":60}],18:[function(e,t,n){(function(e){(function(){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==typeof e&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e.isBuffer}).call(this)}).call(this,{isBuffer:e("../../../../is-buffer/index.js")})},{"../../../../is-buffer/index.js":6}],19:[function(e,t,n){(function(r){(function(){var i;n.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n)}},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(t){}},n.load=function(){var e;try{e=n.storage.getItem("debug")}catch(t){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e},n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(i){}}(),n.destroy=(i=!1,function(){i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||function(){},t.exports=e("./common")(n),t.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this)}).call(this,e("_process"))},{"./common":20,_process:69}],20:[function(e,t,n){t.exports=function(t){function n(e){var t,i=null;function o(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(o.enabled){var s=o,a=Number(new Date);s.diff=a-(t||a),s.prev=t,s.curr=a,t=a,r[0]=n.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return"%";u++;var i=n.formatters[t];return"function"==typeof i&&(e=i.call(s,r[u]),r.splice(u,1),u--),e}),n.formatArgs.call(s,r),(s.log||n.log).apply(s,r)}}return o.namespace=e,o.useColors=n.useColors(),o.color=n.selectColor(e),o.extend=r,o.destroy=n.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===i?n.enabled(e):i},set:function(e){i=e}}),"function"==typeof n.init&&n.init(o),o}function r(e,t){var r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){var e=[].concat(y(n.names.map(i)),y(n.skips.map(i).map(function(e){return"-"+e}))).join(",");return n.enable(""),e},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)!r[t]||("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(function(e){n[e]=t[e]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]},n.enable(n.load()),n}},{ms:43}],21:[function(e,t,n){(function(n,r){(function(){var i=e("readable-stream"),o=e("end-of-stream"),s=e("inherits"),a=e("stream-shift"),u=r.from&&r.from!==Uint8Array.from?r.from([0]):new r([0]),l=function(e,t){e._corked?e.once("uncork",t):t()},c=function(e,t){return function(n){n?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===n.message?null:n):t&&!e._ended&&e.end()}},h=function e(t,n,r){if(!(this instanceof e))return new e(t,n,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),n&&this.setReadable(n)};s(h,i.Duplex),h.obj=function(e,t,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new h(e,t,n)},h.prototype.cork=function(){1==++this._corked&&this.emit("cork")},h.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},h.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,r=o(e,{writable:!0,readable:!1},c(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&n.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=function(){t._writable.removeListener("drain",i),r()},this.uncork()}else this.end()},h.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t=this,n=o(e,{writable:!1,readable:!0},c(this)),r=function(){t._forward()},s=function(){t.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:function(e){return new i.Readable({objectMode:!0,highWaterMark:16}).wrap(e)}(e),this._readable2.on("readable",r),this._readable2.on("end",s),this._unread=function(){t._readable2.removeListener("readable",r),t._readable2.removeListener("end",s),n()},this._forward()}},h.prototype._read=function(){this._drained=!0,this._forward()},h.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){this._forwarding=!0;for(var e;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},h.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;n.nextTick(function(){t._destroy(e)})}},h.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},h.prototype._write=function(e,t,n){return this.destroyed?n():this._corked?l(this,this._write.bind(this,e,t,n)):e===u?this._finish(n):this._writable?void(!1===this._writable.write(e)?this._ondrain=n:n()):n()},h.prototype._finish=function(e){var t=this;this.emit("preend"),l(this,function(){!function(e,t){!e||e._writableState&&e._writableState.finished?t():e._writableState?e.end(t):(e.end(),t())}(t._forwardEnd&&t._writable,function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),l(t,e)})})},h.prototype.end=function(e,t,n){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(u),i.Writable.prototype.end.call(this,n))},t.exports=h}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:69,buffer:3,"end-of-stream":33,inherits:34,"readable-stream":30,"stream-shift":63}],22:[function(e,t,n){"use strict";var r=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=h;var o=Object.create(e("core-util-is"));o.inherits=e("inherits");var s=e("./_stream_readable"),a=e("./_stream_writable");o.inherits(h,s);for(var u=i(a.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},{"./_stream_readable":24,"./_stream_writable":26,"core-util-is":18,inherits:34,"process-nextick-args":45}],23:[function(e,t,n){"use strict";t.exports=o;var r=e("./_stream_transform"),i=Object.create(e("core-util-is"));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=e("inherits"),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":25,"core-util-is":18,inherits:34}],24:[function(e,t,n){(function(n,r){(function(){"use strict";var i=e("process-nextick-args");t.exports=_;var o,s=e("isarray");_.ReadableState=m,e("events");var a=function(e,t){return e.listeners(t).length},u=e("./internal/streams/stream"),l=e("safe-buffer").Buffer,c=r.Uint8Array||function(){},h=Object.create(e("core-util-is"));h.inherits=e("inherits");var f=e("util"),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,v=e("./internal/streams/BufferList"),y=e("./internal/streams/destroy");h.inherits(_,u);var g=["error","close","destroy","pause","resume"];function m(t,n){var r=n instanceof(o=o||e("./_stream_duplex"));this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function _(t){if(o=o||e("./_stream_duplex"),!(this instanceof _))return new _(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function b(e,t,n,r,i){var o,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}}(e,s)):(i||(o=function(e,t){var n;return!function(e){return l.isBuffer(e)||e instanceof c}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"!=typeof t&&!s.objectMode&&Object.getPrototypeOf(t)!==l.prototype&&(t=function(e){return l.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):C(e,s)):w(e,s,t,!1))):r||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),C(e,t)}function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){d("emit readable"),e.emit("readable"),O(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function x(e){d("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(i+=s===o.length?o:o.slice(0,e),0==(e-=s)){s===o.length?(++r,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0==(e-=s)){s===o.length?(++i,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(P,t,e))}function P(e,t){!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}}),_.prototype.destroy=y.destroy,_.prototype._undestroy=y.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},_.prototype.unshift=function(e){return b(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){return p||(p=e("string_decoder/").StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this},_.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):S(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&R(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&R(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:l;function l(){d("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",function t(n,i){d("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),e.removeListener("close",y),e.removeListener("finish",g),e.removeListener("drain",c),e.removeListener("error",v),e.removeListener("unpipe",t),r.removeListener("end",l),r.removeListener("end",m),r.removeListener("data",p),h=!0,o.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c())});var c=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,O(e))}}(r);e.on("drain",c);var h=!1,f=!1;function p(t){d("ondata"),f=!1,!1===e.write(t)&&!f&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!h&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function v(t){d("onerror",t),m(),e.removeListener("error",v),0===a(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",g),m()}function g(){d("onfinish"),e.removeListener("close",y),m()}function m(){d("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",v),e.once("close",y),e.once("finish",g),e.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=N(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},_.prototype.addListener=_.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(x,this))}return n},_.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(A,e,t))}(this,e)),this},_.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||!(n.objectMode||i&&i.length)||t.push(i)||(r=!0,e.pause())}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=I}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":22,"./internal/streams/BufferList":27,"./internal/streams/destroy":28,"./internal/streams/stream":29,_process:69,"core-util-is":18,events:4,inherits:34,isarray:35,"process-nextick-args":45,"safe-buffer":31,"string_decoder/":32,util:2}],25:[function(e,t,n){"use strict";t.exports=s;var r=e("./_stream_duplex"),i=Object.create(e("core-util-is"));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){u(e,t,n)}):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{"./_stream_duplex":22,"core-util-is":18,inherits:34}],26:[function(e,t,n){(function(n,r,i){(function(){"use strict";var o=e("process-nextick-args");function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=m;var a,u=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?i:o.nextTick;m.WritableState=g;var l=Object.create(e("core-util-is"));l.inherits=e("inherits");var c,h={deprecate:e("util-deprecate")},f=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,p=r.Uint8Array||function(){},v=e("./internal/streams/destroy");function y(){}function g(t,n){a=a||e("./_stream_duplex");var r=n instanceof a;this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,l=t.writableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}(e,n,r,t,i);else{var s=k(n);!s&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&w(e,n),r?u(b,e,n,s,i):b(e,n,s,i)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function m(t){if(a=a||e("./_stream_duplex"),!(c.call(m,this)||this instanceof a))return new m(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function _(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function b(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=n;for(var o=0,a=!0;n;)r[o]=n,n.isBuf||(a=!1),n=n.next,o+=1;r.allBuffers=a,_(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(_(e,t,!1,t.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function E(e,t){var n=k(t);return n&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(m,f),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===m&&e&&e._writableState instanceof g}})):c=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,n){var r=this._writableState,i=!1,s=!r.objectMode&&function(e){return d.isBuffer(e)||e instanceof p}(e);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=y),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"!=typeof n&&void 0!==n&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(r,s),i=!1),i}(this,r,e,n))&&(r.pendingcb++,i=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=d.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else _(e,t,!1,a,r,i,o);return u}(this,r,s,e,t,n)),i},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&w(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}}),m.prototype.destroy=v.destroy,m.prototype._undestroy=v.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":22,"./internal/streams/destroy":28,"./internal/streams/stream":29,_process:69,"core-util-is":18,inherits:34,"process-nextick-args":45,"safe-buffer":31,timers:74,"util-deprecate":65}],27:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("util");function o(e,t,n){e.copy(t,n)}t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)o(n.data,t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":31,util:2}],28:[function(e,t,n){"use strict";var r=e("process-nextick-args");function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":45}],29:[function(e,t,n){t.exports=e("events").EventEmitter},{events:4}],30:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":22,"./lib/_stream_passthrough.js":23,"./lib/_stream_readable.js":24,"./lib/_stream_transform.js":25,"./lib/_stream_writable.js":26}],31:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:3}],32:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}n.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":31}],33:[function(e,t,n){(function(n){(function(){var r=e("once"),i=function(){};t.exports=function e(t,o,s){if("function"==typeof o)return e(t,null,o);o||(o={}),s=r(s||i);var a=t._writableState,u=t._readableState,l=o.readable||!1!==o.readable&&t.readable,c=o.writable||!1!==o.writable&&t.writable,h=!1,f=function(){t.writable||d()},d=function(){c=!1,l||s.call(t)},p=function(){l=!1,c||s.call(t)},v=function(e){s.call(t,e?new Error("exited with error code: "+e):null)},y=function(e){s.call(t,e)},g=function(){n.nextTick(m)},m=function(){if(!h){if(l&&(!u||!u.ended||u.destroyed))return s.call(t,new Error("premature close"));if(c&&(!a||!a.ended||a.destroyed))return s.call(t,new Error("premature close"))}},_=function(){t.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",d),t.on("abort",g),t.req?_():t.on("request",_)):c&&!a&&(t.on("end",f),t.on("close",f)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(t)&&t.on("exit",v),t.on("end",p),t.on("finish",d),!1!==o.error&&t.on("error",y),t.on("close",g),function(){h=!0,t.removeListener("complete",d),t.removeListener("abort",g),t.removeListener("request",_),t.req&&t.req.removeListener("finish",d),t.removeListener("end",f),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("exit",v),t.removeListener("end",p),t.removeListener("error",y),t.removeListener("close",g)}}}).call(this)}).call(this,e("_process"))},{_process:69,once:44}],34:[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],35:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],36:[function(e,t,n){(function(e){(function(){var n=t.exports;for(var r in n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},n.codes={},n.types)n.codes[n.types[r]]=r;for(var i in n.CMD_SHIFT=4,n.CMD_MASK=240,n.DUP_MASK=8,n.QOS_MASK=3,n.QOS_SHIFT=1,n.RETAIN_MASK=1,n.VARBYTEINT_MASK=127,n.VARBYTEINT_FIN_MASK=128,n.VARBYTEINT_MAX=268435455,n.SESSIONPRESENT_MASK=1,n.SESSIONPRESENT_HEADER=e.from([n.SESSIONPRESENT_MASK]),n.CONNACK_HEADER=e.from([n.codes.connack<<n.CMD_SHIFT]),n.USERNAME_MASK=128,n.PASSWORD_MASK=64,n.WILL_RETAIN_MASK=32,n.WILL_QOS_MASK=24,n.WILL_QOS_SHIFT=3,n.WILL_FLAG_MASK=4,n.CLEAN_SESSION_MASK=2,n.CONNECT_HEADER=e.from([n.codes.connect<<n.CMD_SHIFT]),n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},n.propertiesCodes={},n.properties)n.propertiesCodes[n.properties[i]]=i;function o(t){return[0,1,2].map(function(r){return[0,1].map(function(i){return[0,1].map(function(o){var s=e.alloc(1);return s.writeUInt8(n.codes[t]<<n.CMD_SHIFT|(i?n.DUP_MASK:0)|r<<n.QOS_SHIFT|o,0,!0),s})})})}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},n.PUBLISH_HEADER=o("publish"),n.SUBSCRIBE_HEADER=o("subscribe"),n.SUBSCRIBE_OPTIONS_QOS_MASK=3,n.SUBSCRIBE_OPTIONS_NL_MASK=1,n.SUBSCRIBE_OPTIONS_NL_SHIFT=2,n.SUBSCRIBE_OPTIONS_RAP_MASK=1,n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,n.SUBSCRIBE_OPTIONS_RH_MASK=3,n.SUBSCRIBE_OPTIONS_RH_SHIFT=4,n.SUBSCRIBE_OPTIONS_RH=[0,16,32],n.SUBSCRIBE_OPTIONS_NL=4,n.SUBSCRIBE_OPTIONS_RAP=8,n.SUBSCRIBE_OPTIONS_QOS=[0,1,2],n.UNSUBSCRIBE_HEADER=o("unsubscribe"),n.ACKS={unsuback:o("unsuback"),puback:o("puback"),pubcomp:o("pubcomp"),pubrel:o("pubrel"),pubrec:o("pubrec")},n.SUBACK_HEADER=e.from([n.codes.suback<<n.CMD_SHIFT]),n.VERSION3=e.from([3]),n.VERSION4=e.from([4]),n.VERSION5=e.from([5]),n.VERSION131=e.from([131]),n.VERSION132=e.from([132]),n.QOS=[0,1,2].map(function(t){return e.from([t])}),n.EMPTY={pingreq:e.from([n.codes.pingreq<<4,0]),pingresp:e.from([n.codes.pingresp<<4,0]),disconnect:e.from([n.codes.disconnect<<4,0])}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:3}],37:[function(e,t,n){(function(n){(function(){var r=e("./writeToStream"),i=function(e){l(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.call(this))._array=new Array(20),e._i=0,e}return u(r,[{key:"write",value:function(e){return this._array[this._i++]=e,!0}},{key:"concat",value:function(){var e,t=0,r=new Array(this._array.length),i=this._array,o=0;for(e=0;e<i.length&&void 0!==i[e];e++)r[e]="string"!=typeof i[e]?i[e].length:n.byteLength(i[e]),t+=r[e];var s=n.allocUnsafe(t);for(e=0;e<i.length&&void 0!==i[e];e++)"string"!=typeof i[e]?(i[e].copy(s,o),o+=r[e]):(s.write(i[e],o),o+=r[e]);return s}}]),r}(e("events"));t.exports=function(e,t){var n=new i;return r(e,n,t),n.concat()}}).call(this)}).call(this,e("buffer").Buffer)},{"./writeToStream":42,buffer:3,events:4}],38:[function(e,t,n){n.parser=e("./parser").parser,n.generate=e("./generate"),n.writeToStream=e("./writeToStream")},{"./generate":37,"./parser":41,"./writeToStream":42}],39:[function(e,t,n){(function(e){(function(){var n={},r=e.isBuffer(e.from([1,2]).subarray(0,1));function i(t){var n=e.allocUnsafe(2);return n.writeUInt8(t>>8,0),n.writeUInt8(255&t,1),n}t.exports={cache:n,generateCache:function(){for(var e=0;e<65536;e++)n[e]=i(e)},generateNumber:i,genBufVariableByteInt:function(t){var n=0,i=0,o=e.allocUnsafe(4);do{n=t%128|0,(t=t/128|0)>0&&(n|=128),o.writeUInt8(n,i++)}while(t>0&&i<4);return t>0&&(i=0),r?o.subarray(0,i):o.slice(0,i)},generate4ByteBuffer:function(t){var n=e.allocUnsafe(4);return n.writeUInt32BE(t,0),n}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:3}],40:[function(e,t,n){t.exports=function(){return function e(){s(this,e),this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}()},{}],41:[function(e,t,n){var r=e("bl"),i=e("events"),o=e("./packet"),a=e("./constants"),c=e("debug")("mqtt-packet:parser"),f=function(e){l(n,e);var t=h(n);function n(){var e;return s(this,n),(e=t.call(this)).parser=e.constructor.parser,e}return u(n,[{key:"_resetState",value:function(){c("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=r(),this._stateCounter=0}},{key:"parse",value:function(e){for(this.error&&this._resetState(),this._list.append(e),c("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,c("parse: state complete. _stateCounter is now: %d",this._stateCounter),c("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return c("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}},{key:"_parseHeader",value:function(){var e=this._list.readUInt8(0);return this.packet.cmd=a.types[e>>a.CMD_SHIFT],this.packet.retain=0!=(e&a.RETAIN_MASK),this.packet.qos=e>>a.QOS_SHIFT&a.QOS_MASK,this.packet.dup=0!=(e&a.DUP_MASK),c("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}},{key:"_parseLength",value:function(){var e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),c("_parseLength %d",e.value),!!e}},{key:"_parsePayload",value:function(){c("_parsePayload: payload %O",this._list);var e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return c("_parsePayload complete result: %s",e),e}},{key:"_parseConnect",value:function(){var e,t,n,r;c("_parseConnect");var i={},o=this.packet,s=this._parseString();if(null===s)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==s&&"MQIsdp"!==s)return this._emitError(new Error("Invalid protocolId"));if(o.protocolId=s,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.protocolVersion=this._list.readUInt8(this._pos),o.protocolVersion>=128&&(o.bridgeMode=!0,o.protocolVersion=o.protocolVersion-128),3!==o.protocolVersion&&4!==o.protocolVersion&&5!==o.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(i.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK,i.will&&(o.will={},o.will.retain=0!=(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),o.will.qos=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT),o.clean=0!=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK),this._pos++,o.keepalive=this._parseNum(),-1===o.keepalive)return this._emitError(new Error("Packet too short"));if(5===o.protocolVersion){var u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(o.properties=u)}var l=this._parseString();if(null===l)return this._emitError(new Error("Packet too short"));if(o.clientId=l,c("_parseConnect: packet.clientId: %s",o.clientId),i.will){if(5===o.protocolVersion){var h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(o.will.properties=h)}if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(o.will.topic=e,c("_parseConnect: packet.will.topic: %s",o.will.topic),null===(t=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));o.will.payload=t,c("_parseConnect: packet.will.paylaod: %s",o.will.payload)}if(i.username){if(null===(r=this._parseString()))return this._emitError(new Error("Cannot parse username"));o.username=r,c("_parseConnect: packet.username: %s",o.username)}if(i.password){if(null===(n=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));o.password=n}return this.settings=o,c("_parseConnect: complete"),o}},{key:"_parseConnack",value:function(){c("_parseConnack");var e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&a.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)e.reasonCode=this._list.length>=2?this._list.readUInt8(this._pos++):0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}c("_parseConnack: complete")}},{key:"_parsePublish",value:function(){c("_parsePublish");var e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),c("_parsePublish: payload from buffer list: %o",e.payload)}}},{key:"_parseSubscribe",value:function(){c("_parseSubscribe");var e,t,n,r,i,o,s,u=this.packet;if(1!==u.qos)return this._emitError(new Error("Wrong subscribe header"));if(u.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(u.properties=l)}for(;this._pos<u.length;){if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));n=(t=this._parseByte())&a.SUBSCRIBE_OPTIONS_QOS_MASK,o=0!=(t>>a.SUBSCRIBE_OPTIONS_NL_SHIFT&a.SUBSCRIBE_OPTIONS_NL_MASK),i=0!=(t>>a.SUBSCRIBE_OPTIONS_RAP_SHIFT&a.SUBSCRIBE_OPTIONS_RAP_MASK),r=t>>a.SUBSCRIBE_OPTIONS_RH_SHIFT&a.SUBSCRIBE_OPTIONS_RH_MASK,s={topic:e,qos:n},5===this.settings.protocolVersion?(s.nl=o,s.rap=i,s.rh=r):this.settings.bridgeMode&&(s.rh=0,s.rap=!0,s.nl=!0),c("_parseSubscribe: push subscription `%s` to subscription",s),u.subscriptions.push(s)}}}},{key:"_parseSuback",value:function(){c("_parseSuback");var e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}},{key:"_parseUnsubscribe",value:function(){c("_parseUnsubscribe");var e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){var n=this._parseString();if(null===n)return this._emitError(new Error("Cannot parse topic"));c("_parseUnsubscribe: push topic `%s` to unsubscriptions",n),e.unsubscriptions.push(n)}}}},{key:"_parseUnsuback",value:function(){c("_parseUnsuback");var e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){var t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}},{key:"_parseConfirmation",value:function(){c("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);var e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(e.length>2?(e.reasonCode=this._parseByte(),c("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)):e.reasonCode=0,e.length>3)){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return!0}},{key:"_parseDisconnect",value:function(){var e=this.packet;if(c("_parseDisconnect"),5===this.settings.protocolVersion){e.reasonCode=this._list.length>0?this._parseByte():0;var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return c("_parseDisconnect result: true"),!0}},{key:"_parseAuth",value:function(){c("_parseAuth");var e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();var t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),c("_parseAuth: result: true"),!0}},{key:"_parseMessageId",value:function(){var e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(c("_parseMessageId: packet.messageId %d",e.messageId),!0)}},{key:"_parseString",value:function(e){var t=this._parseNum(),n=t+this._pos;if(-1===t||n>this._list.length||n>this.packet.length)return null;var r=this._list.toString("utf8",this._pos,n);return this._pos+=t,c("_parseString: result: %s",r),r}},{key:"_parseStringPair",value:function(){return c("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}},{key:"_parseBuffer",value:function(){var e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;var n=this._list.slice(this._pos,t);return this._pos+=e,c("_parseBuffer: result: %o",n),n}},{key:"_parseNum",value:function(){if(this._list.length-this._pos<2)return-1;var e=this._list.readUInt16BE(this._pos);return this._pos+=2,c("_parseNum: result: %s",e),e}},{key:"_parse4ByteNum",value:function(){if(this._list.length-this._pos<4)return-1;var e=this._list.readUInt32BE(this._pos);return this._pos+=4,c("_parse4ByteNum: result: %s",e),e}},{key:"_parseVarByteNum",value:function(e){c("_parseVarByteNum");for(var t,n=0,r=1,i=0,o=!1,s=this._pos?this._pos:0;n<4&&s+n<this._list.length;){if(i+=r*((t=this._list.readUInt8(s+n++))&a.VARBYTEINT_MASK),r*=128,0==(t&a.VARBYTEINT_FIN_MASK)){o=!0;break}if(this._list.length<=n)break}return!o&&4===n&&this._list.length>=n&&this._emitError(new Error("Invalid variable byte integer")),s&&(this._pos+=n),c("_parseVarByteNum: result: %o",o=!!o&&(e?{bytes:n,value:i}:i)),o}},{key:"_parseByte",value:function(){var e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),c("_parseByte: result: %o",e),e}},{key:"_parseByType",value:function(e){switch(c("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}},{key:"_parseProperties",value:function(){c("_parseProperties");for(var e=this._parseVarByteNum(),t=this._pos+e,n={};this._pos<t;){var r=this._parseByte();if(!r)return this._emitError(new Error("Cannot parse property code type")),!1;var i=a.propertiesCodes[r];if(!i)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==i)n[i]?(Array.isArray(n[i])||(n[i]=[n[i]]),n[i].push(this._parseByType(a.propertiesTypes[i]))):n[i]=this._parseByType(a.propertiesTypes[i]);else{n[i]||(n[i]=Object.create(null));var o=this._parseByType(a.propertiesTypes[i]);n[i][o.name]?(Array.isArray(n[i][o.name])||(n[i][o.name]=[n[i][o.name]]),n[i][o.name].push(o.value)):n[i][o.name]=o.value}}return n}},{key:"_newPacket",value:function(){return c("_newPacket"),this.packet&&(this._list.consume(this.packet.length),c("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),c("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}},{key:"_emitError",value:function(e){c("_emitError"),this.error=e,this.emit("error",e)}}],[{key:"parser",value:function(e){return this instanceof n?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new n).parser(e)}}]),n}(i);t.exports=f},{"./constants":36,"./packet":40,bl:17,debug:19,events:4}],42:[function(e,t,n){(function(n){(function(){var r=e("./constants"),i=n.allocUnsafe(0),s=n.from([0]),a=e("./numbers"),u=e("process-nextick-args").nextTick,l=e("debug")("mqtt-packet:writeToStream"),c=a.cache,h=a.generateNumber,f=a.generateCache,d=a.genBufVariableByteInt,p=a.generate4ByteBuffer,v=S,y=!0;function g(e,t,a){switch(l("generate called"),t.cork&&(t.cork(),u(m,t)),y&&(y=!1,f()),l("generate: packet.cmd: %s",e.cmd),e.cmd){case"connect":return function(e,t,i){var o=e||{},s=o.protocolId||"MQTT",a=o.protocolVersion||4,u=o.will,l=o.clean,c=o.keepalive||0,h=o.clientId||"",f=o.username,d=o.password,p=o.properties;void 0===l&&(l=!0);var y=0;if(!s||"string"!=typeof s&&!n.isBuffer(s))return t.emit("error",new Error("Invalid protocolId")),!1;if(y+=s.length+2,3!==a&&4!==a&&5!==a)return t.emit("error",new Error("Invalid protocol version")),!1;if(y+=1,("string"==typeof h||n.isBuffer(h))&&(h||a>=4)&&(h||l))y+=n.byteLength(h)+2;else{if(a<4)return t.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*l==0)return t.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof c||c<0||c>65535||c%1!=0)return t.emit("error",new Error("Invalid keepalive")),!1;if(y+=2,y+=1,5===a){var g=T(t,p);if(!g)return!1;y+=g.length}if(u){if("object"!=typeof u)return t.emit("error",new Error("Invalid will")),!1;if(!u.topic||"string"!=typeof u.topic)return t.emit("error",new Error("Invalid will topic")),!1;if(y+=n.byteLength(u.topic)+2,y+=2,u.payload){if(!(u.payload.length>=0))return t.emit("error",new Error("Invalid will payload")),!1;y+="string"==typeof u.payload?n.byteLength(u.payload):u.payload.length}var m={};if(5===a){if(!(m=T(t,u.properties)))return!1;y+=m.length}}var _=!1;if(null!=f){if(!R(f))return t.emit("error",new Error("Invalid username")),!1;_=!0,y+=n.byteLength(f)+2}if(null!=d){if(!_)return t.emit("error",new Error("Username is required to use password")),!1;if(!R(d))return t.emit("error",new Error("Invalid password")),!1;y+=I(d)+2}t.write(r.CONNECT_HEADER),b(t,y),C(t,s),o.bridgeMode&&(a+=128),t.write(131===a?r.VERSION131:132===a?r.VERSION132:4===a?r.VERSION4:5===a?r.VERSION5:r.VERSION3);var k=0;return k|=null!=f?r.USERNAME_MASK:0,k|=null!=d?r.PASSWORD_MASK:0,k|=u&&u.retain?r.WILL_RETAIN_MASK:0,k|=u&&u.qos?u.qos<<r.WILL_QOS_SHIFT:0,k|=u?r.WILL_FLAG_MASK:0,k|=l?r.CLEAN_SESSION_MASK:0,t.write(n.from([k])),v(t,c),5===a&&g.write(),C(t,h),u&&(5===a&&m.write(),w(t,u.topic),C(t,u.payload)),null!=f&&C(t,f),null!=d&&C(t,d),!0}(e,t);case"connack":return function(e,t,i){var o=i?i.protocolVersion:4,a=e||{},u=5===o?a.reasonCode:a.returnCode,l=a.properties,c=2;if("number"!=typeof u)return t.emit("error",new Error("Invalid return code")),!1;var h=null;if(5===o){if(!(h=T(t,l)))return!1;c+=h.length}return t.write(r.CONNACK_HEADER),b(t,c),t.write(a.sessionPresent?r.SESSIONPRESENT_HEADER:s),t.write(n.from([u])),null!=h&&h.write(),!0}(e,t,a);case"publish":return function(e,t,o){l("publish: packet: %o",e);var s=o?o.protocolVersion:4,a=e||{},u=a.qos||0,c=a.retain?r.RETAIN_MASK:0,h=a.topic,f=a.payload||i,d=a.messageId,p=a.properties,y=0;if("string"==typeof h)y+=n.byteLength(h)+2;else{if(!n.isBuffer(h))return t.emit("error",new Error("Invalid topic")),!1;y+=h.length+2}if(n.isBuffer(f)?y+=f.length:y+=n.byteLength(f),u&&"number"!=typeof d)return t.emit("error",new Error("Invalid messageId")),!1;u&&(y+=2);var g=null;if(5===s){if(!(g=T(t,p)))return!1;y+=g.length}return t.write(r.PUBLISH_HEADER[u][a.dup?1:0][c?1:0]),b(t,y),v(t,I(h)),t.write(h),u>0&&v(t,d),null!=g&&g.write(),l("publish: payload: %o",f),t.write(f)}(e,t,a);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(e,t,i){var o=i?i.protocolVersion:4,s=e||{},a=s.cmd||"puback",u=s.messageId,l=s.dup&&"pubrel"===a?r.DUP_MASK:0,c=0,h=s.reasonCode,f=s.properties,d=5===o?3:2;if("pubrel"===a&&(c=1),"number"!=typeof u)return t.emit("error",new Error("Invalid messageId")),!1;var p=null;if(5===o&&"object"==typeof f){if(!(p=x(t,f,i,d)))return!1;d+=p.length}return t.write(r.ACKS[a][c][l][0]),b(t,d),v(t,u),5===o&&t.write(n.from([h])),null!==p&&p.write(),!0}(e,t,a);case"subscribe":return function(e,t,i){l("subscribe: packet: ");var s=i?i.protocolVersion:4,a=e||{},u=a.dup?r.DUP_MASK:0,c=a.messageId,h=a.subscriptions,f=a.properties,d=0;if("number"!=typeof c)return t.emit("error",new Error("Invalid messageId")),!1;d+=2;var p=null;if(5===s){if(!(p=T(t,f)))return!1;d+=p.length}if("object"!=typeof h||!h.length)return t.emit("error",new Error("Invalid subscriptions")),!1;for(var y=0;y<h.length;y+=1){var g=h[y].topic,m=h[y].qos;if("string"!=typeof g)return t.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof m)return t.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===s){if("boolean"!=typeof(h[y].nl||!1))return t.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(h[y].rap||!1))return t.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;var _=h[y].rh||0;if("number"!=typeof _||_>2)return t.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}d+=n.byteLength(g)+2+1}l("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),t.write(r.SUBSCRIBE_HEADER[1][u?1:0][0]),b(t,d),v(t,c),null!==p&&p.write();var k,S=!0,E=o(h);try{for(E.s();!(k=E.n()).done;){var C=k.value,x=C.qos,A=+C.nl,O=+C.rap,I=C.rh,R=void 0;w(t,C.topic),R=r.SUBSCRIBE_OPTIONS_QOS[x],5===s&&(R|=A?r.SUBSCRIBE_OPTIONS_NL:0,R|=O?r.SUBSCRIBE_OPTIONS_RAP:0,R|=I?r.SUBSCRIBE_OPTIONS_RH[I]:0),S=t.write(n.from([R]))}}catch(P){E.e(P)}finally{E.f()}return S}(e,t,a);case"suback":return function(e,t,i){var o=i?i.protocolVersion:4,s=e||{},a=s.messageId,u=s.granted,l=s.properties,c=0;if("number"!=typeof a)return t.emit("error",new Error("Invalid messageId")),!1;if(c+=2,"object"!=typeof u||!u.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var h=0;h<u.length;h+=1){if("number"!=typeof u[h])return t.emit("error",new Error("Invalid qos vector")),!1;c+=1}var f=null;if(5===o){if(!(f=x(t,l,i,c)))return!1;c+=f.length}return t.write(r.SUBACK_HEADER),b(t,c),v(t,a),null!==f&&f.write(),t.write(n.from(u))}(e,t,a);case"unsubscribe":return function(e,t,i){var o=i?i.protocolVersion:4,s=e||{},a=s.messageId,u=s.dup?r.DUP_MASK:0,l=s.unsubscriptions,c=s.properties,h=0;if("number"!=typeof a)return t.emit("error",new Error("Invalid messageId")),!1;if(h+=2,"object"!=typeof l||!l.length)return t.emit("error",new Error("Invalid unsubscriptions")),!1;for(var f=0;f<l.length;f+=1){if("string"!=typeof l[f])return t.emit("error",new Error("Invalid unsubscriptions")),!1;h+=n.byteLength(l[f])+2}var d=null;if(5===o){if(!(d=T(t,c)))return!1;h+=d.length}t.write(r.UNSUBSCRIBE_HEADER[1][u?1:0][0]),b(t,h),v(t,a),null!==d&&d.write();for(var p=!0,y=0;y<l.length;y++)p=w(t,l[y]);return p}(e,t,a);case"unsuback":return function(e,t,i){var o=i?i.protocolVersion:4,s=e||{},a=s.messageId,u=s.dup?r.DUP_MASK:0,l=s.granted,c=s.properties,h=s.cmd,f=2;if("number"!=typeof a)return t.emit("error",new Error("Invalid messageId")),!1;if(5===o){if("object"!=typeof l||!l.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var d=0;d<l.length;d+=1){if("number"!=typeof l[d])return t.emit("error",new Error("Invalid qos vector")),!1;f+=1}}var p=null;if(5===o){if(!(p=x(t,c,i,f)))return!1;f+=p.length}return t.write(r.ACKS[h][0][u][0]),b(t,f),v(t,a),null!==p&&p.write(),5===o&&t.write(n.from(l)),!0}(e,t,a);case"pingreq":case"pingresp":return function(e,t,n){return t.write(r.EMPTY[e.cmd])}(e,t);case"disconnect":return function(e,t,i){var o=i?i.protocolVersion:4,s=e||{},a=s.reasonCode,u=5===o?1:0,l=null;if(5===o){if(!(l=x(t,s.properties,i,u)))return!1;u+=l.length}return t.write(n.from([r.codes.disconnect<<4])),b(t,u),5===o&&t.write(n.from([a])),null!==l&&l.write(),!0}(e,t,a);case"auth":return function(e,t,i){var o=i?i.protocolVersion:4,s=e||{},a=s.reasonCode,u=s.properties,l=5===o?1:0;5!==o&&t.emit("error",new Error("Invalid mqtt version for auth packet"));var c=x(t,u,i,l);return!!c&&(l+=c.length,t.write(n.from([r.codes.auth<<4])),b(t,l),t.write(n.from([a])),null!==c&&c.write(),!0)}(e,t,a);default:return t.emit("error",new Error("Unknown command")),!1}}function m(e){e.uncork()}Object.defineProperty(g,"cacheNumbers",{get:function(){return v===S},set:function(e){e?((!c||0===Object.keys(c).length)&&(y=!0),v=S):(y=!1,v=E)}});var _={};function b(e,t){if(t>r.VARBYTEINT_MAX)return e.emit("error",new Error("Invalid variable byte integer: ".concat(t))),!1;var n=_[t];return n||(n=d(t),t<16384&&(_[t]=n)),l("writeVarByteInt: writing to stream: %o",n),e.write(n)}function w(e,t){var r=n.byteLength(t);return v(e,r),l("writeString: %s",t),e.write(t,"utf8")}function k(e,t,n){w(e,t),w(e,n)}function S(e,t){return l("writeNumberCached: number: %d",t),l("writeNumberCached: %o",c[t]),e.write(c[t])}function E(e,t){var n=h(t);return l("writeNumberGenerated: %o",n),e.write(n)}function C(e,t){"string"==typeof t?w(e,t):t?(v(e,t.length),e.write(t)):v(e,0)}function T(e,t){if("object"!=typeof t||null!=t.length)return{length:1,write:function(){O(e,{},0)}};var i=0;function o(t,i){var o=0;switch(r.propertiesTypes[t]){case"byte":if("boolean"!=typeof i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=2;break;case"int8":if("number"!=typeof i||i<0||i>255)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=2;break;case"binary":if(i&&null===i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=1+n.byteLength(i)+2;break;case"int16":if("number"!=typeof i||i<0||i>65535)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=3;break;case"int32":if("number"!=typeof i||i<0||i>4294967295)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=5;break;case"var":if("number"!=typeof i||i<0||i>268435455)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=1+n.byteLength(d(i));break;case"string":if("string"!=typeof i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=3+n.byteLength(i.toString());break;case"pair":if("object"!=typeof i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=Object.getOwnPropertyNames(i).reduce(function(e,t){var r=i[t];return Array.isArray(r)?e+=r.reduce(function(e,r){return e+(3+n.byteLength(t.toString())+2+n.byteLength(r.toString()))},0):e+=3+n.byteLength(t.toString())+2+n.byteLength(i[t].toString()),e},0);break;default:return e.emit("error",new Error("Invalid property ".concat(t,": ").concat(i))),!1}return o}if(t)for(var s in t){var a=0,u=0,l=t[s];if(Array.isArray(l))for(var c=0;c<l.length;c++){if(!(u=o(s,l[c])))return!1;a+=u}else{if(!(u=o(s,l)))return!1;a=u}if(!a)return!1;i+=a}return{length:n.byteLength(d(i))+i,write:function(){O(e,t,i)}}}function x(e,t,n,r){var i=["reasonString","userProperties"],o=n&&n.properties&&n.properties.maximumPacketSize?n.properties.maximumPacketSize:0,s=T(e,t);if(o)for(;r+s.length>o;){var a=i.shift();if(!a||!t[a])return!1;delete t[a],s=T(e,t)}return s}function A(e,t,i){switch(r.propertiesTypes[t]){case"byte":e.write(n.from([r.properties[t]])),e.write(n.from([+i]));break;case"int8":e.write(n.from([r.properties[t]])),e.write(n.from([i]));break;case"binary":e.write(n.from([r.properties[t]])),C(e,i);break;case"int16":e.write(n.from([r.properties[t]])),v(e,i);break;case"int32":e.write(n.from([r.properties[t]])),function(e,t){var n=p(t);l("write4ByteNumber: %o",n),e.write(n)}(e,i);break;case"var":e.write(n.from([r.properties[t]])),b(e,i);break;case"string":e.write(n.from([r.properties[t]])),w(e,i);break;case"pair":Object.getOwnPropertyNames(i).forEach(function(o){var s=i[o];Array.isArray(s)?s.forEach(function(i){e.write(n.from([r.properties[t]])),k(e,o.toString(),i.toString())}):(e.write(n.from([r.properties[t]])),k(e,o.toString(),s.toString()))});break;default:return e.emit("error",new Error("Invalid property ".concat(t," value: ").concat(i))),!1}}function O(e,t,n){for(var r in b(e,n),t)if(Object.prototype.hasOwnProperty.call(t,r)&&null!==t[r]){var i=t[r];if(Array.isArray(i))for(var o=0;o<i.length;o++)A(e,r,i[o]);else A(e,r,i)}}function I(e){return e?e instanceof n?e.length:n.byteLength(e):0}function R(e){return"string"==typeof e||e instanceof n}t.exports=g}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":36,"./numbers":39,buffer:3,debug:19,"process-nextick-args":45}],43:[function(e,t,n){var r=1e3,i=60*r,o=60*i,s=24*o;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=s?a(e,t,s,"day"):t>=o?a(e,t,o,"hour"):t>=i?a(e,t,i,"minute"):t>=r?a(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=s?Math.round(e/s)+"d":t>=o?Math.round(e/o)+"h":t>=i?Math.round(e/i)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],44:[function(e,t,n){var r=e("wrappy");function i(e){var t=function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function t(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)};return t.onceError=(e.name||"Function wrapped with `once`")+" shouldn't be called more than once",t.called=!1,t}t.exports=r(i),t.exports.strict=r(o),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},{wrappy:66}],45:[function(e,t,n){(function(e){(function(){"use strict";t.exports=void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?{nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:e}).call(this)}).call(this,e("_process"))},{_process:69}],46:[function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){function n(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(n,e),n}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i;if("string"==typeof t&&function(e,t,n){return e.substr(0,t.length)===t}(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))i="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var s=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+".".length>e.length)&&-1!==e.indexOf(".",n)}(e)?"property":"argument";i='The "'.concat(e,'" ').concat(s," ").concat(r," ").concat(o(t,"type"))}return i+". Received type ".concat(typeof n)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},{}],47:[function(e,t,n){(function(n){(function(){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=l;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(l,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var u=s[a];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":49,"./_stream_writable":51,_process:69,inherits:34}],48:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":50,inherits:34}],49:[function(e,t,n){(function(n,r){(function(){"use strict";var i;t.exports=C,C.ReadableState=E,e("events");var o,s=function(e,t){return e.listeners(t).length},a=e("./internal/streams/stream"),u=e("buffer").Buffer,l=r.Uint8Array||function(){},c=e("util");o=c&&c.debuglog?c.debuglog("stream"):function(){};var h,f,d,p=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,m=g.ERR_INVALID_ARG_TYPE,_=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(C,a);var k=v.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(t,n,r){i=i||e("./_stream_duplex"),"boolean"!=typeof r&&(r=n instanceof i),this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=y(this,t,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=e("string_decoder/").StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function C(t){if(i=i||e("./_stream_duplex"),!(this instanceof C))return new C(t);this._readableState=new E(t,this,this instanceof i),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function T(e,t,n,r,i){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}}(e,a);else if(i||(s=function(e,t){var n;return!function(e){return u.isBuffer(e)||e instanceof l}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(n=new m("chunk",["string","Buffer","Uint8Array"],t)),n}(a,t)),s)k(e,s);else if(a.objectMode||t&&t.length>0)if("string"!=typeof t&&!a.objectMode&&Object.getPrototypeOf(t)!==u.prototype&&(t=function(e){return u.from(e)}(t)),r)a.endEmitted?k(e,new w):x(e,a,t,!0);else if(a.ended)k(e,new _);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?x(e,a,t,!1):P(e,a)):x(e,a,t,!1)}else r||(a.reading=!1,P(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),P(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}}),C.prototype.destroy=v.destroy,C.prototype._undestroy=v.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),T(this,e,t,!1,n)},C.prototype.unshift=function(e){return T(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){h||(h=e("string_decoder/").StringDecoder);var n=new h(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function O(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(R,e))}function R(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function P(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(o("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){o("readable nexttick read 0"),e.read(0)}function j(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function V(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(U,t,e))}function U(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function B(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?V(this):I(this),null;if(0===(e=O(e,t))&&t.ended)return 0===t.length&&V(this),null;var r,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=O(n,t))),null===(r=e>0?F(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&V(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){k(this,new b("_read()"))},C.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===n.stdout||e===n.stderr?v:u;function u(){o("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",function t(n,s){o("onunpipe"),n===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",v),r.removeListener("data",h),c=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l())});var l=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",l);var c=!1;function h(t){o("ondata");var n=e.write(t);o("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==B(i.pipes,e))&&!c&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(t){o("onerror",t),v(),e.removeListener("error",f),0===s(e,"error")&&k(e,t)}function d(){e.removeListener("finish",p),v()}function p(){o("onfinish"),e.removeListener("close",d),v()}function v(){o("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",r),i.flowing||(o("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=B(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.addListener=C.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?I(this):i.reading||n.nextTick(L,this)),r},C.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(M,this),r},C.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.nextTick(M,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(j,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(o("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||!(n.objectMode||i&&i.length)||t.push(i)||(r=!0,e.pause())}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){o("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=e("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=F,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,n){return void 0===d&&(d=e("./internal/streams/from")),d(C,t,n)})}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":46,"./_stream_duplex":47,"./internal/streams/async_iterator":52,"./internal/streams/buffer_list":53,"./internal/streams/destroy":54,"./internal/streams/from":56,"./internal/streams/state":58,"./internal/streams/stream":59,_process:69,buffer:3,events:4,inherits:34,"string_decoder/":64,util:2}],50:[function(e,t,n){"use strict";t.exports=c;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,n){f(e,t,n)})}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e("inherits")(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new i("_transform()"))},c.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":46,"./_stream_duplex":47,inherits:34}],51:[function(e,t,n){(function(n,r){(function(){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;t.exports=C,C.WritableState=E;var s,a={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),l=e("buffer").Buffer,c=r.Uint8Array||function(){},h=e("./internal/streams/destroy"),f=e("./internal/streams/state").getHighWaterMark,d=e("../errors").codes,p=d.ERR_INVALID_ARG_TYPE,v=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,m=d.ERR_STREAM_DESTROYED,_=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,k=h.errorOrDestroy;function S(){}function E(t,r,s){o=o||e("./_stream_duplex"),"boolean"!=typeof s&&(s=r instanceof o),this.objectMode=!!(t=t||{}).objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(R,e,t),e._writableState.errorEmitted=!0,k(e,i)):(o(i),e._writableState.errorEmitted=!0,k(e,i),R(e,t))}(e,r,i,t,o);else{var s=O(r)||e.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&A(e,r),i?n.nextTick(x,e,r,s,o):x(e,r,s,o)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function C(t){var n=this instanceof(o=o||e("./_stream_duplex"));if(!n&&!s.call(C,this))return new C(t);this._writableState=new E(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function T(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function x(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),R(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),o=t.corkedRequestsFree;o.entry=n;for(var s=0,a=!0;n;)r[s]=n,n.isBuf||(a=!1),n=n.next,s+=1;r.allBuffers=a,T(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(T(e,t,!1,t.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function O(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final(function(n){t.pendingcb--,n&&k(e,n),t.prefinished=!0,e.emit("prefinish"),R(e,t)})}function R(e,t){var r=O(t);if(r&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}e("inherits")(C,u),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===C&&e&&e._writableState instanceof E}})):s=function(e){return e instanceof this},C.prototype.pipe=function(){k(this,new g)},C.prototype.write=function(e,t,r){var i=this._writableState,o=!1,s=!i.objectMode&&function(e){return l.isBuffer(e)||e instanceof c}(e);return s&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=S),i.ending?function(e,t){var r=new b;k(e,r),n.nextTick(t,r)}(this,r):(s||function(e,t,r,i){var o;return null===r?o=new _:"string"!=typeof r&&!t.objectMode&&(o=new p("chunk",["string","Buffer"],r)),!o||(k(e,o),n.nextTick(i,o),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=l.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,a,r,i,o);return u}(this,i,s,e,t,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&A(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new v("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}}),C.prototype.destroy=h.destroy,C.prototype._undestroy=h.undestroy,C.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":46,"./_stream_duplex":47,"./internal/streams/destroy":54,"./internal/streams/state":58,"./internal/streams/stream":59,_process:69,buffer:3,inherits:34,"util-deprecate":65}],52:[function(e,t,n){(function(n){(function(){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=e("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var n=e[f].read();null!==n&&(e[c]=null,e[s]=null,e[a]=null,t(d(n,!1)))}}function v(e){n.nextTick(p,e)}var y=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(t,r){n.nextTick(function(){e[u]?r(e[u]):t(d(void 0,!0))})});var r,i=this[c];if(i)r=new Promise(function(e,t){return function(n,r){e.then(function(){t[l]?n(d(void 0,!0)):t[h](n,r)},r)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[h])}return this[c]=r,r}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var e=this;return new Promise(function(t,n){e[f].destroy(null,function(e){e?n(e):t(d(void 0,!0))})})}),r),y);t.exports=function(e){var t,n=Object.create(g,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[f].read();r?(n[c]=null,n[s]=null,n[a]=null,e(d(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[c]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[c]=null,n[s]=null,n[a]=null,t(e)),void(n[u]=e)}var r=n[s];null!==r&&(n[c]=null,n[s]=null,n[a]=null,r(d(void 0,!0))),n[l]=!0}),e.on("readable",v.bind(null,n)),n}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":55,_process:69}],53:[function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=e("buffer").Buffer,a=e("util").inspect,u=a&&a.custom||"inspect";function l(e,t,n){s.prototype.copy.call(e,t,n)}t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,n){t&&o(e.prototype,t)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t=s.allocUnsafe(e>>>0),n=this.head,r=0;n;)l(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(r+=o===i.length?i:i.slice(0,e),0==(e-=o)){o===i.length?(++n,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()},{buffer:3,util:2}],54:[function(e,t,n){(function(e){(function(){"use strict";function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var s=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(r,s):(s._writableState.errorEmitted=!0,e.nextTick(n,s,t)):e.nextTick(n,s,t):o?(e.nextTick(r,s),o(t)):e.nextTick(r,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))},{_process:69}],55:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||c()},l=t._writableState&&t._writableState.finished,c=function(){a=!1,l=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!h?((!t._readableState||!t._readableState.ended)&&(e=new r),o.call(t,e)):a&&!l?((!t._writableState||!t._writableState.ended)&&(e=new r),o.call(t,e)):void 0},v=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",p),t.req?v():t.on("request",v)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",f),t.on("finish",c),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}},{"../../../errors":46}],56:[function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],57:[function(e,t,n){"use strict";var r,i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(t,n,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on("close",function(){a=!0}),void 0===r&&(r=e("./end-of-stream")),r(t,{readable:n,writable:i},function(e){if(e)return o(e);a=!0,o()});var u=!1;return function(e){if(!a&&!u){if(u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t))return t.abort();if("function"==typeof t.destroy)return t.destroy();o(e||new s("pipe"))}}}function l(e){e()}function c(e,t){return e.pipe(t)}function h(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var i,s=t.map(function(e,n){var o=n<t.length-1;return u(e,o,n>0,function(e){i||(i=e),e&&s.forEach(l),!o&&(s.forEach(l),r(i))})});return t.reduce(c)}},{"../../../errors":46,"./end-of-stream":55}],58:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},{"../../../errors":46}],59:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{dup:29,events:4}],60:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":47,"./lib/_stream_passthrough.js":48,"./lib/_stream_readable.js":49,"./lib/_stream_transform.js":50,"./lib/_stream_writable.js":51,"./lib/internal/streams/end-of-stream.js":55,"./lib/internal/streams/pipeline.js":57}],61:[function(e,t,n){"use strict";function r(e,t,n){var r=this;this._callback=e,this._args=n,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=r._interval),r._interval&&clearInterval(r._interval),r._interval=setInterval(r._callback,e,r._args)},this.clear=function(){r._interval&&(clearInterval(r._interval),r._interval=void 0)},this.destroy=function(){r._interval&&clearInterval(r._interval),r._callback=void 0,r._interval=void 0,r._args=void 0}}t.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new r(arguments[0],arguments[1],e)}},{}],62:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:3}],63:[function(e,t,n){t.exports=function(e){var t=e._readableState;return t?t.objectMode||"number"==typeof e._duplexState?e.read():e.read(function(e){return e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length}(t)):null}},{}],64:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32,"safe-buffer":62}],65:[function(e,t,n){(function(e){(function(){function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],66:[function(e,t,n){t.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}}},{}],67:[function(e,t,n){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],68:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},{}],69:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],h=!1,f=-1;function d(){!h||!l||(h=!1,l.length?c=l.concat(c):f=-1,c.length&&p())}function p(){if(!h){var e=u(d);h=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(n){return i.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new v(e,t)),1===c.length&&!h&&u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],70:[function(e,t,n){(function(e){(function(){!function(r){var i="object"==typeof n&&n&&!n.nodeType&&n,o="object"==typeof t&&t&&!t.nodeType&&t,s="object"==typeof e&&e;(s.global===s||s.window===s||s.self===s)&&(r=s);var a,u,l=2147483647,c=36,h=/^xn--/,f=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,y=String.fromCharCode;function g(e){throw new RangeError(p[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function _(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return m(e,function(e){var t="";return e>65535&&(t+=y((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+y(e)}).join("")}function k(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var r=0;for(e=n?v(e/700):e>>1,e+=v(e/t);e>455;r+=c)e=v(e/35);return v(r+36*e/(e+38))}function C(e){var t,n,r,i,o,s,a,u,h,f,d=[],p=e.length,y=0,m=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&g("not-basic"),d.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<p;){for(o=y,s=1,a=c;i>=p&&g("invalid-input"),((u=k(e.charCodeAt(i++)))>=c||u>v((l-y)/s))&&g("overflow"),y+=u*s,!(u<(h=a<=_?1:a>=_+26?26:a-_));a+=c)s>v(l/(f=c-h))&&g("overflow"),s*=f;_=E(y-o,t=d.length+1,0==o),v(y/t)>l-m&&g("overflow"),m+=v(y/t),y%=t,d.splice(y++,0,m)}return w(d)}function T(e){var t,n,r,i,o,s,a,u,h,f,d,p,m,_,w,k=[];for(p=(e=b(e)).length,t=128,n=0,o=72,s=0;s<p;++s)(d=e[s])<128&&k.push(y(d));for(r=i=k.length,i&&k.push("-");r<p;){for(a=l,s=0;s<p;++s)(d=e[s])>=t&&d<a&&(a=d);for(a-t>v((l-n)/(m=r+1))&&g("overflow"),n+=(a-t)*m,t=a,s=0;s<p;++s)if((d=e[s])<t&&++n>l&&g("overflow"),d==t){for(u=n,h=c;!(u<(f=h<=o?1:h>=o+26?26:h-o));h+=c)k.push(y(S(f+(w=u-f)%(_=c-f),0))),u=v(w/_);k.push(y(S(u,0))),o=E(n,m,r==i),n=0,++r}++n,++t}return k.join("")}if(a={version:"1.4.1",ucs2:{decode:b,encode:w},decode:C,encode:T,toASCII:function(e){return _(e,function(e){return f.test(e)?"xn--"+T(e):e})},toUnicode:function(e){return _(e,function(e){return h.test(e)?C(e.slice(4).toLowerCase()):e})}},i&&o)if(t.exports==i)o.exports=a;else for(u in a)a.hasOwnProperty(u)&&(i[u]=a[u]);else r.punycode=a}(this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],71:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t=t||"&");var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,f,d,p,v=e[c].replace(a,"%20"),y=v.indexOf(n);y>=0?(h=v.substr(0,y),f=v.substr(y+1)):(h=v,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],72:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),function(s){var a=encodeURIComponent(r(s))+n;return i(e[s])?o(e[s],function(e){return a+encodeURIComponent(r(e))}).join(t):a+encodeURIComponent(r(e[s]))}).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],73:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":71,"./encode":72}],74:[function(e,t,n){(function(t,r){(function(){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},u=0;function l(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return a[t]=!0,i(function(){a[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete a[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":69,timers:74}],75:[function(e,t,n){"use strict";var r=e("punycode"),i=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=_,n.resolve=function(e,t){return _(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?_(e,!1,!0).resolveObject(t):t},n.format=function(e){return i.isString(e)&&(e=_(e)),e instanceof o?e.format():o.prototype.format.call(e)},n.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=e("querystring");function _(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var _=e=l.join(a);if(_=_.trim(),!n&&1===e.split("#").length){var b=u.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=s.exec(_);if(w){var k=(w=w[0]).toLowerCase();this.protocol=k,_=_.substr(w.length)}if(n||w||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===_.substr(0,2);S&&(!w||!y[w])&&(_=_.substr(2),this.slashes=!0)}if(!y[w]&&(S||w&&!g[w])){for(var E=-1,C=0;C<f.length;C++)-1!==(A=_.indexOf(f[C]))&&(-1===E||A<E)&&(E=A);var T,x;for(-1!==(x=-1===E?_.lastIndexOf("@"):_.lastIndexOf("@",E))&&(T=_.slice(0,x),_=_.slice(x+1),this.auth=decodeURIComponent(T)),E=-1,C=0;C<h.length;C++){var A;-1!==(A=_.indexOf(h[C]))&&(-1===E||A<E)&&(E=A)}-1===E&&(E=_.length),this.host=_.slice(0,E),_=_.slice(E),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var I=this.hostname.split(/\./),R=(C=0,I.length);C<R;C++){var P=I[C];if(P&&!P.match(d)){for(var N="",M=0,L=P.length;M<L;M++)P.charCodeAt(M)>127?N+="x":N+=P[M];if(!N.match(d)){var j=I.slice(0,C),D=I.slice(C+1),F=P.match(p);F&&(j.push(F[1]),D.unshift(F[2])),D.length&&(_="/"+D.join(".")+_),this.hostname=j.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),O||(this.hostname=r.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[k])for(C=0,R=c.length;C<R;C++){var V=c[C];if(-1!==_.indexOf(V)){var U=encodeURIComponent(V);U===V&&(U=escape(V)),_=_.split(V).join(U)}}var B=_.indexOf("#");-1!==B&&(this.hash=_.substr(B),_=_.slice(0,B));var q=_.indexOf("?");return-1!==q?(this.search=_.substr(q),this.query=_.substr(q+1),t&&(this.query=m.parse(this.query)),_=_.slice(0,q)):t&&(this.search="",this.query={}),_&&(this.pathname=_),g[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(n[c]=e[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=m||v||n.host&&e.pathname,b=_,w=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===w[0])),m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return k&&(n.hostname=n.host=w.shift(),(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift())),n.search=e.search,n.query=e.query,(!i.isNull(n.pathname)||!i.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var S=w.slice(-1)[0],E=(n.host||e.host||w.length>1)&&("."===S||".."===S)||""===S,C=0,T=w.length;T>=0;T--)"."===(S=w[T])?w.splice(T,1):".."===S?(w.splice(T,1),C++):C&&(w.splice(T,1),C--);if(!_&&!b)for(;C--;C)w.unshift("..");_&&""!==w[0]&&(!w[0]||"/"!==w[0].charAt(0))&&w.unshift(""),E&&"/"!==w.join("/").substr(-1)&&w.push("");var x,A=""===w[0]||w[0]&&"/"===w[0].charAt(0);return k&&(n.hostname=n.host=A?"":w.length?w.shift():"",(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift())),(_=_||n.host&&w.length)&&!A&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),(!i.isNull(n.pathname)||!i.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":76,punycode:70,querystring:73}],76:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}]},{},[15])(15)},166:function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},3740:function(a,c,p){"use strict";function g(e){return"function"==typeof e}var m=!1,_={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=e},get useDeprecatedSynchronousErrorHandling(){return m}};function b(e){setTimeout(function(){throw e},0)}var w={closed:!0,next:function(e){},error:function(e){if(_.useDeprecatedSynchronousErrorHandling)throw e;b(e)},complete:function(){}},k=Array.isArray||function(e){return e&&"number"==typeof e.length};function S(e){return null!==e&&"object"==typeof e}var E,C=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),T=function(){function e(t){s(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return u(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(g(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){t=s instanceof C?x(s.errors):[s]}}if(k(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(S(l))try{l.unsubscribe()}catch(c){t=t||[],c instanceof C?t=t.concat(x(c.errors)):t.push(c)}}if(t)throw new C(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();function x(e){return e.reduce(function(e,t){return e.concat(t instanceof C?t.errors:t)},[])}T.EMPTY=((E=new T).closed=!0,E);var A="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),O=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;switch(s(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=w;break;case 1:if(!e){o.destination=w;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(d(o))):(o.syncErrorThrowable=!0,o.destination=new I(d(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new I(d(o),e,r,i)}return o}return u(n,[{key:A,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,i(v(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(T),I=function(e){l(n,e);var t=h(n);function n(e,r,i,o){var a;s(this,n),(a=t.call(this))._parentSubscriber=e;var u,l=d(a);return g(r)?u=r:r&&(u=r.next,i=r.error,o=r.complete,r!==w&&(g((l=Object.create(r)).unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(d(a)))),a._context=l,a._next=u,a._error=i,a._complete=o,a}return u(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;_.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=_.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):b(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;b(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};_.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),_.useDeprecatedSynchronousErrorHandling)throw n;b(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!_.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return _.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(b(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(O),R="function"==typeof Symbol&&Symbol.observable||"@@observable";function P(e){return e}var N=function(){var e=function(){function e(t){s(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return u(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof O)return e;if(e[A])return e[A]()}return e||t||n?new O(e,t,n):new O(w)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||_.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),_.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){_.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof O?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=M(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:R,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:function(e){return 0===e.length?P:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=M(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),e}();return e.create=function(t){return new e(t)},e}();function M(e){if(e||(e=_.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var L=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),j=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return u(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(T),D=function(e){l(n,e);var t=h(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).destination=e,r}return n}(O),F=function(){var e=function(e){l(n,e);var t=h(n);function n(){var e;return s(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return u(n,[{key:A,value:function(){return new D(this)}},{key:"lift",value:function(e){var t=new V(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new L;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new L;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new L;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new L;return i(v(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new L;return this.hasError?(e.error(this.thrownError),T.EMPTY):this.isStopped?(e.complete(),T.EMPTY):(this.observers.push(e),new j(this,e))}},{key:"asObservable",value:function(){var e=new N;return e.source=this,e}}]),n}(N);return e.create=function(e,t){return new V(e,t)},e}(),V=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).destination=e,i.source=r,i}return u(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):T.EMPTY}}]),n}(F);function U(e){return e&&"function"==typeof e.schedule}function B(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new q(e,t))}}var q=function(){function e(t,n){s(this,e),this.project=t,this.thisArg=n}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new H(e,this.project,this.thisArg))}}]),e}(),H=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||d(o),o}return u(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(O),W=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Q=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function K(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var G=function(e){if(e&&"function"==typeof e[R])return function(e){return function(t){var n=e[R]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}(e);if(Q(e))return W(e);if(K(e))return function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,b),t}}(e);if(e&&"function"==typeof e[z])return function(e){return function(t){for(var n=e[z]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}(e);var t="You provided ".concat(S(e)?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.");throw new TypeError(t)};function Z(e,t){return new N(function(n){var r=new T,i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function $(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[R]}(e))return function(e,t){return new N(function(n){var r=new T;return r.add(t.schedule(function(){var i=e[R]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if(K(e))return function(e,t){return new N(function(n){var r=new T;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if(Q(e))return Z(e,t);if(function(e){return e&&"function"==typeof e[z]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new N(function(n){var r,i=new T;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[z](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof N?e:new N(G(e))}var Y=function(e){l(n,e);var t=h(n);function n(e){var r;return s(this,n),(r=t.call(this)).parent=e,r}return u(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(O),J=function(e){l(n,e);var t=h(n);function n(){return s(this,n),t.apply(this,arguments)}return u(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(O);function X(e,t){if(!t.closed){if(e instanceof N)return e.subscribe(t);var n;try{n=G(e)(t)}catch(r){t.error(r)}return n}}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(ee(function(n,r){return $(e(n,r)).pipe(B(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new te(e,n))})}var te=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;s(this,e),this.project=t,this.concurrent=n}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new ne(e,this.project,this.concurrent))}}]),e}(),ne=function(e){l(n,e);var t=h(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return s(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return u(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new Y(this),n=this.destination;n.add(t);var r=X(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(J);function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return ee(P,e)}function ie(e,t){return t?Z(e,t):new N(W(e))}function oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return U(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof N?t[0]:re(r)(ie(t,i))}function se(){return function(e){return e.lift(new ae(e))}}var ae=function(){function e(t){s(this,e),this.connectable=t}return u(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new ue(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),ue=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).connectable=r,i}return u(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}else this.connection=null}}]),n}(O),le=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return u(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new T).add(this.source.subscribe(new he(this.getSubject(),this))),e.closed&&(this._connection=null,e=T.EMPTY)),e}},{key:"refCount",value:function(){return se()(this)}}]),n}(N),ce=function(){var e=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),he=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).connectable=r,i}return u(n,[{key:"_error",value:function(e){this._unsubscribe(),i(v(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),i(v(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(D);function fe(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new de(r,t));var i=Object.create(n,ce);return i.source=n,i.subjectFactory=r,i}}var de=function(){function e(t,n){s(this,e),this.subjectFactory=t,this.selector=n}return u(e,[{key:"call",value:function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}]),e}();function pe(){return new F}function ve(e){for(var t in e)if(e[t]===ve)return t;throw Error("Could not find renamed property on target object.")}function ye(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ge(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ge).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function me(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var _e=ve({__forward_ref__:ve});function be(e){return e.__forward_ref__=be,e.toString=function(){return ge(this())},e}function we(e){return ke(e)?e():e}function ke(e){return"function"==typeof e&&e.hasOwnProperty(_e)&&e.__forward_ref__===be}var Se=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,r))).code=e,i}return n}(n(Error));function Ee(e){return"string"==typeof e?e:null==e?"":String(e)}function Ce(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ee(e)}function Te(e,t){var n=t?" in ".concat(t):"";throw new Se("201","No provider for ".concat(Ce(e)," found").concat(n))}function xe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ae(e){return{providers:e.providers||[],imports:e.imports||[]}}function Oe(e){return Ie(e,Ne)||Ie(e,Le)}function Ie(e,t){return e.hasOwnProperty(t)?e[t]:null}function Re(e){return e&&(e.hasOwnProperty(Me)||e.hasOwnProperty(je))?e[Me]:null}var Pe,Ne=ve({"\u0275prov":ve}),Me=ve({"\u0275inj":ve}),Le=ve({ngInjectableDef:ve}),je=ve({ngInjectorDef:ve}),De=((De=De||{})[De.Default=0]="Default",De[De.Host=1]="Host",De[De.Self=2]="Self",De[De.SkipSelf=4]="SkipSelf",De[De.Optional=8]="Optional",De);function Fe(e){var t=Pe;return Pe=e,t}function Ve(e,t,n){var r=Oe(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&De.Optional?null:void 0!==t?t:void Te(ge(e),"Injector")}function Ue(e){return{toString:e}.toString()}var Be=((Be=Be||{})[Be.OnPush=0]="OnPush",Be[Be.Default=1]="Default",Be),qe=((qe=qe||{})[qe.Emulated=0]="Emulated",qe[qe.None=2]="None",qe[qe.ShadowDom=3]="ShadowDom",qe),He="undefined"!=typeof globalThis&&globalThis,We="undefined"!=typeof window&&window,ze="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qe=He||"undefined"!=typeof global&&global||We||ze,Ke={},Ge=[],Ze=ve({"\u0275cmp":ve}),$e=ve({"\u0275dir":ve}),Ye=ve({"\u0275pipe":ve}),Je=ve({"\u0275mod":ve}),Xe=ve({"\u0275loc":ve}),et=ve({"\u0275fac":ve}),tt=ve({__NG_ELEMENT_ID__:ve}),nt=0;function rt(e){return Ue(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Be.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Ge,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||qe.Emulated,id:"c",styles:e.styles||Ge,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=nt++,n.inputs=ut(e.inputs,t),n.outputs=ut(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(it)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ot)}:null,n})}function it(e){return ct(e)||function(e){return e[$e]||null}(e)}function ot(e){return function(e){return e[Ye]||null}(e)}var st={};function at(e){return Ue(function(){var t={type:e.type,bootstrap:e.bootstrap||Ge,declarations:e.declarations||Ge,imports:e.imports||Ge,exports:e.exports||Ge,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(st[e.id]=e.type),t})}function ut(e,t){if(null==e)return Ke;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var lt=rt;function ct(e){return e[Ze]||null}function ht(e,t){var n=e[Je]||null;if(!n&&!0===t)throw new Error("Type ".concat(ge(e)," does not have '\u0275mod' property."));return n}function ft(e){return Array.isArray(e)&&"object"==typeof e[1]}function dt(e){return Array.isArray(e)&&!0===e[1]}function pt(e){return 0!=(8&e.flags)}function vt(e){return 2==(2&e.flags)}function yt(e){return 1==(1&e.flags)}function gt(e){return null!==e.template}function mt(e){return 0!=(512&e[2])}function _t(e,t){return e.hasOwnProperty(et)?e[et]:null}var bt=function(){function e(t,n,r){s(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return u(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function wt(){return kt}function kt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Et),St}function St(){var e=xt(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Ke)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Et(e,t,n,r){var i=xt(e)||function(e,t){return e[Tt]=t}(e,{previous:Ke,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new bt(u&&u.currentValue,t,s===Ke),e[r]=t}wt.ngInherit=!0;var Ct,Tt="__ngSimpleChanges__";function xt(e){return e[Tt]||null}function At(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function Ot(e){return!!e.listen}var It={createRenderer:function(e,t){return At()}};function Rt(e){for(;Array.isArray(e);)e=e[0];return e}function Pt(e,t){return Rt(t[e])}function Nt(e,t){return Rt(t[e.index])}function Mt(e,t){return e.data[t]}function Lt(e,t){var n=t[e];return ft(n)?n:n[0]}function jt(e){return 4==(4&e[2])}function Dt(e){return 128==(128&e[2])}function Ft(e,t){return null==t?null:e[t]}function Vt(e){e[18]=0}function Ut(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Bt={lFrame:hn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return Bt.bindingsEnabled}function Ht(){return Bt.lFrame.lView}function Wt(){return Bt.lFrame.tView}function zt(e){return Bt.lFrame.contextLView=e,e[8]}function Qt(){for(var e=Kt();null!==e&&64===e.type;)e=e.parent;return e}function Kt(){return Bt.lFrame.currentTNode}function Gt(e,t){var n=Bt.lFrame;n.currentTNode=e,n.isParent=t}function Zt(){return Bt.lFrame.isParent}function $t(){Bt.lFrame.isParent=!1}function Yt(){return Bt.isInCheckNoChangesMode}function Jt(e){Bt.isInCheckNoChangesMode=e}function Xt(){var e=Bt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function en(){return Bt.lFrame.bindingIndex++}function tn(e){var t=Bt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function nn(e,t){var n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=e,rn(t)}function rn(e){Bt.lFrame.currentDirectiveIndex=e}function on(){return Bt.lFrame.currentQueryIndex}function sn(e){Bt.lFrame.currentQueryIndex=e}function an(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function un(e,t,n){if(n&De.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&De.Host||(r=an(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}var o=Bt.lFrame=cn();return o.currentTNode=t,o.lView=e,!0}function ln(e){var t=cn(),n=e[1];Bt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function cn(){var e=Bt.lFrame,t=null===e?null:e.child;return null===t?hn(e):t}function hn(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function fn(){var e=Bt.lFrame;return Bt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var dn=fn;function pn(){var e=fn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vn(){return Bt.lFrame.selectedIndex}function yn(e){Bt.lFrame.selectedIndex=e}function gn(){var e=Bt.lFrame;return Mt(e.tView,e.selectedIndex)}function mn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,s=i.ngAfterContentChecked,a=i.ngAfterViewInit,u=i.ngAfterViewChecked,l=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),a&&(e.viewHooks||(e.viewHooks=[])).push(-n,a),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=l&&(e.destroyHooks||(e.destroyHooks=[])).push(n,l)}}function _n(e,t,n){kn(e,t,3,n)}function bn(e,t,n,r){(3&e[2])===n&&kn(e,t,n,r)}function wn(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function kn(e,t,n,r){for(var i=null!=r?r:-1,o=t.length-1,s=0,a=void 0!==r?65535&e[18]:0;a<o;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=r&&s>=r)break}else t[a]<0&&(e[18]+=65536),(s<i||-1==i)&&(Sn(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Sn(e,t,n,r){var i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}var En=function e(t,n,r){s(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Cn(e,t,n){for(var r=Ot(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{var l=o,c=n[++i];xn(l)?r&&e.setProperty(t,l,c):r?e.setAttribute(t,l,c):t.setAttribute(l,c),i++}}return i}function Tn(e){return 3===e||4===e||6===e}function xn(e){return 64===e.charCodeAt(0)}function An(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||On(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function On(e,t,n,r,i){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function In(e){return-1!==e}function Rn(e){return 32767&e}function Pn(e,t){for(var n=function(e){return e>>16}(e),r=t;n>0;)r=r[15],n--;return r}var Nn=!0;function Mn(e){var t=Nn;return Nn=e,t}var Ln=0;function jn(e,t){var n=Fn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Dn(r.data,e),Dn(t,null),Dn(r.blueprint,null));var i=Vn(e,t),o=e.injectorIndex;if(In(i))for(var s=Rn(i),a=Pn(i,t),u=a[1].data,l=0;l<8;l++)t[o+l]=a[s+l]|u[s+l];return t[o+8]=i,o}function Dn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Fn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Vn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var o=i[1],s=o.type;if(null===(r=2===s?o.declTNode:1===s?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Un(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(tt)&&(r=n[tt]),null==r&&(r=n[tt]=Ln++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Bn(e,t,n){if(n&De.Optional)return e;Te(t,"NodeInjector")}function qn(e,t,n,r){if(n&De.Optional&&void 0===r&&(r=null),0==(n&(De.Self|De.Host))){var i=e[9],o=Fe(void 0);try{return i?i.get(t,r,n&De.Optional):Ve(t,r,n&De.Optional)}finally{Fe(o)}}return Bn(r,t,n)}function Hn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:De.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(tt)?e[tt]:void 0;return"number"==typeof t?t>=0?255&t:zn:t}(n);if("function"==typeof o){if(!un(t,e,r))return r&De.Host?Bn(i,n,r):qn(t,n,r,i);try{var s=o(r);if(null!=s||r&De.Optional)return s;Te(n)}finally{dn()}}else if("number"==typeof o){var a=null,u=Fn(e,t),l=-1,c=r&De.Host?t[16][6]:null;for((-1===u||r&De.SkipSelf)&&(-1!==(l=-1===u?Vn(e,t):t[u+8])&&$n(r,!1)?(a=t[1],u=Rn(l),t=Pn(l,t)):u=-1);-1!==u;){var h=t[1];if(Zn(o,u,h.data)){var f=Qn(u,t,n,a,r,c);if(f!==Wn)return f}-1!==(l=t[u+8])&&$n(r,t[1].data[u+8]===c)&&Zn(o,u,t)?(a=h,u=Rn(l),t=Pn(l,t)):u=-1}}}return qn(t,n,r,i)}var Wn={};function zn(){return new Yn(Qt(),Ht())}function Qn(e,t,n,r,i,o){var s=t[1],a=s.data[e+8],u=Kn(a,s,n,null==r?vt(a)&&Nn:r!=s&&0!=(3&a.type),i&De.Host&&o===a);return null!==u?Gn(t,s,u,a):Wn}function Kn(e,t,n,r,i){for(var o=e.providerIndexes,s=t.data,a=1048575&o,u=e.directiveStart,l=o>>20,c=i?a+l:e.directiveEnd,h=r?a:a+l;h<c;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=s[u];if(d&&gt(d)&&d.type===n)return u}return null}function Gn(e,t,n,r){var i=e[n],o=t.data;if(function(e){return e instanceof En}(i)){var s=i;s.resolving&&function(e,t){throw new Se("200","Circular dependency in DI detected for ".concat(e))}(Ce(o[n]));var a=Mn(s.canSeeViewProviders);s.resolving=!0;var u=s.injectImpl?Fe(s.injectImpl):null;un(e,r,De.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,s=r.ngDoCheck;if(i){var a=kt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,o[n],t)}finally{null!==u&&Fe(u),Mn(a),s.resolving=!1,dn()}}return i}function Zn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function $n(e,t){return!(e&De.Self||e&De.Host&&t)}var Yn=function(){function e(t,n){s(this,e),this._tNode=t,this._lView=n}return u(e,[{key:"get",value:function(e,t){return Hn(this._tNode,this._lView,e,void 0,t)}}]),e}();function Jn(e){return Ue(function(){for(var t=e.prototype.constructor,n=t[et]||Xn(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[et]||Xn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function Xn(e){return ke(e)?function(){var t=Xn(we(e));return t&&t()}:_t(e)}function er(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Tn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(Qt(),e)}var tr="__parameters__";function nr(e,t,n){return Ue(function(){var i=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof o)return i.apply(this,t),this;var s=r(o,t);return a.annotation=s,a;function a(e,t,n){for(var r=e.hasOwnProperty(tr)?e[tr]:Object.defineProperty(e,tr,{value:[]})[tr];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(s),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var rr=function(){function e(t,n){s(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=xe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return u(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),ir=new rr("AnalyzeForEntryComponents"),or=Function;function sr(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),sr(r,t)):t!==e&&t.push(r)}return t}function ar(e,t){e.forEach(function(e){return Array.isArray(e)?ar(e,t):t(e)})}function ur(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function lr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function cr(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function hr(e,t,n){var r=dr(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function fr(e,t){var n=dr(e,t);if(n>=0)return e[1|n]}function dr(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),s=e[o<<1];if(t===s)return o<<1;s>t?i=o:r=o+1}return~(i<<1)}(e,t)}var pr,vr={},yr="__NG_DI_FLAG__",gr="ngTempTokenPath",mr=/\n/gm,_r="__source",br=ve({provide:String,useValue:ve});function wr(e){var t=pr;return pr=e,t}function kr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default;if(void 0===pr)throw new Error("inject() must be called from an injection context");return null===pr?Ve(e,void 0,t):pr.get(e,t&De.Optional?null:void 0,t)}function Sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default;return(Pe||kr)(we(e),t)}function Er(e){for(var t=[],n=0;n<e.length;n++){var r=we(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=De.Default,s=0;s<r.length;s++){var a=r[s],u=Tr(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}t.push(Sr(i,o))}else t.push(Sr(r))}return t}function Cr(e,t){return e[yr]=t,e.prototype[yr]=t,e}function Tr(e){return e[yr]}function xr(e,t,n,r){var i=e[gr];throw t[_r]&&i.unshift(t[_r]),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=ge(t);if(Array.isArray(t))i=t.map(ge).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ge(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(mr,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[gr]=null,e}var Ar,Or,Ir=Cr(nr("Inject",function(e){return{token:e}}),-1),Rr=Cr(nr("Optional"),8),Pr=Cr(nr("SkipSelf"),4);function Nr(e){var t;return(null===(t=function(){if(void 0===Ar&&(Ar=null,Qe.trustedTypes))try{Ar=Qe.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(e){}return Ar}())||void 0===t?void 0:t.createHTML(e))||e}function Mr(e){var t;return(null===(t=function(){if(void 0===Or&&(Or=null,Qe.trustedTypes))try{Or=Qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(e){}return Or}())||void 0===t?void 0:t.createHTML(e))||e}var Lr=function(){function e(t){s(this,e),this.changingThisBreaksApplicationSecurity=t}return u(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}();function jr(e){return e instanceof Lr?e.changingThisBreaksApplicationSecurity:e}function Dr(e,t){var n=function(e){return e instanceof Lr&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}var Fr=function(){function e(t){s(this,e),this.inertDocumentHelper=t}return u(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(Nr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}]),e}(),Vr=function(){function e(t){if(s(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return u(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Nr(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=Nr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;("xmlns:ns1"===r||0===r.indexOf("ns1:"))&&e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Ur=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qr(e){return(e=String(e)).match(Ur)||e.match(Br)?e:"unsafe:"+e}function Hr(e){return(e=String(e)).split(",").map(function(e){return qr(e.trim())}).join(", ")}function Wr(e){var t,n={},r=o(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function zr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var a in s)s.hasOwnProperty(a)&&(e[a]=!0)}return e}var Qr,Kr=Wr("area,br,col,hr,img,wbr"),Gr=Wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zr=Wr("rp,rt"),$r=zr(Kr,zr(Gr,Wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zr(Zr,Wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zr(Zr,Gr)),Yr=Wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jr=Wr("srcset"),Xr=zr(Yr,Jr,Wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ei=Wr("script,style,template"),ti=function(){function e(){s(this,e),this.sanitizedSomething=!1,this.buf=[]}return u(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!$r.hasOwnProperty(t))return this.sanitizedSomething=!0,!ei.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,s=o.toLowerCase();if(Xr.hasOwnProperty(s)){var a=i.value;Yr[s]&&(a=qr(a)),Jr[s]&&(a=Hr(a)),this.buf.push(" ",o,'="',ii(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();$r.hasOwnProperty(t)&&!Kr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(ii(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),ni=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ri=/([^\#-~ |!])/g;function ii(e){return e.replace(/&/g,"&amp;").replace(ni,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ri,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function oi(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var si=((si=si||{})[si.NONE=0]="NONE",si[si.HTML=1]="HTML",si[si.STYLE=2]="STYLE",si[si.SCRIPT=3]="SCRIPT",si[si.URL=4]="URL",si[si.RESOURCE_URL=5]="RESOURCE_URL",si);function ai(e){var t=li();return t?Mr(t.sanitize(si.HTML,e)||""):Dr(e,"HTML")?Mr(jr(e)):function(e,t){var n=null;try{Qr=Qr||function(e){var t=new Vr(e);return function(){try{return!!(new window.DOMParser).parseFromString(Nr(""),"text/html")}catch(e){return!1}}()?new Fr(t):t}(e);var r=t?String(t):"";n=Qr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Qr.getInertBodyElement(r)}while(r!==o);return Nr((new ti).sanitizeChildren(oi(n)||n))}finally{if(n)for(var s=oi(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}(At(),Ee(e))}function ui(e){var t=li();return t?t.sanitize(si.URL,e)||"":Dr(e,"URL")?jr(e):qr(Ee(e))}function li(){var e=Ht();return e&&e[12]}var ci="__ngContext__";function hi(e,t){e[ci]=t}function fi(e){var t=function(e){return e[ci]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function di(e){return e.ngOriginalError}function pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var vi=function(){function e(){s(this,e),this._console=console}return u(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||pi}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(di(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=e&&di(e);t&&di(t);)t=di(t);return t||null}}]),e}(),yi=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qe);function gi(e){return e instanceof Function?e():e}var mi=((mi=mi||{})[mi.Important=1]="Important",mi[mi.DashCase=2]="DashCase",mi);function _i(e,t){return(void 0)(e,t)}function bi(e){var t=e[3];return dt(t)?t[3]:t}function wi(e){return Si(e[13])}function ki(e){return Si(e[4])}function Si(e){for(;null!==e&&!dt(e);)e=e[4];return e}function Ei(e,t,n,r,i){if(null!=r){var o,s=!1;dt(r)?o=r:ft(r)&&(s=!0,r=r[0]);var a=Rt(r);0===e&&null!==n?null==i?Pi(t,n,a):Ri(t,n,a,i||null,!0):1===e&&null!==n?Ri(t,n,a,i||null,!0):2===e?function(e,t,n){var r=Mi(e,t);r&&function(e,t,n,r){Ot(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Rt(n)&&Ei(t,e,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];qi(a[1],a,e,t,r,o)}}(t,e,o,n,i)}}function Ci(e,t,n){return Ot(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ti(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function xi(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Ti(i,r),t>0&&(e[n-1][4]=r[4]);var o=lr(e,10+t);!function(e,t){qi(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Ai(e,t){if(!(256&t[2])){var n=t[11];Ot(n)&&n.destroyNode&&qi(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Oi(e[1],e);for(;t;){var n=null;if(ft(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)ft(t)&&Oi(t[1],t),t=t[3];null===t&&(t=e),ft(t)&&Oi(t[1],t),n=t&&t[4]}t=n}}(t)}}function Oi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof En)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2){var a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var s=n[o+1],a="function"==typeof s?s(t):Rt(t[s]),u=r[i=n[o+2]],l=n[o+3];"boolean"==typeof l?a.removeEventListener(n[o],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{var c=r[i=n[o+1]];n[o].call(c)}if(null!==r){for(var h=i+1;h<r.length;h++)r[h]();t[7]=null}}(e,t),1===t[1].type&&Ot(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&dt(t[3])){n!==t[3]&&Ti(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function Ii(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===qe.None||i===qe.Emulated)return null}return Nt(r,n)}(e,t.parent,n)}function Ri(e,t,n,r,i){Ot(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Pi(e,t,n){Ot(e)?e.appendChild(t,n):t.appendChild(n)}function Ni(e,t,n,r,i){null!==r?Ri(e,t,n,r,i):Pi(e,t,n)}function Mi(e,t){return Ot(e)?e.parentNode(t):t.parentNode}function Li(e,t,n){return ji(e,t,n)}var ji=function(e,t,n){return 40&e.type?Nt(e,n):null};function Di(e,t,n,r){var i=Ii(e,r,t),o=t[11],s=Li(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var a=0;a<n.length;a++)Ni(o,i,n[a],s,!1);else Ni(o,i,n,s,!1)}function Fi(e,t){if(null!==t){var n=t.type;if(3&n)return Nt(t,e);if(4&n)return Ui(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return Fi(e,r);var i=e[t.index];return dt(i)?Ui(-1,i):Rt(i)}if(32&n)return _i(t,e)()||Rt(e[t.index]);var o=Vi(e,t);return null!==o?Array.isArray(o)?o[0]:Fi(bi(e[16]),o):Fi(e,t.next)}return null}function Vi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ui(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return Fi(r,i)}return t[7]}function Bi(e,t,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;if(s&&0===t&&(a&&hi(Rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Bi(e,t,n.child,r,i,o,!1),Ei(t,e,i,a,o);else if(32&u){for(var l=_i(n,r),c=void 0;c=l();)Ei(t,e,i,c,o);Ei(t,e,i,a,o)}else 16&u?Hi(e,t,r,n,i,o):Ei(t,e,i,a,o);n=s?n.projectionNext:n.next}}function qi(e,t,n,r,i,o){Bi(n,r,e.firstChild,t,i,o,!1)}function Hi(e,t,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)Ei(t,e,i,a[u],o);else Bi(e,t,a,s[3],i,o,!0)}function Wi(e,t,n){Ot(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function zi(e,t,n){Ot(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Qi(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Ki="ng-template";function Gi(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Qi((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Zi(e){return 4===e.type&&e.value!==Ki}function $i(e,t,n){return t===(4!==e.type||n?e.value:Ki)}function Yi(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Tn(e[t]))return t;return e.length}(i),s=!1,a=0;a<t.length;a++){var u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!$i(e,u,n)||""===u&&1===t.length){if(Ji(r))return!1;s=!0}}else{var l=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Gi(e.attrs,l,n)){if(Ji(r))return!1;s=!0}continue}var c=Xi(8&r?"class":u,i,Zi(e),n);if(-1===c){if(Ji(r))return!1;s=!0;continue}if(""!==l){var h;h=c>o?"":i[c+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Qi(f,l,0)||2&r&&l!==h){if(Ji(r))return!1;s=!0}}}}else{if(!s&&!Ji(r)&&!Ji(u))return!1;if(s&&Ji(u))continue;s=!1,r=u|1&r}}return Ji(r)||s}function Ji(e){return 0==(1&e)}function Xi(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++i];"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function eo(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Yi(e,t[r],n))return!0;return!1}function to(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function no(e,t){return e?":not("+t.trim()+")":t}function ro(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&r){var a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ji(s)&&(t+=no(o,i),i=""),r=s,o=o||!Ji(r);n++}return""!==i&&(t+=no(o,i)),t}var io={};function oo(e){so(Wt(),Ht(),vn()+e,Yt())}function so(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&_n(t,i,n)}else{var o=e.preOrderHooks;null!==o&&bn(t,o,0,n)}yn(n)}function ao(e,t){return e<<17|t<<2}function uo(e){return e>>17&32767}function lo(e){return 2|e}function co(e){return(131068&e)>>2}function ho(e,t){return-131069&e|t<<2}function fo(e){return 1|e}function po(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=e.data[o];sn(i),s.contentQueries(2,t[o],o)}}}function vo(e,t,n,r,i,o,s,a,u,l){var c=t.blueprint.slice();return c[0]=i,c[2]=140|r,Vt(c),c[3]=c[15]=e,c[8]=n,c[10]=s||e&&e[10],c[11]=a||e&&e[11],c[12]=u||e&&e[12]||null,c[9]=l||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function yo(e,t,n,r,i){var o=e.data[t];if(null===o)o=function(e,t,n,r,i){var o=Kt(),s=Zt(),a=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(e,t,n,r,i),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var s=function(){var e=Bt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Gt(o,!0),o}function go(e,t,n,r){if(0===n)return-1;for(var i=t.length,o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function mo(e,t,n){ln(t);try{var r=e.viewQuery;null!==r&&Go(1,r,n);var i=e.template;null!==i&&wo(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&po(e,t),e.staticViewQueries&&Go(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Ho(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,pn()}}function _o(e,t,n,r){var i=t[2];if(256!=(256&i)){ln(t);var o=Yt();try{Vt(t),function(e){Bt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&wo(e,t,n,2,r);var s=3==(3&i);if(!o)if(s){var a=e.preOrderCheckHooks;null!==a&&_n(t,a,null)}else{var u=e.preOrderHooks;null!==u&&bn(t,u,0,null),wn(t,0)}if(function(e){for(var t=wi(e);null!==t;t=ki(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Ut(o,1),i[2]|=1024}}(t),function(e){for(var t=wi(e);null!==t;t=ki(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];Dt(r)&&_o(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&po(e,t),!o)if(s){var l=e.contentCheckHooks;null!==l&&_n(t,l)}else{var c=e.contentHooks;null!==c&&bn(t,c,1),wn(t,1)}!function(e,t){var n=e.hostBindingOpCodes;if(null!==n)try{for(var r=0;r<n.length;r++){var i=n[r];if(i<0)yn(~i);else{var o=i,s=n[++r],a=n[++r];nn(s,o),a(2,t[o])}}}finally{yn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)Bo(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Go(2,f,r),!o)if(s){var d=e.viewCheckHooks;null!==d&&_n(t,d)}else{var p=e.viewHooks;null!==p&&bn(t,p,2),wn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ut(t[3],-1))}finally{pn()}}}function bo(e,t,n,r){var i=t[10],o=!Yt(),s=jt(t);try{o&&!s&&i.begin&&i.begin(),s&&mo(e,t,r),_o(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function wo(e,t,n,r,i){var o=vn(),s=2&r;try{yn(-1),s&&t.length>20&&so(e,t,20,Yt()),n(r,i)}finally{yn(o)}}function ko(e,t,n){if(pt(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function So(e,t,n){!qt()||(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||jn(n,t),hi(r,t);for(var s=n.initialInputs,a=i;a<o;a++){var u=e.data[a],l=gt(u);l&&Do(t,n,u);var c=Gn(t,e,a,n);hi(c,t),null!==s&&Fo(0,a-i,c,u,0,s),l&&(Lt(n.index,t)[8]=c)}}(e,t,n,Nt(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{yn(o);for(var a=r;a<i;a++){var u=e.data[a],l=t[a];rn(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Po(u,l)}}finally{yn(-1),rn(s)}}(e,t,n))}function Eo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nt,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}function Co(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=To(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function To(e,t,n,r,i,o,s,a,u,l){var c=20+r,h=c+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:io);return n}(c,h),d="function"==typeof l?l():l;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function xo(e,t,n,r){var i=$o(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Yo(e).push(r,i.length-1))}function Ao(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Oo(e,t,n,r,i,o,s,a){var u,l=Nt(t,n),c=t.inputs;!a&&null!=c&&(u=c[r])?(Xo(e,n,u,r,i),vt(t)&&function(e,t){var n=Lt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,Ot(o)?o.setProperty(l,r,i):xn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Io(e,t,n,r){var i=!1;if(qt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];eo(n,s.selectors,!1)&&(i||(i=[]),Un(jn(n,t),e,s.type),gt(s)?(No(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Lo(n,e.data.length,o.length);for(var a=0;a<o.length;a++){var u=o[a];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,h=go(e,t,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=An(n.mergedAttrs,d.hostAttrs),jo(e,n,t,h,d),Mo(h,d,s),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);var p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),l=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),h++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],s=null,a=null,u=t.directiveStart;u<n;u++){var l=r[u],c=l.inputs,h=null===i||Zi(t)?null:Vo(c,i);o.push(h),s=Ao(c,u,s),a=Ao(l.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n)}s&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Se("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,s)}return n.mergedAttrs=An(n.mergedAttrs,n.attrs),i}function Ro(e,t,n,r,i,o){var s=o.hostBindings;if(s){var a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function Po(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function No(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Mo(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;gt(t)&&(n[""]=e)}}function Lo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function jo(e,t,n,r,i){e.data[r]=i;var o=i.factory||(i.factory=_t(i.type)),s=new En(o,gt(i),null);e.blueprint[r]=s,n[r]=s,Ro(e,t,0,r,go(e,n,i.hostVars,io),i)}function Do(e,t,n){var r=Nt(t,e),i=Co(n),o=e[10],s=Wo(e,vo(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function Fo(e,t,n,r,i,o){var s=o[t];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var l=s[u++],c=s[u++],h=s[u++];null!==a?r.setInput(n,h,l,c):n[c]=h}}function Vo(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Uo(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Bo(e,t){var n=Lt(t,e);if(Dt(n)){var r=n[1];80&n[2]?_o(r,n,r.template,n[8]):n[5]>0&&qo(n)}}function qo(e){for(var t=wi(e);null!==t;t=ki(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];_o(i,r,i.template,r[8])}else r[5]>0&&qo(r)}var o=e[1].components;if(null!==o)for(var s=0;s<o.length;s++){var a=Lt(o[s],e);Dt(a)&&a[5]>0&&qo(a)}}function Ho(e,t){var n=Lt(t,e),r=n[1];(function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),mo(r,n,n[8])}function Wo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function zo(e){for(;e;){e[2]|=64;var t=bi(e);if(mt(e)&&!t)return e;e=t}return null}function Qo(e,t,n){var r=t[10];r.begin&&r.begin();try{_o(e,t,e.template,n)}catch(i){throw Jo(t,i),i}finally{r.end&&r.end()}}function Ko(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=fi(n),i=r[1];bo(i,r,i.template,n)}}(e[8])}function Go(e,t,n){sn(0),t(e,n)}var Zo=Promise.resolve(null);function $o(e){return e[7]||(e[7]=[])}function Yo(e){return e.cleanup||(e.cleanup=[])}function Jo(e,t){var n=e[9],r=n?n.get(vi,null):null;r&&r.handleError(t)}function Xo(e,t,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=t[s],l=e.data[s];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function es(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];"number"==typeof a?o=a:1==o?i=me(i,a):2==o&&(r=me(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var ts,ns=new rr("INJECTOR",-1),rs=function(){function e(){s(this,e)}return u(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;if(t===vr){var n=new Error("NullInjectorError: No provider for ".concat(ge(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),is=new rr("Set Injector scope."),os={},ss={};function as(){return void 0===ts&&(ts=new rs),ts}function us(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ls(e,n,t||as(),r)}var ls=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;s(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&ar(n,function(e){return i.processProvider(e,t,n)}),ar([t],function(e){return i.processInjectorType(e,[],a)}),this.records.set(ns,fs(void 0,this));var u=this.records.get(is);this.scope=null!=u?u.value:null,this.source=o||("object"==typeof t?null:ge(t))}return u(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De.Default;this.assertNotDestroyed();var r=wr(this),i=Fe(void 0);try{if(!(n&De.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=function(e){return"function"==typeof e||"object"==typeof e&&e instanceof rr}(e)&&Oe(e);o=s&&this.injectableDefInScope(s)?fs(cs(e),os):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&De.Self?as():this.parent).get(e,t=n&De.Optional&&t===vr?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[gr]=a[gr]||[]).unshift(ge(e)),r)throw a;return xr(a,e,"R3InjectorError",this.source)}throw a}finally{Fe(i),wr(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(ge(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=we(e)))return!1;var i=Re(e),o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=Re(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{ar(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var l=function(e){var t=u[e],n=t.ngModule,i=t.providers;ar(i,function(e){return r.processProvider(e,n,i||Ge)})},c=0;c<u.length;c++)l(c)}this.injectorDefTypes.add(s);var h=_t(s)||function(){return new s};this.records.set(s,fs(h,os));var f=i.providers;if(null!=f&&!a){var d=e;ar(f,function(e){return r.processProvider(e,d,f)})}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=ps(e=we(e))?e:we(e&&e.provide),i=function(e,t,n){return ds(e)?fs(void 0,e.useValue):fs(hs(e),os)}(e);if(ps(e)||!0!==e.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=fs(void 0,os,!0)).factory=function(){return Er(o.multi)},this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){return t.value===os&&(t.value=ss,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var t=we(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}]),e}();function cs(e){var t=Oe(e),n=null!==t?t.factory:_t(e);if(null!==n)return n;if(e instanceof rr)throw new Error("Token ".concat(ge(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=cr(t,"?");throw new Error("Can't resolve all parameters for ".concat(ge(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[Ne]||e[Le]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function hs(e,t,n){var i;if(ps(e)){var o=we(e);return _t(o)||cs(o)}if(ds(e))i=function(){return we(e.useValue)};else if(function(e){return!(!e||!e.useFactory)}(e))i=function(){return e.useFactory.apply(e,y(Er(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Sr(we(e.useExisting))};else{var s=we(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return _t(s)||cs(s);i=function(){return r(s,y(Er(e.deps)))}}return i}function fs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function ds(e){return null!==e&&"object"==typeof e&&br in e}function ps(e){return"function"==typeof e}var vs=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=us(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},ys=function(){var e=function(){function e(){s(this,e)}return u(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?vs(e,t,""):vs(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=vr,e.NULL=new rs,e.\u0275prov=xe({token:e,providedIn:"any",factory:function(){return Sr(ns)}}),e.__NG_ELEMENT_ID__=-1,e}();function gs(e,t){mn(fi(e)[1],Qt())}function ms(e){for(var t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0,r=[e];t;){var i=void 0;if(gt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=_s(e.inputs),o.declaredInputs=_s(e.declaredInputs),o.outputs=_s(e.outputs);var s=i.hostBindings;s&&ks(e,s);var a=i.viewQuery,u=i.contentQueries;if(a&&bs(e,a),u&&ws(e,u),ye(e.inputs,i.inputs),ye(e.declaredInputs,i.declaredInputs),ye(e.outputs,i.outputs),gt(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var h=0;h<c.length;h++){var f=c[h];f&&f.ngInherit&&f(e),f===ms&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=An(i.hostAttrs,n=An(n,i.hostAttrs))}}(r)}function _s(e){return e===Ke?{}:e===Ge?[]:e}function bs(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function ws(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function ks(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Ss=null;function Es(){if(!Ss){var e=Qe.Symbol;if(e&&e.iterator)Ss=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ss=r)}}return Ss}function Cs(e){return!!Ts(e)&&(Array.isArray(e)||!(e instanceof Map)&&Es()in e)}function Ts(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xs(e,t,n){return e[t]=n}function As(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Os(e,t,n,r){var i=As(e,t,n);return As(e,t+1,r)||i}function Is(e,t,n,r){var i=Ht();return As(i,en(),t)&&(Wt(),function(e,t,n,r,i,o){var s=Nt(e,t);!function(e,t,n,r,i,o,s){if(null==o)Ot(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var a=null==s?Ee(o):s(o,r||"",i);Ot(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],s,o,e.value,n,r,i)}(gn(),i,e,t,n,r)),Is}function Rs(e,t,n,r,i,o,s,a){var u=Ht(),l=Wt(),c=e+20,h=l.firstCreatePass?function(e,t,n,r,i,o,s,a,u){var l=t.consts,c=yo(t,e,4,s||null,Ft(l,a));Io(t,n,c,Ft(l,u)),mn(t,c);var h=c.tViews=To(2,c,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,l,u,t,n,r,i,o,s):l.data[c];Gt(h,!1);var f=u[11].createComment("");Di(l,u,f,h),hi(f,u),Wo(u,u[c]=Uo(f,u,f,h)),yt(h)&&So(l,u,h),null!=s&&Eo(u,h,a)}function Ps(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default,n=Ht();return null===n?Sr(e,t):Hn(Qt(),n,we(e),t)}function Ns(e,t,n){var r=Ht();return As(r,en(),t)&&Oo(Wt(),gn(),r,e,t,r[11],n,!1),Ns}function Ms(e,t,n,r,i){var o=i?"class":"style";Xo(e,n,t.inputs[o],o,r)}function Ls(e,t,n,r){var i=Ht(),o=Wt(),s=20+e,a=i[11],u=i[s]=Ci(a,t,Bt.lFrame.currentNamespace),l=o.firstCreatePass?function(e,t,n,r,i,o,s){var a=t.consts,u=yo(t,e,2,i,Ft(a,o));return Io(t,n,u,Ft(a,s)),null!==u.attrs&&es(u,u.attrs,!1),null!==u.mergedAttrs&&es(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,0,t,n,r):o.data[s];Gt(l,!0);var c=l.mergedAttrs;null!==c&&Cn(a,u,c);var h=l.classes;null!==h&&zi(a,u,h);var f=l.styles;null!==f&&Wi(a,u,f),64!=(64&l.flags)&&Di(o,i,u,l),0===Bt.lFrame.elementDepthCount&&hi(u,i),Bt.lFrame.elementDepthCount++,yt(l)&&(So(o,i,l),ko(o,l,i)),null!==r&&Eo(i,l)}function js(){var e=Qt();Zt()?$t():Gt(e=e.parent,!1);var t=e;Bt.lFrame.elementDepthCount--;var n=Wt();n.firstCreatePass&&(mn(n,e),pt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ms(n,t,Ht(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ms(n,t,Ht(),t.stylesWithoutHost,!1)}function Ds(e,t,n,r){Ls(e,t,n,r),js()}function Fs(e,t,n){var r=Ht(),i=Wt(),o=e+20,s=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,s=Ft(o,r),a=yo(t,e,8,"ng-container",s);return null!==s&&es(a,s,!0),Io(t,n,a,Ft(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];Gt(s,!0);var a=r[o]=r[11].createComment("");Di(i,r,a,s),hi(a,r),yt(s)&&(So(i,r,s),ko(i,s,r)),null!=n&&Eo(r,s)}function Vs(){var e=Qt(),t=Wt();Zt()?$t():Gt(e=e.parent,!1),t.firstCreatePass&&(mn(t,e),pt(e)&&t.queries.elementEnd(e))}function Us(e,t,n){Fs(e,t,n),Vs()}function Bs(){return Ht()}function qs(e){return!!e&&"function"==typeof e.then}var Hs=function(e){return!!e&&"function"==typeof e.subscribe};function Ws(e,t,n,r){var i=Ht(),o=Wt(),s=Qt();return function(e,t,n,r,i,o,s,a){var u=yt(r),l=e.firstCreatePass&&Yo(e),c=t[8],h=$o(t),f=!0;if(3&r.type||a){var d=Nt(r,t),p=a?a(d):d,v=h.length,y=a?function(e){return a(Rt(e[r.index]))}:r.index;if(Ot(n)){var g=null;if(!a&&u&&(g=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=t[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1;else{o=Qs(r,t,c,o,!1);var m=n.listen(p,i,o);h.push(o,m),l&&l.push(i,y,v,v+1)}}else o=Qs(r,t,c,o,!0),p.addEventListener(i,o,s),h.push(o),l&&l.push(i,y,v,s)}else o=Qs(r,t,c,o,!1);var _,b=r.outputs;if(f&&null!==b&&(_=b[i])){var w=_.length;if(w)for(var k=0;k<w;k+=2){var S=t[_[k]][_[k+1]].subscribe(o),E=h.length;h.push(o,S),l&&l.push(i,r.index,E,-(E+1))}}}(o,i,i[11],s,e,t,!!n,r),Ws}function zs(e,t,n,r){try{return!1!==n(r)}catch(i){return Jo(e,i),!1}}function Qs(e,t,n,r,i){return function n(o){if(o===Function)return r;var s=2&e.flags?Lt(e.index,t):t;0==(32&t[2])&&zo(s);for(var a=zs(t,0,r,o),u=n.__ngNextListenerFn__;u;)a=zs(t,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Bt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Bt.lFrame.contextLView))[8]}(e)}function Gs(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?eo(e,o,!0):to(r,o))return i}else n=i}return n}function Zs(e){var t=Ht()[16][6];if(!t.projection)for(var n=t.projection=cr(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?Gs(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function $s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Ht(),i=Wt(),o=yo(i,20+e,16,null,n||null);null===o.projection&&(o.projection=t),$t(),64!=(64&o.flags)&&function(e,t,n){Hi(t[11],0,t,n,Ii(e,n,t),Li(n.parent||t[6],n,t))}(i,r,o)}function Ys(e,t,n,r,i){for(var o=e[n+1],s=null===t,a=r?uo(o):co(o),u=!1;0!==a&&(!1===u||s);){var l=e[a+1];Js(e[a],t)&&(u=!0,e[a+1]=r?fo(l):lo(l)),a=r?uo(l):co(l)}u&&(e[n+1]=r?lo(o):fo(o))}function Js(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&dr(e,t)>=0}var Xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ea(e){return e.substring(Xs.key,Xs.keyEnd)}function ta(e,t){var n=Xs.textEnd;return n===t?-1:(t=Xs.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Xs.key=t,n),na(e,t,n))}function na(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ra(e,t,n){return aa(e,t,n,!1),ra}function ia(e,t){return aa(e,t,null,!0),ia}function oa(e){!function(e,t,n,r){var i=Wt(),o=tn(2);i.firstUpdatePass&&la(i,null,o,r);var s=Ht();if(n!==io&&As(s,o,n)){var a=i.data[vn()];if(va(a,r)&&!ua(i,o)){var u=a.classesWithoutHost;null!==u&&(n=me(u,n||"")),Ms(i,a,s,n,r)}else!function(e,t,n,r,i,o,s,a){i===io&&(i=Ge);for(var u=0,l=0,c=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==c||null!==h;){var f=u<i.length?i[u+1]:void 0,d=l<o.length?o[l+1]:void 0,p=void 0,v=null;c===h?(u+=2,l+=2,f!==d&&(v=h,p=d)):null===h||null!==c&&c<h?(u+=2,v=c):(l+=2,v=h,p=d),null!==v&&fa(e,t,n,r,v,p,true,a),c=u<i.length?i[u]:null,h=l<o.length?o[l]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return Ge;var r=[],i=jr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,o)}}(hr,sa,e,!0)}function sa(e,t){for(var n=function(e){return function(e){Xs.key=0,Xs.keyEnd=0,Xs.value=0,Xs.valueEnd=0,Xs.textEnd=e.length}(e),ta(e,na(e,0,Xs.textEnd))}(t);n>=0;n=ta(t,n))hr(e,ea(t),!0)}function aa(e,t,n,r){var i=Ht(),o=Wt(),s=tn(2);o.firstUpdatePass&&la(o,e,s,r),t!==io&&As(i,s,t)&&fa(o,o.data[vn()],i,i[11],e,i[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ge(jr(e)))),e}(t,n),r,s)}function ua(e,t){return t>=e.expandoStartIndex}function la(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[vn()],s=ua(e,n);va(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=Bt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=ha(n=ca(null,e,t,n,r),t.attrs,r),o=null);else{var s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=ca(i,e,t,n,r),null===o){var a=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==co(r))return e[uo(r)]}(e,t,r);void 0!==a&&Array.isArray(a)&&function(e,t,n,r){e[uo(n?t.classBindings:t.styleBindings)]=r}(e,t,r,a=ha(a=ca(null,e,t,a[1],r),t.attrs,r))}else o=function(e,t,n){for(var r,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=ha(r,e[o].hostAttrs,n);return ha(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var s=o?t.classBindings:t.styleBindings,a=uo(s),u=co(s);e[r]=n;var l,c=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||dr(h,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){var f=uo(e[a+1]);e[r+1]=ao(f,a),0!==f&&(e[f+1]=ho(e[f+1],r)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=ao(a,0),0!==a&&(e[a+1]=ho(e[a+1],r)),a=r;else e[r+1]=ao(u,0),0===a?a=r:e[u+1]=ho(e[u+1],r),u=r;c&&(e[r+1]=lo(e[r+1])),Ys(e,l,r,!0),Ys(e,l,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&dr(o,t)>=0&&(n[r+1]=fo(n[r+1]))}(t,l,e,r,o),s=ao(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function ca(e,t,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=ha(r,(o=t[a]).hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function ha(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),hr(e,s,!!n||t[++o]))}return void 0===e?null:e}function fa(e,t,n,r,i,o,s,a){if(3&t.type){var u=e.data,l=u[a+1];pa(function(e){return 1==(1&e)}(l)?da(u,t,n,i,co(l),s):void 0)||(pa(o)||function(e){return 2==(2&e)}(l)&&(o=da(u,null,n,i,a,s)),function(e,t,n,r,i){var o=Ot(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var s=-1===r.indexOf("-")?void 0:mi.DashCase;if(null==i)o?e.removeStyle(n,r,s):n.style.removeProperty(r);else{var a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=mi.Important),o?e.setStyle(n,r,i,s):n.style.setProperty(r,i,a?"important":"")}}}(r,s,Pt(vn(),n),i,o))}}function da(e,t,n,r,i,o){for(var s,a=null===t;i>0;){var u=e[i],l=Array.isArray(u),c=l?u[1]:u,h=null===c,f=n[i+1];f===io&&(f=h?Ge:void 0);var d=h?fr(f,r):c===r?f:void 0;if(l&&!pa(d)&&(d=fr(u,r)),pa(d)&&(s=d,a))return s;var p=e[i+1];i=a?uo(p):co(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=fr(v,r))}return s}function pa(e){return void 0!==e}function va(e,t){return 0!=(e.flags&(t?16:32))}function ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Ht(),r=Wt(),i=e+20,o=r.firstCreatePass?yo(r,i,1,t,null):r.data[i],s=n[i]=function(e,t){return Ot(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Di(r,n,s,o),Gt(o,!1)}function ga(e){return ma("",e,""),ga}function ma(e,t,n){var r=Ht(),i=function(e,t,n,r){return As(e,en(),n)?t+Ee(n)+r:io}(r,e,t,n);return i!==io&&function(e,t,n){var r=Pt(t,e);!function(e,t,n){Ot(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,vn(),i),ma}function _a(e,t,n){var r=Ht();return As(r,en(),t)&&Oo(Wt(),gn(),r,e,t,r[11],n,!0),_a}var ba=void 0,wa=["en",[["a","p"],["AM","PM"],ba],[["AM","PM"],ba,ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ba,"{1} 'at' {0}",ba],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ka={};function Sa(e){return e in ka||(ka[e]=Qe.ng&&Qe.ng.common&&Qe.ng.common.locales&&Qe.ng.common.locales[e]),ka[e]}var Ea=((Ea=Ea||{})[Ea.LocaleId=0]="LocaleId",Ea[Ea.DayPeriodsFormat=1]="DayPeriodsFormat",Ea[Ea.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ea[Ea.DaysFormat=3]="DaysFormat",Ea[Ea.DaysStandalone=4]="DaysStandalone",Ea[Ea.MonthsFormat=5]="MonthsFormat",Ea[Ea.MonthsStandalone=6]="MonthsStandalone",Ea[Ea.Eras=7]="Eras",Ea[Ea.FirstDayOfWeek=8]="FirstDayOfWeek",Ea[Ea.WeekendRange=9]="WeekendRange",Ea[Ea.DateFormat=10]="DateFormat",Ea[Ea.TimeFormat=11]="TimeFormat",Ea[Ea.DateTimeFormat=12]="DateTimeFormat",Ea[Ea.NumberSymbols=13]="NumberSymbols",Ea[Ea.NumberFormats=14]="NumberFormats",Ea[Ea.CurrencyCode=15]="CurrencyCode",Ea[Ea.CurrencySymbol=16]="CurrencySymbol",Ea[Ea.CurrencyName=17]="CurrencyName",Ea[Ea.Currencies=18]="Currencies",Ea[Ea.Directionality=19]="Directionality",Ea[Ea.PluralCase=20]="PluralCase",Ea[Ea.ExtraData=21]="ExtraData",Ea),Ca="en-US";function Ta(e){(function(e,t){null==e&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(t,e)})(e,"Expected localeId to be defined"),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function xa(e,t,n,r,i){if(e=we(e),Array.isArray(e))for(var o=0;o<e.length;o++)xa(e[o],t,n,r,i);else{var s=Wt(),a=Ht(),u=ps(e)?e:we(e.provide),l=hs(e),c=Qt(),h=1048575&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>20;if(ps(e)||!e.multi){var p=new En(l,i,Ps),v=Ia(u,t,i?h:h+d,f);-1===v?(Un(jn(c,a),s,u),Aa(s,e,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var y=Ia(u,t,h+d,f),g=Ia(u,t,h,h+d),m=y>=0&&n[y],_=g>=0&&n[g];if(i&&!_||!i&&!m){Un(jn(c,a),s,u);var b=function(e,t,n,r,i){var o=new En(e,n,Ps);return o.multi=[],o.index=t,o.componentProviders=0,Oa(o,i,r&&!n),o}(i?Pa:Ra,n.length,i,r,l);!i&&_&&(n[g].providerFactory=b),Aa(s,e,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(b),a.push(b)}else Aa(s,e,y>-1?y:g,Oa(n[i?g:y],l,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function Aa(e,t,n,r){var i=ps(t);if(i||function(e){return!!e.useClass}(t)){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function Oa(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ia(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Ra(e,t,n,r){return Na(this.multi,[])}function Pa(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=Gn(n,n[1],this.providerFactory.index,r);Na(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else Na(o,i=[]);return i}function Na(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=Wt();if(r.firstCreatePass){var i=gt(e);xa(n,r.data,r.blueprint,i,!0),xa(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}var La=function e(){s(this,e)},ja=function(){function e(){s(this,e)}return u(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(ge(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Da=function(){var e=function e(){s(this,e)};return e.NULL=new ja,e}();function Fa(){}function Va(e,t){return new Ba(Nt(e,t))}var Ua=function(){return Va(Qt(),Ht())},Ba=function(){var e=function e(t){s(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=Ua,e}();function qa(e){return e instanceof Ba?e.nativeElement:e}var Ha=function e(){s(this,e)},Wa=function(){var e=function e(){s(this,e)};return e.__NG_ELEMENT_ID__=function(){return za()},e}(),za=function(){var e=Ht(),t=Lt(Qt().index,e);return function(e){return e[11]}(ft(t)?t:e)},Qa=function(){var e=function e(){s(this,e)};return e.\u0275prov=xe({token:e,providedIn:"root",factory:function(){return null}}),e}(),Ka=new function e(t){s(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("12.2.12"),Ga=function(){function e(){s(this,e)}return u(e,[{key:"supports",value:function(e){return Cs(e)}},{key:"create",value:function(e){return new $a(e)}}]),e}(),Za=function(e,t){return t},$a=function(){function e(t){s(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Za}return u(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<eu(n,r,i)?t:n,s=eu(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,l=a-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Cs(e))throw new Error("Error trying to diff '".concat(ge(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)r=e[a],i=this._trackByFn(a,r),null!==o&&Object.is(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Es()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(s&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Ya(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Xa),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Ya=function e(t,n){s(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ja=function(){function e(){s(this,e),this._head=null,this._tail=null}return u(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Xa=function(){function e(){s(this,e),this.map=new Map}return u(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Ja,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function eu(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var tu=function(){function e(){s(this,e)}return u(e,[{key:"supports",value:function(e){return e instanceof Map||Ts(e)}},{key:"create",value:function(){return new nu}}]),e}(),nu=function(){function e(){s(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return u(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ts(e)))throw new Error("Error trying to diff '".concat(ge(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ru(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),ru=function e(t){s(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function iu(){return new ou([new Ga])}var ou=function(){var e=function(){function e(t){s(this,e),this.factories=t}return u(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(null!=t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||iu())},deps:[[e,new Pr,new Rr]]}}}]),e}();return e.\u0275prov=xe({token:e,providedIn:"root",factory:iu}),e}();function su(){return new au([new tu])}var au=function(){var e=function(){function e(t){s(this,e),this.factories=t}return u(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||su())},deps:[[e,new Pr,new Rr]]}}}]),e}();return e.\u0275prov=xe({token:e,providedIn:"root",factory:su}),e}();function uu(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=t[n.index];if(null!==o&&r.push(Rt(o)),dt(o))for(var s=10;s<o.length;s++){var a=o[s],u=a[1].firstChild;null!==u&&uu(a[1],a,u,r)}var l=n.type;if(8&l)uu(e,t,n.child,r);else if(32&l)for(var c=_i(n,t),h=void 0;h=c();)r.push(h);else if(16&l){var f=Vi(t,n);if(Array.isArray(f))r.push.apply(r,y(f));else{var d=bi(t[16]);uu(d[1],d,f,r,!0)}}n=i?n.projectionNext:n.next}return r}var lu=function(){function e(t,n){s(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return u(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return uu(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(dt(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(xi(e,n),lr(t,n))}this._attachedToViewContainer=!1}Ai(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){xo(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){zo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Qo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Jt(!0);try{Qo(e,t,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function(e,t){qi(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),cu=function(e){l(n,e);var t=h(n);function n(e){var r;return s(this,n),(r=t.call(this,e))._view=e,r}return u(n,[{key:"detectChanges",value:function(){Ko(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Jt(!0);try{Ko(e)}finally{Jt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(lu),hu=function(e){return function(e,t,n){if(vt(e)&&!n){var r=Lt(e.index,t);return new lu(r,r)}return 47&e.type?new lu(t[16],t):null}(Qt(),Ht(),16==(16&e))},fu=function(){var e=function e(){s(this,e)};return e.__NG_ELEMENT_ID__=hu,e}(),du=[new tu],pu=new ou([new Ga]),vu=new au(du),yu=function(){return _u(Qt(),Ht())},gu=function(){var e=function e(){s(this,e)};return e.__NG_ELEMENT_ID__=yu,e}(),mu=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this))._declarationLView=e,o._declarationTContainer=r,o.elementRef=i,o}return u(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=vo(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),mo(t,n,e),new lu(n)}}]),n}(gu);function _u(e,t){return 4&e.type?new mu(t,e,Va(e,t)):null}var bu=function e(){s(this,e)},wu=function e(){s(this,e)},ku=function(){return xu(Qt(),Ht())},Su=function(){var e=function e(){s(this,e)};return e.__NG_ELEMENT_ID__=ku,e}(),Eu=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this))._lContainer=e,o._hostTNode=r,o._hostLView=i,o}return u(n,[{key:"element",get:function(){return Va(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Yn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Vn(this._hostTNode,this._hostLView);if(In(e)){var t=Pn(e,this._hostLView),n=Rn(e);return new Yn(t[1].data[n+8],t)}return new Yn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=Cu(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var s=o.get(bu,null);s&&(i=s)}var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){var r=e._lView,i=r[1];if(function(e){return dt(e[3])}(r)){var o=this.indexOf(e);if(-1!==o)this.detach(o);else{var s=r[3],a=new n(s,s[6],s[3]);a.detach(a.indexOf(e))}}var u=this._adjustIndex(t),l=this._lContainer;!function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],ur(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var s=t[17];null!==s&&n!==s&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);var a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,l,u);var c=Ui(u,l),h=r[11],f=Mi(h,l[7]);return null!==f&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,qi(e,r,n,1,i,o)}(i,l[6],h,r,f,c),e.attachToViewContainerRef(),ur(Tu(l),u,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=Cu(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=xi(this._lContainer,t);n&&(lr(Tu(this._lContainer),t),Ai(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=xi(this._lContainer,t);return n&&null!=lr(Tu(this._lContainer),t)?new lu(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(Su);function Cu(e){return e[8]}function Tu(e){return e[8]||(e[8]=[])}function xu(e,t){var n,r=t[e.index];if(dt(r))n=r;else{var i;if(8&e.type)i=Rt(r);else{var o=t[11];i=o.createComment("");var s=Nt(e,t);Ri(o,Mi(o,s),i,function(e,t){return Ot(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=Uo(r,t,i,e),Wo(t,n)}return new Eu(n,e,t)}var Au={},Ou=function(e){l(n,e);var t=h(n);function n(e){var r;return s(this,n),(r=t.call(this)).ngModule=e,r}return u(n,[{key:"resolveComponentFactory",value:function(e){var t=ct(e);return new Pu(t,this.ngModule)}}]),n}(Da);function Iu(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Ru=new rr("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return yi}}),Pu=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=function(e){return e.map(ro).join(",")}(e.selectors),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return u(n,[{key:"inputs",get:function(){return Iu(this.componentDef.inputs)}},{key:"outputs",get:function(){return Iu(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,s=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Au,i);return o!==Au||r===Au?o:t.get(n,r,i)}}}(e,r.injector):e,a=s.get(Ha,It),u=s.get(Qa,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Ot(e))return e.selectRootElement(t,n===qe.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(l,n,this.componentDef.encapsulation):Ci(a.createRenderer(null,this.componentDef),c,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:yi,clean:Zo,playerHandler:null,flags:0},p=To(0,null,null,1,0,null,null,null,null,null),v=vo(null,p,d,f,null,null,a,l,u,s);ln(v);try{var y=function(e,t,n,r,i,o){var s=n[1];n[20]=e;var a=yo(s,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(es(a,u,!0),null!==e&&(Cn(i,e,u),null!==a.classes&&zi(i,e,a.classes),null!==a.styles&&Wi(i,e,a.styles)));var l=r.createRenderer(e,t),c=vo(n,Co(t),null,t.onPush?64:16,n[20],a,r,l,null,null);return s.firstCreatePass&&(Un(jn(a,n),s,t.type),No(s,a),Lo(a,n.length,1)),Wo(n,c),n[20]=c}(h,this.componentDef,v,a,l);if(h)if(n)Cn(l,h,["ng-version",Ka.full]);else{var g=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Ji(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,_=g.classes;m&&Cn(l,h,m),_&&_.length>0&&zi(l,h,_.join(" "))}if(o=Mt(p,20),void 0!==t)for(var b=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=t[w];b.push(null!=k?Array.from(k):null)}i=function(e,t,n,r,i){var o=n[1],s=function(e,t,n){var r=Qt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),jo(e,r,t,go(e,t,1,null),n));var i=Gn(t,e,r.directiveStart,r);hi(i,t);var o=Nt(r,t);return o&&hi(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(function(e){return e(s,t)}),t.contentQueries){var a=Qt();t.contentQueries(1,s,a.directiveStart)}var u=Qt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(yn(u.index),Ro(n[1],u,0,u.directiveStart,u.directiveEnd,t),Po(t,s)),s}(y,this.componentDef,v,d,[gs]),mo(p,v,null)}finally{pn()}return new Nu(this.componentType,i,Va(o,v),v,o)}}]),n}(La),Nu=function(e){l(n,e);var t=h(n);function n(e,r,i,o,a){var u;return s(this,n),(u=t.call(this)).location=i,u._rootLView=o,u._tNode=a,u.instance=r,u.hostView=u.changeDetectorRef=new cu(o),u.componentType=e,u}return u(n,[{key:"injector",get:function(){return new Yn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return function e(){s(this,e)}}()),Mu=new Map,Lu=function(e){l(n,e);var t=h(n);function n(e,r){var i;s(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=d(i),i.destroyCbs=[],i.componentFactoryResolver=new Ou(d(i));var o=ht(e),a=function(e){return e[Xe]||null}(e);return a&&Ta(a),i._bootstrapComponents=gi(o.bootstrap),i._r3Injector=us(e,r,[{provide:bu,useValue:d(i)},{provide:Da,useValue:i.componentFactoryResolver}],ge(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return u(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ys.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De.Default;return e===ys||e===bu||e===ns?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(bu),ju=function(e){l(n,e);var t=h(n);function n(e){var r;return s(this,n),(r=t.call(this)).moduleType=e,null!==ht(e)&&function(e){var t=new Set;!function e(n){var r=ht(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(ge(t)," vs ").concat(ge(t.name)))}(i,Mu.get(i),n),Mu.set(i,n));var s,a=o(gi(r.imports));try{for(a.s();!(s=a.n()).done;){var u=s.value;t.has(u)||(t.add(u),e(u))}}catch(l){a.e(l)}finally{a.f()}}(e)}(e),r}return u(n,[{key:"create",value:function(e){return new Lu(this.moduleType,e)}}]),n}(wu);function Du(e,t,n,r){return function(e,t,n,r,i,o){var s=t+n;return As(e,s,i)?xs(e,s+1,o?r.call(o,i):r(i)):Fu(e,s+1)}(Ht(),Xt(),e,t,n,r)}function Fu(e,t){var n=e[t];return n===io?void 0:n}function Vu(e){return function(t){setTimeout(e,void 0,t)}}var Uu=function(e){l(n,e);var t=h(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s(this,n),(e=t.call(this)).__isAsync=r,e}return u(n,[{key:"emit",value:function(e){i(v(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,s,a,u=e,l=t||function(){return null},c=r;if(e&&"object"==typeof e){var h=e;u=null===(o=h.next)||void 0===o?void 0:o.bind(h),l=null===(s=h.error)||void 0===s?void 0:s.bind(h),c=null===(a=h.complete)||void 0===a?void 0:a.bind(h)}this.__isAsync&&(l=Vu(l),u&&(u=Vu(u)),c&&(c=Vu(c)));var f=i(v(n.prototype),"subscribe",this).call(this,{next:u,error:l,complete:c});return e instanceof T&&e.add(f),f}}]),n}(F);function Bu(){return this._results[Es()]()}var qu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Es(),r=e.prototype;r[n]||(r[n]=Bu)}return u(e,[{key:"changes",get:function(){return this._changes||(this._changes=new Uu)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){var n=this;n.dirty=!1;var r=sr(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}();Symbol;var Hu=function(){function e(t){s(this,e),this.queryList=t,this.matches=null}return u(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Wu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s(this,e),this.queries=t}return u(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==il(e,t).matches&&this.queries[t].setDirty()}}]),e}(),zu=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,e),this.predicate=t,this.flags=n,this.read=r},Qu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s(this,e),this.queries=t}return u(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Ku=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;s(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return u(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,Gu(t,i)),this.matchTNodeWithReadOption(e,t,Kn(t,e,i,!1,!1))}else n===gu?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kn(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ba||r===Su||r===gu&&4&t.type)this.addMatch(t.index,-2);else{var i=Kn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Gu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Zu(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Va(e,t):4&e.type?_u(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ba?Va(t,e):n===gu?_u(t,e):n===Su?xu(t,e):void 0}(e,t,r):Gn(e,e[1],n,t)}function $u(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,s=n.matches,a=[],u=0;u<s.length;u+=2){var l=s[u];a.push(l<0?null:Zu(t,o[l],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function Yu(e,t,n,r){var i=e.queries.getByIndex(n),o=i.matches;if(null!==o)for(var s=$u(e,t,i,n),a=0;a<o.length;a+=2){var u=o[a];if(u>0)r.push(s[a/2]);else{for(var l=o[a+1],c=t[-u],h=10;h<c.length;h++){var f=c[h];f[17]===f[3]&&Yu(f[1],f,l,r)}if(null!==c[9])for(var d=c[9],p=0;p<d.length;p++){var v=d[p];Yu(v[1],v,l,r)}}}return r}function Ju(e){var t=Ht(),n=Wt(),r=on();sn(r+1);var i=il(n,r);if(e.dirty&&jt(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?Yu(n,t,r,[]):$u(n,t,i,r);e.reset(o,qa),e.notifyOnChanges()}return!0}return!1}function Xu(e,t,n){var r=Wt();r.firstCreatePass&&(rl(r,new zu(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),nl(r,Ht(),t)}function el(e,t,n,r){var i=Wt();if(i.firstCreatePass){var o=Qt();rl(i,new zu(t,n,r),o.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}nl(i,Ht(),n)}function tl(){return function(e,t){return e[19].queries[t].queryList}(Ht(),on())}function nl(e,t,n){var r=new qu(4==(4&n));xo(e,t,r,r.destroy),null===t[19]&&(t[19]=new Wu),t[19].queries.push(new Hu(r))}function rl(e,t,n){null===e.queries&&(e.queries=new Qu),e.queries.track(new Ku(t,n))}function il(e,t){return e.queries.getByIndex(t)}var ol=new rr("Application Initializer"),sl=function(){var e=function(){function e(t){var n=this;s(this,e),this.appInits=t,this.resolve=Fa,this.reject=Fa,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return u(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=function(n){var r=e.appInits[n]();if(qs(r))t.push(r);else if(Hs(r)){var i=new Promise(function(e,t){r.subscribe({complete:e,error:t})});t.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(ol,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),al=new rr("AppId"),ul={provide:al,useFactory:function(){return"".concat(ll()).concat(ll()).concat(ll())},deps:[]};function ll(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var cl=new rr("Platform Initializer"),hl=new rr("Platform ID"),fl=new rr("appBootstrapListener"),dl=function(){var e=function(){function e(){s(this,e)}return u(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),pl=new rr("LocaleId"),vl=new rr("DefaultCurrencyCode"),yl=function e(t,n){s(this,e),this.ngModuleFactory=t,this.componentFactories=n},gl=function(e){return new ju(e)},ml=gl,_l=function(e){return Promise.resolve(gl(e))},bl=function(e){var t=gl(e),n=gi(ht(e).declarations).reduce(function(e,t){var n=ct(t);return n&&e.push(new Pu(n)),e},[]);return new yl(t,n)},wl=bl,kl=function(e){return Promise.resolve(bl(e))},Sl=function(){var e=function(){function e(){s(this,e),this.compileModuleSync=ml,this.compileModuleAsync=_l,this.compileModuleAndAllComponentsSync=wl,this.compileModuleAndAllComponentsAsync=kl}return u(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),El=Promise.resolve(0);function Cl(e){"undefined"==typeof Zone?El.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Tl=function(){function e(t){var n=t.enableLongStackTrace,r=void 0!==n&&n,i=t.shouldCoalesceEventChangeDetection,o=void 0!==i&&i,a=t.shouldCoalesceRunChangeDetection,u=void 0!==a&&a;if(s(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Uu(!1),this.onMicrotaskEmpty=new Uu(!1),this.onStable=new Uu(!1),this.onError=new Uu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){var e=Qe.requestAnimationFrame,t=Qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){var t=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Qe,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Ol(e),e.isCheckStableRunning=!0,Al(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Ol(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,r,i,o,s,a){try{return Il(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Rl(e)}},onInvoke:function(n,r,i,o,s,a,u){try{return Il(e),n.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),Rl(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Ol(e),Al(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}(l)}return u(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,xl,Fa,Fa);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),xl={};function Al(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Ol(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Il(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Rl(e){e._nesting--,Al(e)}var Pl,Nl=function(){function e(){s(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Uu,this.onMicrotaskEmpty=new Uu,this.onStable=new Uu,this.onError=new Uu}return u(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Ml=function(){var e=function(){function e(t){var n=this;s(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return u(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Tl.assertNotInAngularZone(),Cl(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Cl(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(Tl))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Ll=function(){var e=function(){function e(){s(this,e),this._applications=new Map,jl.addToWindow(this)}return u(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return jl.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),jl=new(function(){function e(){s(this,e)}return u(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Dl=!0,Fl=!1,Vl=new rr("AllowMultipleToken"),Ul=function e(t,n){s(this,e),this.name=t,this.token=n};function Bl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new rr(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=ql();if(!o||o.injector.get(Vl,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var s=n.concat(t).concat({provide:i,useValue:!0},{provide:is,useValue:"platform"});!function(e){if(Pl&&!Pl.destroyed&&!Pl.injector.get(Vl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Pl=e.get(Hl);var t=e.get(cl,null);t&&t.forEach(function(e){return e()})}(ys.create({providers:s,name:r}))}return function(e){var t=ql();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function ql(){return Pl&&!Pl.destroyed?Pl:null}var Hl=function(){var e=function(){function e(t){s(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return u(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n=this,r=function(e,t){return"noop"===e?new Nl:("zone.js"===e?void 0:e)||new Tl({enableLongStackTrace:(Fl=!0,Dl),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)})}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),i=[{provide:Tl,useValue:r}];return r.run(function(){var o=ys.create({providers:i,parent:n.injector,name:e.moduleType.name}),s=e.create(o),a=s.injector.get(vi,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.runOutsideAngular(function(){var e=r.onError.subscribe({next:function(e){a.handleError(e)}});s.onDestroy(function(){Ql(n._modules,s),e.unsubscribe()})}),function(e,r,i){try{var o=((a=s.injector.get(sl)).runInitializers(),a.donePromise.then(function(){return Ta(s.injector.get(pl,Ca)||Ca),n._moduleDoBootstrap(s),s}));return qs(o)?o.catch(function(t){throw r.runOutsideAngular(function(){return e.handleError(t)}),t}):o}catch(t){throw r.runOutsideAngular(function(){return e.handleError(t)}),t}var a}(a,r)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Wl({},n);return function(e,t,n){var r=new ju(n);return Promise.resolve(r)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(zl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(ge(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(ys))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}();function Wl(e,t){return Array.isArray(t)?t.reduce(Wl,e):Object.assign(Object.assign({},e),t)}var zl=function(){var e=function(){function e(t,n,r,i,o){var a=this;s(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var u=new N(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})}),l=new N(function(e){var t;a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){Tl.assertNotInAngularZone(),Cl(function(){!a._stable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks&&(a._stable=!0,e.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Tl.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=oe(u,l.pipe(function(e){return se()(fe(pe)(e))}))}return u(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof La?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(bu),o=n.create(ys.NULL,[],t||n.selector,i),s=o.location.nativeElement,a=o.injector.get(Ml,null),u=a&&o.injector.get(Ll);return a&&u&&u.registerApplication(s,a),o.onDestroy(function(){r.detachView(o.hostView),Ql(r.components,o),u&&u.unregisterApplication(s)}),this._loadComponent(o),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=o(this._views);try{for(n.s();!(t=n.n()).done;){var r;t.value.detectChanges()}}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Ql(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(fl,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(Tl),Sr(ys),Sr(vi),Sr(Da),Sr(sl))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}();function Ql(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Kl=function e(){s(this,e)},Gl=function e(){s(this,e)},Zl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},$l=function(){var e=function(){function e(t,n){s(this,e),this._compiler=t,this._config=n||Zl}return u(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var n=this,r=t(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),p(8255)(i).then(function(e){return e[o]}).then(function(e){return Yl(e,i,o)}).then(function(e){return n._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var n=t(e.split("#"),2),r=n[0],i=n[1],o="NgFactory";return void 0===i&&(i="default",o=""),p(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[i+o]}).then(function(e){return Yl(e,r,i)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(Sl),Sr(Gl,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}();function Yl(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Jl=Bl(null,"core",[{provide:hl,useValue:"unknown"},{provide:Hl,deps:[ys]},{provide:Ll,deps:[]},{provide:dl,deps:[]}]),Xl=[{provide:zl,useClass:zl,deps:[Tl,ys,vi,Da,sl]},{provide:Ru,deps:[Tl],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:sl,useClass:sl,deps:[[new Rr,ol]]},{provide:Sl,useClass:Sl,deps:[]},ul,{provide:ou,useFactory:function(){return pu},deps:[]},{provide:au,useFactory:function(){return vu},deps:[]},{provide:pl,useFactory:function(e){return Ta(e=e||"undefined"!=typeof $localize&&$localize.locale||Ca),e},deps:[[new Ir(pl),new Rr,new Pr]]},{provide:vl,useValue:"USD"}],ec=function(){var e=function e(t){s(this,e)};return e.\u0275fac=function(t){return new(t||e)(Sr(zl))},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({providers:Xl}),e}(),tc=null;function nc(){return tc}var rc=new rr("DocumentToken"),ic=function(){var e=function(){function e(){s(this,e)}return u(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({factory:oc,token:e,providedIn:"platform"}),e}();function oc(){return Sr(ac)}var sc=new rr("Location Initialized"),ac=function(){var e=function(e){l(n,e);var t=h(n);function n(e){var r;return s(this,n),(r=t.call(this))._doc=e,r._init(),r}return u(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return nc().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){var t=nc().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),function(){return t.removeEventListener("popstate",e)}}},{key:"onHashChange",value:function(e){var t=nc().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),function(){return t.removeEventListener("hashchange",e)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){uc()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){uc()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(e)}},{key:"getState",value:function(){return this._history.state}}]),n}(ic);return e.\u0275fac=function(t){return new(t||e)(Sr(rc))},e.\u0275prov=xe({factory:lc,token:e,providedIn:"platform"}),e}();function uc(){return!!window.history.pushState}function lc(){return new ac(Sr(rc))}function cc(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function hc(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function fc(e){return e&&"?"!==e[0]?"?"+e:e}var dc=function(){var e=function(){function e(){s(this,e)}return u(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({factory:pc,token:e,providedIn:"root"}),e}();function pc(e){var t=Sr(rc).location;return new yc(Sr(ic),t&&t.origin||"")}var vc=new rr("appBaseHref"),yc=function(){var e=function(e){l(n,e);var t=h(n);function n(e,r){var i;if(s(this,n),(i=t.call(this))._platformLocation=e,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,f(i)}return u(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return cc(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+fc(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fc(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fc(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(dc);return e.\u0275fac=function(t){return new(t||e)(Sr(ic),Sr(vc,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),gc=function(){var e=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return u(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=cc(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(dc);return e.\u0275fac=function(t){return new(t||e)(Sr(ic),Sr(vc,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),mc=function(){var e=function(){function e(t,n){var r=this;s(this,e),this._subject=new Uu,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=hc(bc(i)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return u(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+fc(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,bc(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fc(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fc(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformStrategy).historyGo)||void 0===t||t.call(e,n)}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(dc),Sr(ic))},e.normalizeQueryParams=fc,e.joinWithSlash=cc,e.stripTrailingSlash=hc,e.\u0275prov=xe({factory:_c,token:e,providedIn:"root"}),e}();function _c(){return new mc(Sr(dc),Sr(ic))}function bc(e){return e.replace(/\/index.html$/,"")}var wc=((wc=wc||{})[wc.Zero=0]="Zero",wc[wc.One=1]="One",wc[wc.Two=2]="Two",wc[wc.Few=3]="Few",wc[wc.Many=4]="Many",wc[wc.Other=5]="Other",wc),kc=function e(){s(this,e)},Sc=function(){var e=function(e){l(n,e);var t=h(n);function n(e){var r;return s(this,n),(r=t.call(this)).locale=e,r}return u(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Sa(t);if(n)return n;var r=t.split("-")[0];if(n=Sa(r))return n;if("en"===r)return wa;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[Ea.PluralCase]}(t||this.locale)(e)){case wc.Zero:return"zero";case wc.One:return"one";case wc.Two:return"two";case wc.Few:return"few";case wc.Many:return"many";default:return"other"}}}]),n}(kc);return e.\u0275fac=function(t){return new(t||e)(Sr(pl))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Ec=function(){var e=function(){function e(t,n,r,i){s(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return u(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Cs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(ge(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(ou),Ps(au),Ps(Ba),Ps(Wa))},e.\u0275dir=lt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),Cc=function(){function e(t,n,r,i){s(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return u(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Tc=function(){var e=function(){function e(t,n,r){s(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return u(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'. NgFor only supports binding to Iterables such as Arrays."))}}if(this._differ){var t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Cc(null,t._ngForOf,-1,-1),null===i?void 0:i),s=new xc(e,o);n.push(s)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=t._viewContainer.get(r);t._viewContainer.move(a,i);var u=new xc(e,a);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Su),Ps(gu),Ps(ou))},e.\u0275dir=lt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),xc=function e(t,n){s(this,e),this.record=t,this.view=n},Ac=function(){var e=function(){function e(t,n){s(this,e),this._viewContainer=t,this._context=new Oc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return u(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Ic("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Ic("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Su),Ps(gu))},e.\u0275dir=lt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),Oc=function e(){s(this,e),this.$implicit=null,this.ngIf=null};function Ic(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(ge(t),"'."))}var Rc=function(){var e=function(){function e(t,n,r){s(this,e),this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return u(e,[{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,n){var r=t(e.split("."),2),i=r[0],o=r[1];null!=(n=null!=n&&o?"".concat(n).concat(o):n)?this._renderer.setStyle(this._ngEl.nativeElement,i,n):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Ba),Ps(au),Ps(Wa))},e.\u0275dir=lt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),Pc=function(){var e=function(){function e(t){s(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return u(e,[{key:"ngOnChanges",value:function(e){if(e.ngTemplateOutlet){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Su))},e.\u0275dir=lt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[wt]}),e}(),Nc=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({providers:[{provide:kc,useClass:Sc}]}),e}(),Mc=function(){var e=function e(){s(this,e)};return e.\u0275prov=xe({token:e,providedIn:"root",factory:function(){return new Lc(Sr(rc),window)}}),e}(),Lc=function(){function e(t,n){s(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return u(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var s=o.getElementById(t)||o.querySelector('[name="'.concat(t,'"]'));if(s)return s}i=r.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=jc(this.window.history)||jc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function jc(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var Dc,Fc=function(e){l(r,e);var n=h(r);function r(){return s(this,r),n.apply(this,arguments)}return u(r,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=(Vc=Vc||document.querySelector("base"))?Vc.getAttribute("href"):null;return null==t?null:function(e){(Dc=Dc||document.createElement("a")).setAttribute("href",e);var t=Dc.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){Vc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return function(e,n){n=encodeURIComponent(n);var r,i=o(e.split(";"));try{for(i.s();!(r=i.n()).done;){var s=r.value,a=s.indexOf("="),u=t(-1==a?[s,""]:[s.slice(0,a),s.slice(a+1)],2),l=u[0],c=u[1];if(l.trim()===n)return decodeURIComponent(c)}}catch(h){i.e(h)}finally{i.f()}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){!function(e){tc||(tc=e)}(new r)}}]),r}(function(e){l(n,e);var t=h(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).supportsDOMEvents=!0,e}return n}(function(){return function e(){s(this,e)}}())),Vc=null,Uc=new rr("TRANSITION_ID"),Bc=[{provide:ol,useFactory:function(e,t,n){return function(){n.get(sl).donePromise.then(function(){for(var n=nc(),r=t.querySelectorAll('style[ng-transition="'.concat(e,'"]')),i=0;i<r.length;i++)n.remove(r[i])})}},deps:[Uc,rc,ys],multi:!0}],qc=function(){function e(){s(this,e)}return u(e,[{key:"addToWindow",value:function(e){Qe.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Qe.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Qe.getAllAngularRootElements=function(){return e.getAllRootElements()},Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(function(e){var t=Qe.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?nc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){!function(e){jl=e}(new e)}}]),e}(),Hc=function(){var e=function(){function e(){s(this,e)}return u(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Wc=new rr("EventManagerPlugins"),zc=function(){var e=function(){function e(t,n){var r=this;s(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return u(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(Wc),Sr(Tl))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Qc=function(){function e(t){s(this,e),this._doc=t}return u(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=nc().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Kc=function(){var e=function(){function e(){s(this,e),this._stylesSet=new Set}return u(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Gc=function(){var e=function(e){l(n,e);var t=h(n);function n(e){var r;return s(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return u(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(Zc),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(Zc)})}}]),n}(Kc);return e.\u0275fac=function(t){return new(t||e)(Sr(rc))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}();function Zc(e){nc().remove(e)}var $c={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yc=/%COMP%/g;function Jc(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Jc(e,i,n):(i=i.replace(Yc,e),n.push(i))}return n}function Xc(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var eh=function(){var e=function(){function e(t,n,r){s(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new th(t)}return u(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case qe.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new nh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case qe.ShadowDom:return new rh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Jc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(zc),Sr(Gc),Sr(al))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),th=function(){function e(t){s(this,e),this.eventManager=t,this.data=Object.create(null)}return u(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS($c[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=$c[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=$c[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(mi.DashCase|mi.Important)?e.style.setProperty(t,n,r&mi.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&mi.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Xc(n)):this.eventManager.addEventListener(e,t,Xc(n))}}]),e}(),nh=function(e){l(n,e);var t=h(n);function n(e,r,i,o){var a;s(this,n),(a=t.call(this,e)).component=i;var u=Jc(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr=function(e){return"_ngcontent-%COMP%".replace(Yc,e)}(o+"-"+i.id),a.hostAttr=function(e){return"_nghost-%COMP%".replace(Yc,e)}(o+"-"+i.id),a}return u(n,[{key:"applyToHost",value:function(e){i(v(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=i(v(n.prototype),"createElement",this).call(this,e,t);return i(v(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(th),rh=function(e){l(n,e);var t=h(n);function n(e,r,i,o){var a;s(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var u=Jc(o.id,o.styles,[]),l=0;l<u.length;l++){var c=document.createElement("style");c.textContent=u[l],a.shadowRoot.appendChild(c)}return a}return u(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return i(v(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return i(v(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return i(v(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(i(v(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(th),ih=function(){var e=function(e){l(n,e);var t=h(n);function n(e){return s(this,n),t.call(this,e)}return u(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Qc);return e.\u0275fac=function(t){return new(t||e)(Sr(rc))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),oh=["alt","control","meta","shift"],sh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ah={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},uh={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},lh=function(){var e=function(e){l(n,e);var t=h(n);function n(e){return s(this,n),t.call(this,e)}return u(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return nc().onAndCancel(e,i.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(oh.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&ah.hasOwnProperty(t)&&(t=ah[t]))}return sh[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),oh.forEach(function(r){r!=n&&uh[r](e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Qc);return e.\u0275fac=function(t){return new(t||e)(Sr(rc))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),ch=Bl(Jl,"browser",[{provide:hl,useValue:"browser"},{provide:cl,useValue:function(){Fc.makeCurrent(),qc.init()},multi:!0},{provide:rc,useFactory:function(){return function(e){Ct=e}(document),document},deps:[]}]),hh=[[],{provide:is,useValue:"root"},{provide:vi,useFactory:function(){return new vi},deps:[]},{provide:Wc,useClass:ih,multi:!0,deps:[rc,Tl,hl]},{provide:Wc,useClass:lh,multi:!0,deps:[rc]},[],{provide:eh,useClass:eh,deps:[zc,Gc,al]},{provide:Ha,useExisting:eh},{provide:Kc,useExisting:Gc},{provide:Gc,useClass:Gc,deps:[rc]},{provide:Ml,useClass:Ml,deps:[Tl]},{provide:zc,useClass:zc,deps:[Wc,Tl]},{provide:function e(){s(this,e)},useClass:Hc,deps:[]},[]],fh=function(){var e=function(){function e(t){if(s(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return u(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:al,useValue:t.appId},{provide:Uc,useExisting:al},Bc]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(e,12))},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({providers:hh,imports:[Nc,ec]}),e}();"undefined"!=typeof window&&window;var dh=function e(){s(this,e)},ph="*";function vh(e,t){return{type:7,name:e,definitions:t,options:{}}}function yh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function gh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function mh(e){return{type:6,styles:e,offset:null}}function _h(e,t,n){return{type:0,name:e,styles:t,options:n}}function bh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function wh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:8,animation:e,options:t}}function kh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:10,animation:e,options:t}}function Sh(e){Promise.resolve(null).then(e)}var Eh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return u(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Sh(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Ch=function(){function e(t){var n=this;s(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?Sh(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++r==a&&n._onFinish()}),e.onDestroy(function(){++i==a&&n._onDestroy()}),e.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return u(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}();function Th(){return"undefined"!=typeof window&&void 0!==window.document}function xh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ah(e){switch(e.length){case 0:return new Eh;case 1:return e[0];default:return new Ch(e)}}function Oh(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,l=null;if(r.forEach(function(e){var n=e.offset,r=n==u,c=r&&l||{};Object.keys(e).forEach(function(n){var r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,s),a){case"!":a=i[n];break;case ph:a=o[n];break;default:a=t.normalizeStyleValue(n,r,a,s)}c[r]=a}),r||a.push(c),l=c,u=n}),s.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(s.join(c)))}return a}function Ih(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&Rh(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&Rh(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&Rh(n,"destroy",e))})}}function Rh(e,t,n){var r=n.totalTime,i=Ph(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function Ph(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Nh(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Mh(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Lh=function(e,t){return!1},jh=function(e,t){return!1},Dh=function(e,t,n){return[]},Fh=xh();(Fh||"undefined"!=typeof Element)&&(Lh=Th()?function(e,t){for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:function(e,t){return e.contains(t)},jh=function(){if(Fh||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:jh}(),Dh=function(e,t,n){var r=[];if(n)for(var i=e.querySelectorAll(t),o=0;o<i.length;o++)r.push(i[o]);else{var s=e.querySelector(t);s&&r.push(s)}return r});var Vh=null,Uh=!1;function Bh(e){Vh||(Vh=("undefined"!=typeof document?document.body:null)||{},Uh=!!Vh.style&&"WebkitAppearance"in Vh.style);var t=!0;return Vh.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in Vh.style)&&Uh&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Vh.style)),t}var qh=jh,Hh=Lh,Wh=Dh;function zh(e){var t={};return Object.keys(e).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}var Qh=function(){var e=function(){function e(){s(this,e)}return u(e,[{key:"validateStyleProperty",value:function(e){return Bh(e)}},{key:"matchesElement",value:function(e,t){return qh(e,t)}},{key:"containsElement",value:function(e,t){return Hh(e,t)}},{key:"query",value:function(e,t,n){return Wh(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new Eh(n,r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Kh=function(){var e=function e(){s(this,e)};return e.NOOP=new Qh,e}(),Gh="ng-enter",Zh="ng-leave",$h="ng-trigger",Yh=".ng-trigger",Jh="ng-animating",Xh=".ng-animating";function ef(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:tf(parseFloat(t[1]),t[2])}function tf(e,t){switch(t){case"s":return 1e3*e;default:return e}}function nf(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var s=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=tf(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(i=tf(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else r=e;if(!n){var l=!1,c=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function rf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function of(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else rf(e,n);return n}function sf(e,t,n){return n?t+":"+n+";":""}function af(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=sf(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=sf(0,gf(i),e.style[i]));e.setAttribute("style",t)}function uf(e,t,n){e.style&&(Object.keys(t).forEach(function(r){var i=yf(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),xh()&&af(e))}function lf(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=yf(t);e.style[n]=""}),xh()&&af(e))}function cf(e){return Array.isArray(e)?1==e.length?e[0]:gh(e):e}var hf=new RegExp("{{\\s*(.+?)\\s*}}","g");function ff(e){var t=[];if("string"==typeof e){for(var n;n=hf.exec(e);)t.push(n[1]);hf.lastIndex=0}return t}function df(e,t,n){var r=e.toString(),i=r.replace(hf,function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?e:i}function pf(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var vf=/-+([a-z0-9])/g;function yf(e){return e.replace(vf,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function gf(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mf(e,t){return 0===e||0===t}function _f(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach(function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]}),o.length)for(var s=function(){var n=t[a];o.forEach(function(t){n[t]=wf(e,t)})},a=1;a<t.length;a++)s()}return t}function bf(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function wf(e,t){return window.getComputedStyle(e)[t]}function kf(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],s=i[2],a=i[3];t.push(Cf(o,a)),"<"==s[0]&&("*"!=o||"*"!=a)&&t.push(Cf(a,o))}(e,n,t)}):n.push(e),n}var Sf=new Set(["true","1"]),Ef=new Set(["false","0"]);function Cf(e,t){var n=Sf.has(e)||Ef.has(e),r=Sf.has(t)||Ef.has(t);return function(i,o){var s="*"==e||e==i,a="*"==t||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?Sf.has(e):Ef.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?Sf.has(t):Ef.has(t)),s&&a}}var Tf=new RegExp("s*:selfs*,?","g");function xf(e,t,n){return new Af(e).build(t,n)}var Af=function(){function e(t){s(this,e),this._driver=t}return u(e,[{key:"build",value:function(e,t){var n=new Of(t);return this._resetContextStyleTimingState(n),bf(this,cf(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var a=e,u=a.name;u.toString().split(/\s*,\s*/).forEach(function(e){a.name=e,o.push(n.visitState(a,t))}),a.name=u}else if(1==e.type){var l=n.visitTransition(e,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(e){if(If(e)){var t=e;Object.keys(t).forEach(function(e){ff(t[e]).forEach(function(e){o.hasOwnProperty(e)||i.add(e)})})}}),i.size){var s=pf(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n=bf(this,cf(e.animation),t);return{type:1,matchers:kf(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Rf(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return bf(n,e,t)}),options:Rf(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map(function(e){t.currentTime=r;var o=bf(n,e,t);return i=Math.max(i,t.currentTime),o});return t.currentTime=i,{type:3,steps:o,options:Rf(e.options)}}},{key:"visitAnimate",value:function(e,t){var n=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Pf(nf(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var i=Pf(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Pf((n=n||nf(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;var r,i=e.styles?e.styles:mh({});if(5==i.type)r=this.visitKeyframes(i,t);else{var o=e.styles,s=!1;if(!o){s=!0;var a={};n.easing&&(a.easing=n.easing),o=mh(a)}t.currentTime+=n.duration+n.delay;var u=this.visitStyle(o,t);u.isEmptyStep=s,r=u}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==ph?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var r=!1,i=null;return n.forEach(function(e){if(If(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(r){if(n._driver.validateStyleProperty(r)){var s=t.collectedStyles[t.currentQuerySelector],a=s[r],u=!0;a&&(o!=i&&o>=a.startTime&&i<=a.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(a.startTime,'ms" and "').concat(a.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),u=!1),o=a.startTime),u&&(s[r]={startTime:o,endTime:i}),t.options&&function(e,t,n){var r=t.params||{},i=ff(e);i.length&&i.forEach(function(e){r.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})}(e[r],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],s=!1,a=!1,u=0,l=e.steps.map(function(e){var r=n._makeStyleAst(e,t),l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(If(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(If(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),a=a||c<0||c>1,s=s||c<u,u=c,o.push(c),r});a&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return l.forEach(function(e,i){var s=h>0?i==f?1:h*i:o[i],a=s*v;t.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(e,t),e.offset=s,r.styles.push(e)}),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:bf(this,cf(e.animation),t),options:Rf(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Rf(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Rf(e.options)}}},{key:"visitQuery",value:function(e,n){var r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;var o=t(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(Tf,"")),[e=e.replace(/@\*/g,Yh).replace(/@\w+/g,function(e){return Yh+"-"+e.substr(1)}).replace(/:animating/g,Xh),t]}(e.selector),2),s=o[0],a=o[1];n.currentQuerySelector=r.length?r+" "+s:s,Nh(n.collectedStyles,n.currentQuerySelector,{});var u=bf(this,cf(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:u,originalSelector:e.selector,options:Rf(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:nf(e.timings,t.errors,!0);return{type:12,animation:bf(this,cf(e.animation),t),timings:n,options:null}}}]),e}(),Of=function e(t){s(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function If(e){return!Array.isArray(e)&&"object"==typeof e}function Rf(e){return e?(e=rf(e)).params&&(e.params=function(e){return e?rf(e):null}(e.params)):e={},e}function Pf(e,t,n){return{duration:e,delay:t,easing:n}}function Nf(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Mf=function(){function e(){s(this,e),this._map=new Map}return u(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,y(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Lf=new RegExp(":enter","g"),jf=new RegExp(":leave","g");function Df(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Ff).buildKeyframes(e,t,n,r,i,o,s,a,u,l)}var Ff=function(){function e(){s(this,e)}return u(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,s,a,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Mf;var c=new Uf(e,t,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),bf(this,n,c);var h=c.timelines.filter(function(e){return e.containsAnimation()});if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,c.errors,a)}return h.length?h.map(function(e){return e.buildKeyframes()}):[Nf(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?ef(n.duration):null,o=null!=n.delay?ef(n.delay):null;return 0!==i&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),bf(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vf);var s=ef(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(function(e){return bf(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ef(e.options.delay):0;e.steps.forEach(function(s){var a=t.createSubContext(e.options);o&&a.delayNextStep(o),bf(n,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return nf(t.params?df(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ef(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Vf);var s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;var u=null;a.forEach(function(r,i){t.currentQueryIndex=i;var a=t.createSubContext(e.options,r);o&&a.delayNextStep(o),r===t.element&&(u=a.currentTimeline),bf(n,e.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),s=o*(t.currentQueryTotal-1),a=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=t.currentTimeline;a&&u.delayNextStep(a);var l=u.currentTime;bf(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),e}(),Vf={},Uf=function(){function e(t,n,r,i,o,a,u,l){s(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Bf(this._driver,n,0),u.push(this.currentTimeline)}return u(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=ef(r.duration)),null!=r.delay&&(i.delay=ef(r.delay));var o=r.params;if(o){var s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(function(e){(!t||!s.hasOwnProperty(e))&&(s[e]=df(o[e],s,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Vf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new qf(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(Lf,"."+this._enterClassName)).replace(jf,"."+this._leaveClassName);var a=this._driver.query(this.element,e,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,y(a))}return!i&&0==s.length&&o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}}]),e}(),Bf=function(){function e(t,n,r,i){s(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return u(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||ph,t._currentKeyframe[e]=ph}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},s=function(e,t){var n,r={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){r[e]=ph}):of(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(s).forEach(function(e){var t=df(s[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:ph),i._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,s){var a=of(o,!0);Object.keys(a).forEach(function(e){var r=a[e];"!"==r?t.add(e):r==ph&&n.add(e)}),r||(a.offset=s/e.duration),i.push(a)});var o=t.size?pf(t.values()):[],s=n.size?pf(n.values()):[];if(r){var a=i[0],u=rf(a);a.offset=0,u.offset=1,i=[a,u]}return Nf(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}]),e}(),qf=function(e){l(n,e);var t=h(n);function n(e,r,i,o,a,u){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return s(this,n),(l=t.call(this,e,r,u.delay)).keyframes=i,l.preStyleProps=o,l.postStyleProps=a,l._stretchStartingKeyframe=c,l.timings={duration:u.duration,delay:u.delay,easing:u.easing},l}return u(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=r+n,a=n/s,u=of(e[0],!1);u.offset=0,o.push(u);var l=of(e[0],!1);l.offset=Hf(a),o.push(l);for(var c=e.length-1,h=1;h<=c;h++){var f=of(e[h],!1);f.offset=Hf((n+f.offset*r)/s),o.push(f)}r=s,n=0,i="",e=o}return Nf(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Bf);function Hf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Wf=function e(){s(this,e)},zf=function(e){l(n,e);var t=h(n);function n(){return s(this,n),t.apply(this,arguments)}return u(n,[{key:"normalizePropertyName",value:function(e,t){return yf(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(Qf[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(Wf),Qf=function(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Kf(e,t,n,r,i,o,s,a,u,l,c,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var Gf={},Zf=function(){function e(t,n,r){s(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return u(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some(function(e){return e(t,n,r,i)})}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,s,a,u,l){var c=[],h=this.ast.options&&this.ast.options.params||Gf,f=this.buildStyles(n,s&&s.params||Gf,c),d=a&&a.params||Gf,p=this.buildStyles(r,d,c),v=new Set,y=new Map,g=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=l?[]:Df(e,t,this.ast.animation,i,o,f,p,_,u,c),w=0;if(b.forEach(function(e){w=Math.max(e.duration+e.delay,w)}),c.length)return Kf(t,this._triggerName,n,r,m,f,p,[],[],y,g,w,c);b.forEach(function(e){var n=e.element,r=Nh(y,n,{});e.preStyleProps.forEach(function(e){return r[e]=!0});var i=Nh(g,n,{});e.postStyleProps.forEach(function(e){return i[e]=!0}),n!==t&&v.add(n)});var k=pf(v.values());return Kf(t,this._triggerName,n,r,m,f,p,b,k,y,g,w)}}]),e}(),$f=function(){function e(t,n,r){s(this,e),this.styles=t,this.defaultParams=n,this.normalizer=r}return u(e,[{key:"buildStyles",value:function(e,t){var n=this,r={},i=rf(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var o=e;Object.keys(o).forEach(function(e){var s=o[e];s.length>1&&(s=df(s,i,t));var a=n.normalizer.normalizePropertyName(e,t);s=n.normalizer.normalizeStyleValue(e,a,s,t),r[a]=s})}}),r}}]),e}(),Yf=function(){function e(t,n,r){var i=this;s(this,e),this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states={},n.states.forEach(function(e){i.states[e.name]=new $f(e.style,e.options&&e.options.params||{},r)}),Jf(this.states,"true","1"),Jf(this.states,"false","0"),n.transitions.forEach(function(e){i.transitionFactories.push(new Zf(t,e,i.states))}),this.fallbackTransition=function(e,t,n){return new Zf(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},t)}(t,this.states)}return u(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find(function(i){return i.match(e,t,n,r)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function Jf(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Xf=new Mf,ed=function(){function e(t,n,r){s(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return u(e,[{key:"register",value:function(e,t){var n=[],r=xf(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Oh(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],a=new Map;if(s?(n=Df(this._driver,t,s,Gh,Zh,{},{},i,Xf,o)).forEach(function(e){var t=Nh(a,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));a.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=r._driver.computeStyle(t,n,ph)})});var u=Ah(n.map(function(e){var t=a.get(e.element);return r._buildPlayer(e,{},t)}));return this._playersById[e]=u,u.onDestroy(function(){return r.destroy(e)}),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=Ph(t,"","","");return Ih(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),td="ng-animate-queued",nd="ng-animate-disabled",rd=".ng-animate-disabled",id=[],od={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ad="__ng_removed",ud=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";s(this,e),this.namespaceId=n;var r=t&&t.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(r?t.value:t),r){var i=rf(t);delete i.value,this.options=i}else this.options={};this.options.params||(this.options.params={})}return u(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),ld="void",cd=new ud(ld),hd=function(){function e(t,n,r){s(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,_d(n,this._hostClassName)}return u(e,[{key:"listen",value:function(e,t,n,r){var i=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if(!function(e){return"start"==e||"done"==e}(n))throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=Nh(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);var a=Nh(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(_d(e,$h),_d(e,$h+"-"+t),a[t]=cd),function(){i._engine.afterFlush(function(){var e=o.indexOf(s);e>=0&&o.splice(e,1),i._triggers[t]||delete a[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),s=new dd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(_d(e,$h),_d(e,$h+"-"+t),this._engine.statesByElement.set(e,a={}));var u=a[t],l=new ud(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a[t]=l,u||(u=cd),l.value===ld||u.value!==l.value){var c=Nh(this._engine.playersByElement,e,[]);c.forEach(function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()});var h=o.matchTransition(u.value,l.value,e,l.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:l,player:s,isFallbackTransition:f}),f||(_d(e,td),s.onStart(function(){bd(e,td)})),s.onDone(function(){var t=r.players.indexOf(s);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(s);i>=0&&n.splice(i,1)}}),this.players.push(s),c.push(s),s}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,l.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){lf(e,p),uf(e,v)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,r){t._elementListeners.set(r,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,Yh,!0);r.forEach(function(e){if(!e[ad]){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var s=[];if(Object.keys(o).forEach(function(t){if(i._triggers[t]){var n=i.trigger(e,t,ld,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Ah(s).onDone(function(){return i._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){var i=new Set;n.forEach(function(n){var o=n.name;if(!i.has(o)){i.add(o);var s=t._triggers[o].fallbackTransition,a=r[o]||cd,u=new ud(ld),l=new dd(t.id,o,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:o,transition:s,fromState:a,toState:u,player:l,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var s=e;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var a=e[ad];(!a||a===od)&&(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){_d(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,s=t._elementListeners.get(o);s&&s.forEach(function(t){if(t.name==r.triggerName){var n=Ph(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,Ih(r.player,t.phase,n,t.callback)}}),i.markedForDestroy?t._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),fd=function(){function e(t,n,r){s(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return u(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new hd(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&t.add(s)}}return t}},{key:"trigger",value:function(e,t,n,r){if(pd(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(pd(t)){var i=t[ad];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var s=this._fetchNamespace(e);s&&s.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),_d(e,nd)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),bd(e,nd))}},{key:"removeNode",value:function(e,t,n,r){if(pd(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t[ad]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return pd(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,Yh,!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,Xh,!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return Ah(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e[ad];if(n&&n.setForRemoval){if(e[ad]=od,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,rd)&&this.markElementAsDisabled(e,!1),this.driver.query(e,rd,!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)_d(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?Ah(n).onDone(function(){a.forEach(function(e){return e()})}):a.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new Mf,i=[],o=new Map,s=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)c.add(t[r])});var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=gd(f,this.collectedEnterElements),p=new Map,v=0;d.forEach(function(e,t){var n=Gh+v++;p.set(t,n),e.forEach(function(e){return _d(e,n)})});for(var g=[],m=new Set,_=new Set,b=0;b<this.collectedLeaveElements.length;b++){var w=this.collectedLeaveElements[b],k=w[ad];k&&k.setForRemoval&&(g.push(w),m.add(w),k.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach(function(e){return m.add(e)}):_.add(w))}var S=new Map,E=gd(f,Array.from(m));E.forEach(function(e,t){var n=Zh+v++;S.set(t,n),e.forEach(function(e){return _d(e,n)})}),e.push(function(){d.forEach(function(e,t){var n=p.get(t);e.forEach(function(e){return bd(e,n)})}),E.forEach(function(e,t){var n=S.get(t);e.forEach(function(e){return bd(e,n)})}),g.forEach(function(e){n.processLeaveNode(e)})});for(var C=[],T=[],x=this._namespaceList.length-1;x>=0;x--)this._namespaceList[x].drainQueuedTransitions(t).forEach(function(e){var t=e.player,o=e.element;if(C.push(t),n.collectedEnterElements.length){var c=o[ad];if(c&&c.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=S.get(o),v=p.get(o),y=n._buildInstruction(e,r,v,d,f);if(y.errors&&y.errors.length)T.push(y);else{if(f)return t.onStart(function(){return lf(o,y.fromStyles)}),t.onDestroy(function(){return uf(o,y.toStyles)}),void i.push(t);if(e.isFallbackTransition)return t.onStart(function(){return lf(o,y.fromStyles)}),t.onDestroy(function(){return uf(o,y.toStyles)}),void i.push(t);y.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),r.append(o,y.timelines),s.push({instruction:y,player:t,element:o}),y.queriedElements.forEach(function(e){return Nh(a,e,[]).push(t)}),y.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach(function(e){return r.add(e)})}}),y.postStyleProps.forEach(function(e,t){var n=Object.keys(e),r=l.get(t);r||l.set(t,r=new Set),n.forEach(function(e){return r.add(e)})})}});if(T.length){var A=[];T.forEach(function(e){A.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return A.push("- ".concat(e,"\n"))})}),C.forEach(function(e){return e.destroy()}),this.reportError(A)}var O=new Map,I=new Map;s.forEach(function(e){var t=e.element;r.has(t)&&(I.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,O))}),i.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){Nh(O,t,[]).push(e),e.destroy()})});var R=g.filter(function(e){return Sd(e,u,l)}),P=new Map;yd(P,this.driver,_,l,ph).forEach(function(e){Sd(e,u,l)&&R.push(e)});var N=new Map;d.forEach(function(e,t){yd(N,n.driver,new Set(e),u,"!")}),R.forEach(function(e){var t=P.get(e),n=N.get(e);P.set(e,Object.assign(Object.assign({},t),n))});var M=[],L=[],j={};s.forEach(function(e){var t=e.element,s=e.player,a=e.instruction;if(r.has(t)){if(c.has(t))return s.onDestroy(function(){return uf(t,a.toStyles)}),s.disabled=!0,s.overrideTotalTime(a.totalTime),void i.push(s);var u=j;if(I.size>1){for(var l=t,h=[];l=l.parentNode;){var f=I.get(l);if(f){u=f;break}h.push(l)}h.forEach(function(e){return I.set(e,u)})}var d=n._buildAnimation(s.namespaceId,a,O,o,N,P);if(s.setRealPlayer(d),u===j)M.push(s);else{var p=n.playersByElement.get(u);p&&p.length&&(s.parentPlayer=Ah(p)),i.push(s)}}else lf(t,a.fromStyles),s.onDestroy(function(){return uf(t,a.toStyles)}),L.push(s),c.has(t)&&i.push(s)}),L.forEach(function(e){var t=o.get(e.element);if(t&&t.length){var n=Ah(t);e.setRealPlayer(n)}}),i.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var D=0;D<g.length;D++){var F=g[D],V=F[ad];if(bd(F,Zh),!V||!V.hasAnimation){var U=[];if(a.size){var B=a.get(F);B&&B.length&&U.push.apply(U,y(B));for(var q=this.driver.query(F,Xh,!0),H=0;H<q.length;H++){var W=a.get(q[H]);W&&W.length&&U.push.apply(U,y(W))}}var z=U.filter(function(e){return!e.destroyed});z.length?wd(this,F,z):this.processLeaveNode(F)}}return g.length=0,M.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),M}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t[ad];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var s=this.playersByQueriedElement.get(e);s&&(o=s)}else{var a=this.playersByElement.get(e);if(a){var u=!i||i==ld;a.forEach(function(e){e.queued||!u&&e.triggerName!=r||o.push(e)})}}return(n||r)&&(o=o.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,s=t.element,a=t.isRemovalTransition?void 0:e,u=t.isRemovalTransition?void 0:t.triggerName,l=o(t.timelines);try{var c=function(){var e=r.value.element,o=e!==s,l=Nh(n,e,[]);i._getPreviousPlayers(e,o,a,u,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})};for(l.s();!(r=l.n()).done;)c()}catch(h){l.e(h)}finally{l.f()}lf(s,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var s=this,a=t.triggerName,u=t.element,l=[],c=new Set,h=new Set,f=t.timelines.map(function(t){var f=t.element;c.add(f);var d=f[ad];if(d&&d.removedBeforeQueried)return new Eh(t.duration,t.delay);var p=f!==u,v=function(e){var t=[];return kd(e,t),t}((n.get(f)||id).map(function(e){return e.getRealPlayer()})).filter(function(e){return!!e.element&&e.element===f}),y=i.get(f),g=o.get(f),m=Oh(0,s._normalizer,0,t.keyframes,y,g),_=s._buildPlayer(t,m,v);if(t.subTimeline&&r&&h.add(f),p){var b=new dd(e,a,f);b.setRealPlayer(_),l.push(b)}return _});l.forEach(function(e){Nh(s.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(s.playersByQueriedElement,e.element,e)})}),c.forEach(function(e){return _d(e,Jh)});var d=Ah(f);return d.onDestroy(function(){c.forEach(function(e){return bd(e,Jh)}),uf(u,t.toStyles)}),h.forEach(function(e){Nh(r,e,[]).push(d)}),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Eh(e.duration,e.delay)}}]),e}(),dd=function(){function e(t,n,r){s(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Eh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return u(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return Ih(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){Nh(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function pd(e){return e&&1===e.nodeType}function vd(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function yd(e,t,n,r,i){var o=[];n.forEach(function(e){return o.push(vd(e))});var s=[];r.forEach(function(n,r){var o={};n.forEach(function(e){var n=o[e]=t.computeStyle(r,e,i);(!n||0==n.length)&&(r[ad]=sd,s.push(r))}),e.set(r,o)});var a=0;return n.forEach(function(e){return vd(e,o[a++])}),s}function gd(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var r=new Set(t),i=new Map;function o(e){if(!e)return 1;var t=i.get(e);if(t)return t;var s=e.parentNode;return t=n.has(s)?s:r.has(s)?1:o(s),i.set(e,t),t}return t.forEach(function(e){var t=o(e);1!==t&&n.get(t).push(e)}),n}var md="$$classes";function _d(e,t){if(e.classList)e.classList.add(t);else{var n=e[md];n||(n=e[md]={}),n[t]=!0}}function bd(e,t){if(e.classList)e.classList.remove(t);else{var n=e[md];n&&delete n[t]}}function wd(e,t,n){Ah(n).onDone(function(){return e.processLeaveNode(t)})}function kd(e,t){for(var n=0;n<e.length;n++){var r=e[n];r instanceof Ch?kd(r.players,t):t.push(r)}}function Sd(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach(function(e){return i.add(e)}):t.set(e,r),n.delete(e),!0}var Ed=function(){function e(t,n,r){var i=this;s(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new fd(t,n,r),this._timelineEngine=new ed(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return u(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,s=this._triggerCache[o];if(!s){var a=[],u=xf(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(e,t,n){return new Yf(e,t,n)}(r,u,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,r,s)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,n,r,i){if("@"==r.charAt(0)){var o=t(Mh(r),2),s=o[0],a=o[1];this._timelineEngine.command(s,n,a,i)}else this._transitionEngine.trigger(e,n,r,i)}},{key:"listen",value:function(e,n,r,i,o){if("@"==r.charAt(0)){var s=t(Mh(r),2),a=s[0],u=s[1];return this._timelineEngine.listen(a,n,u,o)}return this._transitionEngine.listen(e,n,r,i,o)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function Cd(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=xd(t[0]),t.length>1&&(r=xd(t[t.length-1]))):t&&(n=xd(t)),n||r?new Td(e,n,r):null}var Td=function(){var e=function(){function e(t,n,r){s(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return u(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&uf(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(uf(this._element,this._initialStyles),this._endStyles&&(uf(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(lf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lf(this._element,this._endStyles),this._endStyles=null),uf(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function xd(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];Ad(i)&&((t=t||{})[i]=e[i])}return t}function Ad(e){return"display"===e||"position"===e}var Od="animation",Id="animationend",Rd=function(){function e(t,n,r,i,o,a,u){var l=this;s(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=u,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return l._handleCallback(e)}}return u(e,[{key:"apply",value:function(){(function(e,t){var n=Dd(e,"").trim();n.length&&(function(e,t){for(var n=0,r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t="".concat(n,", ").concat(t)),jd(e,"",t)})(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),Ld(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Pd(this._element,this._name,"paused")}},{key:"resume",value:function(){Pd(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Nd(this._element,this._name);this._position=e*this._duration,jd(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Ld(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=Dd(e,"").split(","),r=Md(n,t);r>=0&&(n.splice(r,1),jd(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function Pd(e,t,n){jd(e,"PlayState",n,Nd(e,t))}function Nd(e,t){var n=Dd(e,"");return n.indexOf(",")>0?Md(n.split(","),t):Md([n],t)}function Md(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Ld(e,t,n){n?e.removeEventListener(Id,t):e.addEventListener(Id,t)}function jd(e,t,n,r){var i=Od+t;if(null!=r){var o=e.style[i];if(o.length){var s=o.split(",");s[r]=n,n=s.join(",")}}e.style[i]=n}function Dd(e,t){return e.style[Od+t]||""}var Fd=function(){function e(t,n,r,i,o,a,u,l){s(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=u,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return u(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Rd(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:wf(e.element,r))})}this.currentSnapshot=t}}]),e}(),Vd=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=zh(r),i}return u(n,[{key:"init",value:function(){var e=this;this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),i(v(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),i(v(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;!this._startingStyles||(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,i(v(n.prototype),"destroy",this).call(this))}}]),n}(Eh),Ud=function(){function e(){s(this,e),this._count=0}return u(e,[{key:"validateStyleProperty",value:function(e){return Bh(e)}},{key:"matchesElement",value:function(e,t){return qh(e,t)}},{key:"containsElement",value:function(e,t){return Hh(e,t)}},{key:"query",value:function(e,t,n){return Wh(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return zh(e)});var r="@keyframes ".concat(t," {\n"),i="";n.forEach(function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var o=document.createElement("style");return o.textContent=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=o.filter(function(e){return e instanceof Fd}),a={};mf(n,r)&&s.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return a[e]=t[e]})});var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"==n||"easing"==n||(t[n]=e[n])})}),t}(t=_f(e,t,a));if(0==n)return new Vd(e,u);var l="gen_css_kf_"+this._count++,c=this.buildKeyframeElement(e,l,t);(function(e){var t,n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(c);var h=Cd(e,t),f=new Fd(e,t,l,n,r,i,u,h);return f.onDestroy(function(){return function(e){e.parentNode.removeChild(e)}(c)}),f}}]),e}(),Bd=function(){function e(t,n,r,i){s(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return u(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:wf(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),qd=function(){function e(){s(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Hd().toString()),this._cssKeyframesDriver=new Ud}return u(e,[{key:"validateStyleProperty",value:function(e){return Bh(e)}},{key:"matchesElement",value:function(e,t){return qh(e,t)}},{key:"containsElement",value:function(e,t){return Hh(e,t)}},{key:"query",value:function(e,t,n){return Wh(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var u={},l=o.filter(function(e){return e instanceof Bd});mf(n,r)&&l.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return u[e]=t[e]})});var c=Cd(e,t=_f(e,t=t.map(function(e){return of(e,!1)}),u));return new Bd(e,t,a,c)}}]),e}();function Hd(){return Th()&&Element.prototype.animate||{}}var Wd=function(){var e=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:qe.None,styles:[],data:{animation:[]}}),i}return u(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?gh(e):e;return Kd(this._renderer,null,t,"register",[n]),new zd(t,this._renderer)}}]),n}(dh);return e.\u0275fac=function(t){return new(t||e)(Sr(Ha),Sr(rc))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),zd=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return u(n,[{key:"create",value:function(e,t){return new Qd(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){s(this,e)}}()),Qd=function(){function e(t,n,r,i){s(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return u(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kd(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function Kd(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Gd="@.disabled",Zd=function(){var e=function(){function e(t,n,r){s(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return u(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new $d("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);return t.data.animation.forEach(function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,s,e,r.name,r)}),new Yd(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,n,r){var i=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return n(r)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(e){var n=t(e,2);(0,n[0])(n[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(Ha),Sr(Ed),Sr(Tl))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),$d=function(){function e(t,n,r){s(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return u(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&t==Gd?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),Yd=function(e){l(r,e);var n=h(r);function r(e,t,i,o){var a;return s(this,r),(a=n.call(this,t,i,o)).factory=e,a.namespaceId=t,a}return u(r,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Gd?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,n,r){var i=this;if("@"==n.charAt(0)){var o,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),a=n.substr(1),u="";return"@"!=a.charAt(0)&&(a=(o=t(function(e){var t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(a),2))[0],u=o[1]),this.engine.listen(this.namespaceId,s,a,u,function(e){i.factory.scheduleListenerCallback(e._data||-1,r,e)})}return this.delegate.listen(e,n,r)}}]),r}($d),Jd=function(){var e=function(e){l(n,e);var t=h(n);function n(e,r,i){return s(this,n),t.call(this,e.body,r,i)}return u(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(Ed);return e.\u0275fac=function(t){return new(t||e)(Sr(rc),Sr(Kh),Sr(Wf))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Xd=new rr("AnimationModuleType"),ep=[{provide:dh,useClass:Wd},{provide:Wf,useFactory:function(){return new zf}},{provide:Ed,useClass:Jd},{provide:Ha,useFactory:function(e,t,n){return new Zd(e,t,n)},deps:[eh,Ed,Tl]}],tp=[{provide:Kh,useFactory:function(){return"function"==typeof Hd()?new qd:new Ud}},{provide:Xd,useValue:"BrowserAnimations"}].concat(ep),np=[{provide:Kh,useClass:Qh},{provide:Xd,useValue:"NoopAnimations"}].concat(ep),rp=function(){var e=function(){function e(){s(this,e)}return u(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:t.disableAnimations?np:tp}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({providers:tp,imports:[fh]}),e}(),ip=function(){var e=function(){function e(){s(this,e)}return u(e,null,[{key:"addClass",value:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t}},{key:"addMultipleClasses",value:function(e,t){if(e.classList)for(var n=t.trim().split(" "),r=0;r<n.length;r++)e.classList.add(n[r]);else for(var i=t.split(" "),o=0;o<i.length;o++)e.className+=" "+i[o]}},{key:"removeClass",value:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"hasClass",value:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}},{key:"siblings",value:function(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})}},{key:"find",value:function(e,t){return Array.from(e.querySelectorAll(t))}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"index",value:function(e){for(var t=e.parentNode.childNodes,n=0,r=0;r<t.length;r++){if(t[r]==e)return n;1==t[r].nodeType&&n++}return-1}},{key:"indexWithinGroup",value:function(e,t){for(var n=e.parentNode?e.parentNode.childNodes:[],r=0,i=0;i<n.length;i++){if(n[i]==e)return r;n[i].attributes&&n[i].attributes[t]&&1==n[i].nodeType&&r++}return-1}},{key:"relativePosition",value:function(e,t){var n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=t.offsetHeight,s=t.getBoundingClientRect(),a=this.getViewport();s.top+o+i.height>a.height?(n=-1*i.height,e.style.transformOrigin="bottom",s.top+n<0&&(n=-1*s.top)):(n=o,e.style.transformOrigin="top"),r=i.width>a.width?-1*s.left:s.left+i.width>a.width?-1*(s.left+i.width-a.width):0,e.style.top=n+"px",e.style.left=r+"px"}},{key:"absolutePosition",value:function(e,t){var n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=i.height,s=i.width,a=t.offsetHeight,u=t.offsetWidth,l=t.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();l.top+a+o>f.height?(n=l.top+c-o,e.style.transformOrigin="bottom",n<0&&(n=c)):(n=a+l.top+c,e.style.transformOrigin="top"),r=l.left+s>f.width?Math.max(0,l.left+h+u-s):l.left+h,e.style.top=n+"px",e.style.left=r+"px"}},{key:"getParents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===e.parentNode?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}},{key:"getScrollableParents",value:function(e){var t=[];if(e){var n,r=this.getParents(e),i=/(auto|scroll)/,s=function(e){var t=window.getComputedStyle(e,null);return i.test(t.getPropertyValue("overflow"))||i.test(t.getPropertyValue("overflowX"))||i.test(t.getPropertyValue("overflowY"))},a=o(r);try{for(a.s();!(n=a.n()).done;){var u=n.value,l=1===u.nodeType&&u.dataset.scrollselectors;if(l){var c,h=o(l.split(","));try{for(h.s();!(c=h.n()).done;){var f=c.value,d=this.findSingle(u,f);d&&s(d)&&t.push(d)}}catch(p){h.e(p)}finally{h.f()}}9!==u.nodeType&&s(u)&&t.push(u)}}catch(p){a.e(p)}finally{a.f()}}return t}},{key:"getHiddenElementOuterHeight",value:function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}},{key:"getHiddenElementOuterWidth",value:function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}},{key:"scrollInView",value:function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,u=e.scrollTop,l=e.clientHeight,c=this.getOuterHeight(t);a<0?e.scrollTop=u+a:a+c>l&&(e.scrollTop=u+a-l+c)}},{key:"fadeIn",value:function(e,t){e.style.opacity=0;var n=+new Date,r=0;!function i(){r=+e.style.opacity.replace(",",".")+((new Date).getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}},{key:"fadeOut",value:function(e,t){var n=1,r=50/t,i=setInterval(function(){(n-=r)<=0&&(n=0,clearInterval(i)),e.style.opacity=n},50)}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"matches",value:function(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)}},{key:"getOuterWidth",value:function(e,t){var n=e.offsetWidth;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}},{key:"getHorizontalPadding",value:function(e){var t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}},{key:"getHorizontalMargin",value:function(e){var t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}},{key:"innerWidth",value:function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}},{key:"width",value:function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}},{key:"getInnerHeight",value:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)}},{key:"getOuterHeight",value:function(e,t){var n=e.offsetHeight;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}},{key:"getHeight",value:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)}},{key:"getWidth",value:function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}},{key:"getViewport",value:function(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||r.clientWidth,height:e.innerHeight||n.clientHeight||r.clientHeight}}},{key:"getOffset",value:function(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}},{key:"replaceElementWith",value:function(e,t){var n=e.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(t,e)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIE",value:function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot append "+t+" to "+e;t.el.nativeElement.appendChild(e)}}},{key:"removeChild",value:function(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot remove "+e+" from "+t;t.el.nativeElement.removeChild(e)}}},{key:"removeElement",value:function(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}},{key:"isElement",value:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var r=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=r,r}},{key:"calculateScrollbarHeight",value:function(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;var e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);var t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}},{key:"getBrowser",value:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}},{key:"isInteger",value:function(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},{key:"isHidden",value:function(e){return null===e.offsetParent}},{key:"getFocusableElements",value:function(t){var n,r=[],i=o(e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'));try{for(i.s();!(n=i.n()).done;){var s=n.value;"none"!=getComputedStyle(s).display&&"hidden"!=getComputedStyle(s).visibility&&r.push(s)}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}}]),e}();return e.zindex=1e3,e.calculatedScrollbarWidth=null,e.calculatedScrollbarHeight=null,e}(),op=["*"],sp=function(){var e=function e(){s(this,e)};return e.STARTS_WITH="startsWith",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.ENDS_WITH="endsWith",e.EQUALS="equals",e.NOT_EQUALS="notEquals",e.IN="in",e.LESS_THAN="lt",e.LESS_THAN_OR_EQUAL_TO="lte",e.GREATER_THAN="gt",e.GREATER_THAN_OR_EQUAL_TO="gte",e.BETWEEN="between",e.IS="is",e.IS_NOT="isNot",e.BEFORE="before",e.AFTER="after",e.DATE_IS="dateIs",e.DATE_IS_NOT="dateIsNot",e.DATE_BEFORE="dateBefore",e.DATE_AFTER="dateAfter",e}(),ap=function(){var e=function(){function e(){s(this,e),this.ripple=!1,this.filterMatchModeOptions={text:[sp.STARTS_WITH,sp.CONTAINS,sp.NOT_CONTAINS,sp.ENDS_WITH,sp.EQUALS,sp.NOT_EQUALS],numeric:[sp.EQUALS,sp.NOT_EQUALS,sp.LESS_THAN,sp.LESS_THAN_OR_EQUAL_TO,sp.GREATER_THAN,sp.GREATER_THAN_OR_EQUAL_TO],date:[sp.DATE_IS,sp.DATE_IS_NOT,sp.DATE_BEFORE,sp.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new F,this.translationObserver=this.translationSource.asObservable()}return u(e,[{key:"getTranslation",value:function(e){return this.translation[e]}},{key:"setTranslation",value:function(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),up=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=rt({type:e,selectors:[["p-header"]],ngContentSelectors:op,decls:1,vars:0,template:function(e,t){1&e&&(Zs(),$s(0))},encapsulation:2}),e}(),lp=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=rt({type:e,selectors:[["p-footer"]],ngContentSelectors:op,decls:1,vars:0,template:function(e,t){1&e&&(Zs(),$s(0))},encapsulation:2}),e}(),cp=function(){var e=function(){function e(t){s(this,e),this.template=t}return u(e,[{key:"getType",value:function(){return this.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(gu))},e.\u0275dir=lt({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),e}(),hp=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({imports:[[Nc]]}),e}(),fp=function(){var e=function(){function e(t,n,r){s(this,e),this.el=t,this.zone=n,this.config=r}return u(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.config&&this.config.ripple&&this.zone.runOutsideAngular(function(){e.create(),e.mouseDownListener=e.onMouseDown.bind(e),e.el.nativeElement.addEventListener("mousedown",e.mouseDownListener)})}},{key:"onMouseDown",value:function(e){var t=this.getInk();if(t&&"none"!==getComputedStyle(t,null).display){if(ip.removeClass(t,"p-ink-active"),!ip.getHeight(t)&&!ip.getWidth(t)){var n=Math.max(ip.getOuterWidth(this.el.nativeElement),ip.getOuterHeight(this.el.nativeElement));t.style.height=n+"px",t.style.width=n+"px"}var r=ip.getOffset(this.el.nativeElement),i=e.pageX-r.left+document.body.scrollTop-ip.getWidth(t)/2,o=e.pageY-r.top+document.body.scrollLeft-ip.getHeight(t)/2;t.style.top=o+"px",t.style.left=i+"px",ip.addClass(t,"p-ink-active")}}},{key:"getInk",value:function(){for(var e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}},{key:"resetInk",value:function(){var e=this.getInk();e&&ip.removeClass(e,"p-ink-active")}},{key:"onAnimationEnd",value:function(e){ip.removeClass(e.currentTarget,"p-ink-active")}},{key:"create",value:function(){var e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}},{key:"remove",value:function(){var e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),ip.removeElement(e))}},{key:"ngOnDestroy",value:function(){this.config&&this.config.ripple&&this.remove()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Ba),Ps(Tl),Ps(ap,8))},e.\u0275dir=lt({type:e,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),e}(),dp=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({imports:[[Nc]]}),e}(),pp=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({imports:[[Nc,dp]]}),e}(),vp=function(){var e=[],t=function(e){return e&&parseInt(e.style.zIndex,10)||0};return{get:t,set:function(t,n,r){n&&(n.style.zIndex=String(function(t,n){var r=e.length>0?e[e.length-1]:{key:t,value:n},i=r.value+(r.key===t?0:n)+1;return e.push({key:t,value:i}),i}(t,r)))},clear:function(n){n&&(function(t){e=e.filter(function(e){return e.value!==t})}(t(n)),n.style.zIndex="")},getCurrent:function(){return e.length>0?e[e.length-1].value:0}}}(),yp=["mask"];function gp(e,t){if(1&e){var n=Bs();Ls(0,"button",12),Ws("click",function(){return zt(n),Ks(3).hide()})("keydown.enter",function(){return zt(n),Ks(3).hide()}),Ds(1,"span",13),js()}2&e&&Ns("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function mp(e,t){if(1&e&&(Ls(0,"div",8),Ls(1,"span",9),ya(2),js(),Ls(3,"div",10),Rs(4,gp,2,1,"button",11),js(),js()),2&e){var n=Ks(2);oo(2),ga(n.config.header),oo(2),Ns("ngIf",!1!==n.config.closable)}}function _p(e,t){}function bp(e,t){if(1&e&&(Ls(0,"div",14),ya(1),js()),2&e){var n=Ks(2);oo(1),ma(" ",n.config.footer," ")}}var wp=function(e){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":e}},kp=function(e,t){return{transform:e,transition:t}},Sp=function(e){return{value:"visible",params:e}};function Ep(e,t){if(1&e){var n=Bs();Ls(0,"div",3),Ws("@animation.start",function(e){return zt(n),Ks().onAnimationStart(e)})("@animation.done",function(e){return zt(n),Ks().onAnimationEnd(e)}),Rs(1,mp,5,2,"div",4),Ls(2,"div",5),Rs(3,_p,0,0,"ng-template",6),js(),Rs(4,bp,2,1,"div",7),js()}if(2&e){var r=Ks();oa(r.config.styleClass),ra("width",r.config.width)("height",r.config.height),Ns("ngClass",Du(12,wp,r.config.rtl))("ngStyle",r.config.style)("@animation",Du(17,Sp,function(e,t,n,r,i){return function(e,t,n,r,i,o,s){var a=t+n;return Os(e,a,i,o)?xs(e,a+2,s?r.call(s,i,o):r(i,o)):Fu(e,a+2)}(Ht(),Xt(),e,t,n,r,i)}(14,kp,r.transformOptions,r.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),oo(1),Ns("ngIf",!1!==r.config.showHeader),oo(1),Ns("ngStyle",r.config.contentStyle),oo(2),Ns("ngIf",r.config.footer)}}var Cp=function(e){return{"p-dialog-mask":!0,"p-component-overlay p-dialog-mask-scrollblocker":e}},Tp=function(){var e=function e(t){s(this,e),this.viewContainerRef=t};return e.\u0275fac=function(t){return new(t||e)(Ps(Su))},e.\u0275dir=lt({type:e,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]}),e}(),xp=function e(){s(this,e)},Ap=function(){function e(){s(this,e),this._onClose=new F,this.onClose=this._onClose.asObservable(),this._onDestroy=new F,this.onDestroy=this._onDestroy.asObservable()}return u(e,[{key:"close",value:function(e){this._onClose.next(e)}},{key:"destroy",value:function(){this._onDestroy.next()}}]),e}(),Op=wh([mh({transform:"{{transform}}",opacity:0}),yh("{{transition}}",mh({transform:"none",opacity:1}))]),Ip=wh([yh("{{transition}}",mh({transform:"{{transform}}",opacity:0}))]),Rp=function(){var e=function(){function e(t,n,r,i,o,a,u){s(this,e),this.componentFactoryResolver=t,this.cd=n,this.renderer=r,this.config=i,this.dialogRef=o,this.zone=a,this.primeNGConfig=u,this.visible=!0,this.transformOptions="scale(0.7)"}return u(e,[{key:"ngAfterViewInit",value:function(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}},{key:"loadChildComponent",value:function(e){var t=this.componentFactoryResolver.resolveComponentFactory(e),n=this.insertionPoint.viewContainerRef;n.clear(),this.componentRef=n.createComponent(t)}},{key:"moveOnTop",value:function(){!1!==this.config.autoZIndex&&(vp.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}},{key:"onAnimationStart",value:function(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.onContainerDestroy()}}},{key:"onAnimationEnd",value:function(e){"void"===e.toState&&this.dialogRef.destroy()}},{key:"onContainerDestroy",value:function(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&vp.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}},{key:"close",value:function(){this.visible=!1,this.cd.markForCheck()}},{key:"hide",value:function(){this.dialogRef&&this.dialogRef.close()}},{key:"enableModality",value:function(){var e=this;!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",function(t){e.wrapper&&e.wrapper.isSameNode(t.target)&&e.hide()})),!1!==this.config.modal&&ip.addClass(document.body,"p-overflow-hidden")}},{key:"disableModality",value:function(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&ip.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}},{key:"onKeydown",value:function(e){if(9===e.which){e.preventDefault();var t=ip.getFocusableElements(this.container);if(t&&t.length>0)if(t[0].ownerDocument.activeElement){var n=t.indexOf(t[0].ownerDocument.activeElement);e.shiftKey?-1==n||0===n?t[t.length-1].focus():t[n-1].focus():-1==n||n===t.length-1?t[0].focus():t[n+1].focus()}else t[0].focus()}}},{key:"focus",value:function(){var e=ip.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(function(){setTimeout(function(){return e.focus()},5)})}},{key:"bindGlobalListeners",value:function(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener()}},{key:"unbindGlobalListeners",value:function(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener()}},{key:"bindDocumentKeydownListener",value:function(){var e=this;this.zone.runOutsideAngular(function(){e.documentKeydownListener=e.onKeydown.bind(e),window.document.addEventListener("keydown",e.documentKeydownListener)})}},{key:"unbindDocumentKeydownListener",value:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}},{key:"bindDocumentEscapeListener",value:function(){var e=this;this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",function(t){27==t.which&&parseInt(e.container.style.zIndex)==ip.zindex+(e.config.baseZIndex?e.config.baseZIndex:0)&&e.hide()})}},{key:"unbindDocumentEscapeListener",value:function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"ngOnDestroy",value:function(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Da),Ps(fu),Ps(Wa),Ps(xp),Ps(Ap),Ps(Tl),Ps(ap))},e.\u0275cmp=rt({type:e,selectors:[["p-dynamicDialog"]],viewQuery:function(e,t){var n;(1&e&&(Xu(Tp,5),Xu(yp,5)),2&e)&&(Ju(n=tl())&&(t.insertionPoint=n.first),Ju(n=tl())&&(t.maskViewChild=n.first))},hostAttrs:[1,"p-element"],decls:3,vars:4,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(e,t){1&e&&(Ls(0,"div",0,1),Rs(2,Ep,5,19,"div",2),js()),2&e&&(Ns("ngClass",Du(2,Cp,!1!==t.config.modal)),oo(2),Ns("ngIf",t.visible))},directives:function(){return[Ec,Ac,Rc,Tp]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[vh("animation",[bh("void => visible",[kh(Op)]),bh("visible => void",[kh(Ip)])])]}}),e}(),Pp=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({imports:[[Nc]]}),e}(),Np=function(){function e(t,n){s(this,e),this._parentInjector=t,this._additionalTokens=n}return u(e,[{key:"get",value:function(e,t,n){return this._additionalTokens.get(e)||this._parentInjector.get(e,t)}}]),e}(),Mp=function(){var e=function(){function e(t,n,r){s(this,e),this.componentFactoryResolver=t,this.appRef=n,this.injector=r,this.dialogComponentRefMap=new Map}return u(e,[{key:"open",value:function(e,t){var n=this.appendDialogComponentToBody(t);return this.dialogComponentRefMap.get(n).instance.childComponentType=e,n}},{key:"appendDialogComponentToBody",value:function(e){var t=this,n=new WeakMap;n.set(xp,e);var r=new Ap;n.set(Ap,r);var i=r.onClose.subscribe(function(){t.dialogComponentRefMap.get(r).instance.close()}),o=r.onDestroy.subscribe(function(){t.removeDialogComponentFromBody(r),o.unsubscribe(),i.unsubscribe()}),s=this.componentFactoryResolver.resolveComponentFactory(Rp).create(new Np(this.injector,n));return this.appRef.attachView(s.hostView),document.body.appendChild(s.hostView.rootNodes[0]),this.dialogComponentRefMap.set(r,s),r}},{key:"removeDialogComponentFromBody",value:function(e){if(e&&this.dialogComponentRefMap.has(e)){var t=this.dialogComponentRefMap.get(e);this.appRef.detachView(t.hostView),t.destroy(),this.dialogComponentRefMap.delete(e)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(Da),Sr(zl),Sr(ys))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}();function Lp(e,t){return new N(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=$(e[a]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,s++),i[a]=e},error:function(e){return n.error(e)},complete:function(){(++o===r||!l)&&(s===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()})}var jp=function(){var e=function(){function e(t,n){s(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return u(e,[{key:"setProperty",value:function(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"setDisabledState",value:function(e){this.setProperty("disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Wa),Ps(Ba))},e.\u0275dir=lt({type:e}),e}(),Dp=function(){var e,t=function(e){l(n,e);var t=h(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(jp);return t.\u0275fac=function(n){return(e||(e=Jn(t)))(n||t)},t.\u0275dir=lt({type:t,features:[ms]}),t}(),Fp=new rr("NgValueAccessor"),Vp={provide:Fp,useExisting:be(function(){return Bp}),multi:!0},Up=new rr("CompositionEventMode"),Bp=function(){var e=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e,r))._compositionMode=i,o._composing=!1,null==o._compositionMode&&(o._compositionMode=!function(){var e=nc()?nc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),o}return u(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),n}(jp);return e.\u0275fac=function(t){return new(t||e)(Ps(Wa),Ps(Ba),Ps(Up,8))},e.\u0275dir=lt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Ws("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[Ma([Vp]),ms]}),e}(),qp=new rr("NgValidators"),Hp=new rr("NgAsyncValidators");function Wp(e){return null!=e}function zp(e){var t=qs(e)?$(e):e;return Hs(t),t}function Qp(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Kp(e,t){return t.map(function(t){return t(e)})}function Gp(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function Zp(e){return null!=e?function(e){if(!e)return null;var t=e.filter(Wp);return 0==t.length?null:function(e){return Qp(Kp(e,t))}}(Gp(e)):null}function $p(e){return null!=e?function(e){if(!e)return null;var t=e.filter(Wp);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(k(r))return Lp(r,null);if(S(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Lp(i.map(function(e){return r[e]}),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Lp(t=1===t.length&&k(t[0])?t[0]:t,null).pipe(B(function(e){return o.apply(void 0,y(e))}))}return Lp(t,null)}(Kp(e,t).map(zp)).pipe(B(Qp))}}(Gp(e)):null}function Yp(e,t){return null===e?[t]:Array.isArray(e)?[].concat(y(e),[t]):[e,t]}function Jp(e){return e?Array.isArray(e)?e:[e]:[]}function Xp(e,t){return Array.isArray(e)?e.includes(t):e===t}function ev(e,t){var n=Jp(t);return Jp(e).forEach(function(e){Xp(n,e)||n.push(e)}),n}function tv(e,t){return Jp(t).filter(function(t){return!Xp(e,t)})}var nv=function(){var e=function(){function e(){s(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return u(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=Zp(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$p(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=lt({type:e}),e}(),rv=function(){var e,t=function(e){l(n,e);var t=h(n);function n(){return s(this,n),t.apply(this,arguments)}return u(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(nv);return t.\u0275fac=function(n){return(e||(e=Jn(t)))(n||t)},t.\u0275dir=lt({type:t,features:[ms]}),t}(),iv=function(e){l(n,e);var t=h(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(nv),ov=function(){var e=function(e){l(n,e);var t=h(n);function n(e){return s(this,n),t.call(this,e)}return n}(function(){function e(t){s(this,e),this._cd=t}return u(e,[{key:"is",value:function(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}]),e}());return e.\u0275fac=function(t){return new(t||e)(Ps(iv,2))},e.\u0275dir=lt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&ia("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[ms]}),e}();function sv(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function av(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function uv(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var lv="VALID",cv="INVALID",hv="PENDING",fv="DISABLED";function dv(e){return(gv(e)?e.validators:e)||null}function pv(e){return Array.isArray(e)?Zp(e):e||null}function vv(e,t){return(gv(t)?t.asyncValidators:e)||null}function yv(e){return Array.isArray(e)?$p(e):e||null}function gv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var mv=function(){function e(t,n){s(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=pv(this._rawValidators),this._composedAsyncValidatorFn=yv(this._rawAsyncValidators)}return u(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===lv}},{key:"invalid",get:function(){return this.status===cv}},{key:"pending",get:function(){return this.status==hv}},{key:"disabled",get:function(){return this.status===fv}},{key:"enabled",get:function(){return this.status!==fv}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=pv(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=yv(e)}},{key:"addValidators",value:function(e){this.setValidators(ev(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(ev(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators(tv(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators(tv(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return Xp(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return Xp(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=hv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=fv,this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=lv,this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lv||this.status===hv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?fv:lv}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status=hv,this._hasOwnPendingAsyncValidator=!0;var n=zp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;var r=e;return t.forEach(function(e){r=r instanceof bv?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof wv&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new Uu,this.statusChanges=new Uu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?fv:this.errors?cv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hv)?hv:this._anyControlsHaveStatus(cv)?cv:lv}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){gv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),_v=function(e){l(n,e);var t=h(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return s(this,n),(e=t.call(this,dv(i),vv(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!e.asyncValidator}),e}return u(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){uv(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){uv(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(mv),bv=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,dv(r),vv(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return u(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof _v?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(mv),wv=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,dv(r),vv(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return u(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof _v?e.value:e.getRawValue()})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=o(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(mv),kv={provide:iv,useExisting:be(function(){return Ev})},Sv=Promise.resolve(null),Ev=function(){var e=function(e){l(n,e);var t=h(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this)).control=new _v,a._registered=!1,a.update=new Uu,a._parent=e,a._setValidators(r),a._setAsyncValidators(i),a.valueAccessor=function(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===Bp?n=e:function(e){return Object.getPrototypeOf(e.constructor)===Dp}(e)?r=e:i=e}),i||r||n||null):null;var n,r,i}(0,o),a}return u(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?function(e,t){return[].concat(y(t.path),[e])}(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){(function(e,t){(function(e,t){var n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Yp(n,t.validator)):"function"==typeof n&&e.setValidators([n]);var r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Yp(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};sv(t._rawValidators,i),sv(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&av(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&av(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)})(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;Sv.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;Sv.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})}}]),n}(iv);return e.\u0275fac=function(t){return new(t||e)(Ps(rv,9),Ps(qp,10),Ps(Hp,10),Ps(Fp,10))},e.\u0275dir=lt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ma([kv]),ms,wt]}),e}(),Cv=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({}),e}(),Tv=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({imports:[[Cv]]}),e}(),xv=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({imports:[Tv]}),e}(),Av=function(){var e=function(){function e(t,n,r){s(this,e),this.el=t,this.ngModel=n,this.cd=r}return u(e,[{key:"ngAfterViewInit",value:function(){this.updateFilledState(),this.cd.detectChanges()}},{key:"ngDoCheck",value:function(){this.updateFilledState()}},{key:"onInput",value:function(e){this.updateFilledState()}},{key:"updateFilledState",value:function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Ba),Ps(Ev,8),Ps(fu))},e.\u0275dir=lt({type:e,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,t){1&e&&Ws("input",function(e){return t.onInput(e)}),2&e&&ia("p-filled",t.filled)}}),e}(),Ov=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({imports:[[Nc]]}),e}();function Iv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return U(r)?(t.pop(),Z(t,r)):ie(t)}var Rv=function(e){l(n,e);var t=h(n);function n(e){var r;return s(this,n),(r=t.call(this))._value=e,r}return u(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=i(v(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new L;return this._value}},{key:"next",value:function(e){i(v(n.prototype),"next",this).call(this,this._value=e)}}]),n}(F),Pv=function(e){l(n,e);var t=h(n);function n(){return s(this,n),t.apply(this,arguments)}return u(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(O),Nv=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return u(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(O);function Mv(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Nv(e,n,r);if(!i.closed)return t instanceof N?t.subscribe(i):G(t)(i)}var Lv={},jv=function(){function e(t){s(this,e),this.resultSelector=t}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new Dv(e,this.resultSelector))}}]),e}(),Dv=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return u(n,[{key:"_next",value:function(e){this.values.push(Lv),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(Mv(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===Lv?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(Pv),Fv=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function Vv(){return re(1)(Iv.apply(void 0,arguments))}var Uv=new N(function(e){return e.complete()});function Bv(e){return e?function(e){return new N(function(t){return e.schedule(function(){return t.complete()})})}(e):Uv}function qv(e){return new N(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?$(n):Bv()).subscribe(t)})}function Hv(e,t){return"function"==typeof t?function(n){return n.pipe(Hv(function(n,r){return $(e(n,r)).pipe(B(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new Wv(e))}}var Wv=function(){function e(t){s(this,e),this.project=t}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new zv(e,this.project))}}]),e}(),zv=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return u(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new Y(this),r=this.destination;r.add(n),this.innerSubscription=X(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;(!e||e.closed)&&i(v(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&i(v(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(J),Qv=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Kv(e){return function(t){return 0===e?Bv():t.lift(new Gv(e))}}var Gv=function(){function e(t){if(s(this,e),this.total=t,this.total<0)throw new Qv}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new Zv(e,this.total))}}]),e}(),Zv=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return u(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(O);function $v(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Yv(e,t,n))}}var Yv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new Jv(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Jv=function(e){l(n,e);var t=h(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return u(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(O);function Xv(e,t){return function(n){return n.lift(new ey(e,t))}}var ey=function(){function e(t,n){s(this,e),this.predicate=t,this.thisArg=n}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new ty(e,this.predicate,this.thisArg))}}]),e}(),ty=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return u(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(O);function ny(e){return function(t){var n=new ry(e),r=t.lift(n);return n.caught=r}}var ry=function(){function e(t){s(this,e),this.selector=t}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new iy(e,this.selector,this.caught))}}]),e}(),iy=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return u(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void i(v(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var r=new Y(this);this.add(r);var o=X(t,r);o!==r&&this.add(o)}}}]),n}(J);function oy(e,t){return ee(e,t,1)}function sy(e){return function(t){return 0===e?Bv():t.lift(new ay(e))}}var ay=function(){function e(t){if(s(this,e),this.total=t,this.total<0)throw new Qv}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new uy(e,this.total))}}]),e}(),uy=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return u(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(O);function ly(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fy;return function(t){return t.lift(new cy(e))}}var cy=function(){function e(t){s(this,e),this.errorFactory=t}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new hy(e,this.errorFactory))}}]),e}(),hy=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return u(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(O);function fy(){return new Fv}function dy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new py(e))}}var py=function(){function e(t){s(this,e),this.defaultValue=t}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new vy(e,this.defaultValue))}}]),e}(),vy=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return u(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(O);function yy(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Xv(function(t,n){return e(t,n,r)}):P,Kv(1),n?dy(t):ly(function(){return new Fv}))}}function gy(){}function my(e,t,n){return function(r){return r.lift(new _y(e,t,n))}}var _y=function(){function e(t,n,r){s(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new by(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),by=function(e){l(n,e);var t=h(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e))._tapNext=gy,a._tapError=gy,a._tapComplete=gy,a._tapError=i||gy,a._tapComplete=o||gy,g(r)?(a._context=d(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||gy,a._tapError=r.error||gy,a._tapComplete=r.complete||gy),a}return u(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(O),wy=function(){function e(t){s(this,e),this.callback=t}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new ky(e,this.callback))}}]),e}(),ky=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).add(new T(r)),i}return n}(O),Sy=function e(t,n){s(this,e),this.id=t,this.url=n},Ey=function(e){l(n,e);var t=h(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return s(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return u(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Sy),Cy=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return u(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Sy),Ty=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e,r)).reason=i,o}return u(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Sy),xy=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e,r)).error=i,o}return u(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Sy),Ay=function(e){l(n,e);var t=h(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return u(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Sy),Oy=function(e){l(n,e);var t=h(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return u(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Sy),Iy=function(e){l(n,e);var t=h(n);function n(e,r,i,o,a){var u;return s(this,n),(u=t.call(this,e,r)).urlAfterRedirects=i,u.state=o,u.shouldActivate=a,u}return u(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Sy),Ry=function(e){l(n,e);var t=h(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return u(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Sy),Py=function(e){l(n,e);var t=h(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return u(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Sy),Ny=function(){function e(t){s(this,e),this.route=t}return u(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),My=function(){function e(t){s(this,e),this.route=t}return u(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Ly=function(){function e(t){s(this,e),this.snapshot=t}return u(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),jy=function(){function e(t){s(this,e),this.snapshot=t}return u(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Dy=function(){function e(t){s(this,e),this.snapshot=t}return u(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Fy=function(){function e(t){s(this,e),this.snapshot=t}return u(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Vy=function(){function e(t,n,r){s(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return u(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Uy="primary",By=function(){function e(t){s(this,e),this.params=t||{}}return u(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function qy(e){return new By(e)}var Hy="ngNavigationCancelingError";function Wy(e){var t=Error("NavigationCancelingError: "+e);return t[Hy]=!0,t}function zy(e,t,n){var r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Qy(e,t){var n,r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Ky(e[n=r[o]],t[n]))return!1;return!0}function Ky(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=y(e).sort(),r=y(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function Gy(e){return Array.prototype.concat.apply([],e)}function Zy(e){return e.length>0?e[e.length-1]:null}function $y(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Yy(e){return Hs(e)?e:qs(e)?$(Promise.resolve(e)):Iv(e)}var Jy={exact:function e(t,n,r){if(!ag(t.segments,n.segments)||!rg(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children)if(!t.children[i]||!e(t.children[i],n.children[i],r))return!1;return!0},subset:tg},Xy={exact:function(e,t){return Qy(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return Ky(e[n],t[n])})},ignored:function(){return!0}};function eg(e,t,n){return Jy[n.paths](e.root,t.root,n.matrixParams)&&Xy[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function tg(e,t,n){return ng(e,t,t.segments,n)}function ng(e,t,n,r){if(e.segments.length>n.length){var i=e.segments.slice(0,n.length);return!(!ag(i,n)||t.hasChildren()||!rg(i,n,r))}if(e.segments.length===n.length){if(!ag(e.segments,n)||!rg(e.segments,n,r))return!1;for(var o in t.children)if(!e.children[o]||!tg(e.children[o],t.children[o],r))return!1;return!0}var s=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!(ag(e.segments,s)&&rg(e.segments,s,r)&&e.children[Uy])&&ng(e.children[Uy],t,a,r)}function rg(e,t,n){return t.every(function(t,r){return Xy[n](e[r].parameters,t.parameters)})}var ig=function(){function e(t,n,r){s(this,e),this.root=t,this.queryParams=n,this.fragment=r}return u(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=qy(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return cg.serialize(this)}}]),e}(),og=function(){function e(t,n){var r=this;s(this,e),this.segments=t,this.children=n,this.parent=null,$y(n,function(e,t){return e.parent=r})}return u(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return hg(this)}}]),e}(),sg=function(){function e(t,n){s(this,e),this.path=t,this.parameters=n}return u(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=qy(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return mg(this)}}]),e}();function ag(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var ug=function e(){s(this,e)},lg=function(){function e(){s(this,e)}return u(e,[{key:"parse",value:function(e){var t=new Sg(e);return new ig(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/".concat(fg(e.root,!0)),function(e){var t=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(pg(t),"=").concat(pg(e))}).join("&"):"".concat(pg(t),"=").concat(pg(n))}).filter(function(e){return!!e});return t.length?"?".concat(t.join("&")):""}(e.queryParams)).concat("string"==typeof e.fragment?"#".concat(function(e){return encodeURI(e)}(e.fragment)):"")}}]),e}(),cg=new lg;function hg(e){return e.segments.map(function(e){return mg(e)}).join("/")}function fg(e,t){if(!e.hasChildren())return hg(e);if(t){var n=e.children[Uy]?fg(e.children[Uy],!1):"",r=[];return $y(e.children,function(e,t){t!==Uy&&r.push("".concat(t,":").concat(fg(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return $y(e.children,function(e,r){r===Uy&&(n=n.concat(t(e,r)))}),$y(e.children,function(e,r){r!==Uy&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return n===Uy?[fg(e.children[Uy],!1)]:["".concat(n,":").concat(fg(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children[Uy]?"".concat(hg(e),"/").concat(i[0]):"".concat(hg(e),"/(").concat(i.join("//"),")")}function dg(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pg(e){return dg(e).replace(/%3B/gi,";")}function vg(e){return dg(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yg(e){return decodeURIComponent(e)}function gg(e){return yg(e.replace(/\+/g,"%20"))}function mg(e){return"".concat(vg(e.path)).concat(function(e){return Object.keys(e).map(function(t){return";".concat(vg(t),"=").concat(vg(e[t]))}).join("")}(e.parameters))}var _g=/^[^\/()?;=#]+/;function bg(e){var t=e.match(_g);return t?t[0]:""}var wg=/^[^=?&#]+/,kg=/^[^?&#]+/,Sg=function(){function e(t){s(this,e),this.url=t,this.remaining=t}return u(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new og([],{}):new og([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Uy]=new og(e,t)),n}},{key:"parseSegment",value:function(){var e=bg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new sg(yg(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=bg(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=bg(this.remaining);r&&(n=r,this.capture(n))}e[yg(t)]=yg(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(wg);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(kg);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=gg(t),o=gg(n);if(e.hasOwnProperty(i)){var s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=bg(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Uy);var o=this.parseChildren();t[i]=1===Object.keys(o).length?o[Uy]:new og([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Eg=function(){function e(t){s(this,e),this._root=t}return u(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Cg(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=Cg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Tg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return Tg(e,this._root).map(function(e){return e.value})}}]),e}();function Cg(e,t){if(e===t.value)return t;var n,r=o(t.children);try{for(r.s();!(n=r.n()).done;){var i=Cg(e,n.value);if(i)return i}}catch(s){r.e(s)}finally{r.f()}return null}function Tg(e,t){if(e===t.value)return[t];var n,r=o(t.children);try{for(r.s();!(n=r.n()).done;){var i=Tg(e,n.value);if(i.length)return i.unshift(t),i}}catch(s){r.e(s)}finally{r.f()}return[]}var xg=function(){function e(t,n){s(this,e),this.value=t,this.children=n}return u(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Ag(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var Og=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).snapshot=r,Lg(d(i),e),i}return u(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Eg);function Ig(e,t){var n=function(e,t){var n=new Ng([],{},{},"",{},Uy,t,null,e.root,-1,{});return new Mg("",new xg(n,[]))}(e,t),r=new Rv([new sg("",{})]),i=new Rv({}),o=new Rv({}),s=new Rv({}),a=new Rv(""),u=new Rg(r,i,s,a,o,Uy,t,n.root);return u.snapshot=n.root,new Og(new xg(u,[]),n)}var Rg=function(){function e(t,n,r,i,o,a,u,l){s(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=u,this._futureSnapshot=l}return u(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(B(function(e){return qy(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(function(e){return qy(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function Pg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Ng=function(){function e(t,n,r,i,o,a,u,l,c,h,f){s(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=u,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=h,this._resolve=f}return u(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=qy(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=qy(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),Mg=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,r)).url=e,Lg(d(i),r),i}return u(n,[{key:"toString",value:function(){return jg(this._root)}}]),n}(Eg);function Lg(e,t){t.value._routerState=e,t.children.forEach(function(t){return Lg(e,t)})}function jg(e){var t=e.children.length>0?" { ".concat(e.children.map(jg).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Dg(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Qy(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Qy(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Qy(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Qy(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Fg(e,t){return Qy(e.params,t.params)&&function(e,t){return ag(e,t)&&e.every(function(e,n){return Qy(e.parameters,t[n].parameters)})}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Fg(e.parent,t.parent))}function Vg(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var i=function(e,t,n){return t.children.map(function(t){var r,i=o(n.children);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(e.shouldReuseRoute(t.value,s.value.snapshot))return Vg(e,t,s)}}catch(a){i.e(a)}finally{i.f()}return Vg(e,t)})}(e,t,n);return new xg(r,i)}if(e.shouldAttach(t.value)){var s=e.retrieve(t.value);if(null!==s){var a=s.route;return Ug(t,a),a}}var u=function(e){return new Rg(new Rv(e.url),new Rv(e.params),new Rv(e.queryParams),new Rv(e.fragment),new Rv(e.data),e.outlet,e.component,e)}(t.value),l=t.children.map(function(t){return Vg(e,t)});return new xg(u,l)}function Ug(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)Ug(e.children[n],t.children[n])}function Bg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function qg(e){return"object"==typeof e&&null!=e&&e.outlets}function Hg(e,t,n,r,i){var o={};return r&&$y(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new ig(n.root===e?t:Wg(n.root,e,t),o,i)}function Wg(e,t,n){var r={};return $y(e.children,function(e,i){r[i]=e===t?n:Wg(e,t,n)}),new og(e.segments,r)}var zg=function(){function e(t,n,r){if(s(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Bg(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(qg);if(i&&i!==Zy(r))throw new Error("{outlets:{}} has to be the last command")}return u(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Qg=function e(t,n,r){s(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Kg(e,t,n){if(e||(e=new og([],{})),0===e.segments.length&&e.hasChildren())return Gg(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var s=e.segments[i],a=n[r];if(qg(a))break;var u="".concat(a),l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!Jg(u,l,s))return o;r+=2}else{if(!Jg(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new og(e.segments.slice(0,r.pathIndex),{});return o.children[Uy]=new og(e.segments.slice(r.pathIndex),e.children),Gg(o,0,i)}return r.match&&0===i.length?new og(e.segments,{}):r.match&&!e.hasChildren()?Zg(e,t,n):r.match?Gg(e,0,i):Zg(e,t,n)}function Gg(t,n,r){if(0===r.length)return new og(t.segments,{});var i=function(t){return qg(t[0])?t[0].outlets:e({},Uy,t)}(r),o={};return $y(i,function(e,r){"string"==typeof e&&(e=[e]),null!==e&&(o[r]=Kg(t.children[r],n,e))}),$y(t.children,function(e,t){void 0===i[t]&&(o[t]=e)}),new og(t.segments,o)}function Zg(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var o=n[i];if(qg(o)){var s=$g(o.outlets);return new og(r,s)}if(0===i&&Bg(n[0]))r.push(new sg(e.segments[t].path,Yg(n[0]))),i++;else{var a=qg(o)?o.outlets[Uy]:"".concat(o),u=i<n.length-1?n[i+1]:null;a&&u&&Bg(u)?(r.push(new sg(a,Yg(u))),i+=2):(r.push(new sg(a,{})),i++)}}return new og(r,{})}function $g(e){var t={};return $y(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Zg(new og([],{}),0,e))}),t}function Yg(e){var t={};return $y(e,function(e,n){return t[n]="".concat(e)}),t}function Jg(e,t,n){return e==n.path&&Qy(t,n.parameters)}var Xg=function(){function e(t,n,r,i){s(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return u(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Dg(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Ag(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),$y(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Ag(e),o=0,s=Object.keys(i);o<s.length;o++){var a=s[o];this.deactivateRouteAndItsChildren(i[a],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Ag(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Fy(e.value.snapshot))}),e.children.length&&this.forwardEvent(new jy(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Dg(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),em(a.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function em(e){Dg(e.value),e.children.forEach(em)}var tm=function e(t,n){s(this,e),this.routes=t,this.module=n};function nm(e){return"function"==typeof e}function rm(e){return e instanceof ig}var im=Symbol("INITIAL_VALUE");function om(){return Hv(function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i;return U(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&k(t[0])&&(t=t[0]),ie(t,i).lift(new jv(r))}(e.map(function(e){return e.pipe(Kv(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return U(r)?(t.pop(),function(e){return Vv(t,e,r)}):function(e){return Vv(t,e)}}(im))})).pipe($v(function(e,t){var n=!1;return t.reduce(function(e,r,i){return e!==im?e:(r===im&&(n=!0),n||!1!==r&&i!==t.length-1&&!rm(r)?e:r)},e)},im),Xv(function(e){return e!==im}),B(function(e){return rm(e)?e:!0===e}),Kv(1))})}var sm=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=rt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Ds(0,"router-outlet")},directives:function(){return[i_]},encapsulation:2}),e}();function am(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];um(r,lm(t,r))}}function um(e,t){e.children&&am(e.children,t)}function lm(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function cm(e){var t=e.children&&e.children.map(cm),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Uy&&(n.component=sm),n}function hm(e){return e.outlet||Uy}function fm(e,t){var n=e.filter(function(e){return hm(e)===t});return n.push.apply(n,y(e.filter(function(e){return hm(e)!==t}))),n}var dm={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function pm(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},dm):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||zy)(n,e,t);if(!i)return Object.assign({},dm);var o={};$y(i.posParams,function(e,t){o[t]=e.path});var s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function vm(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return ym(e,t,n)&&hm(n)!==Uy})}(e,n,r)){var s=new og(t,function(e,t,n,r){var i={};i[Uy]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var s,a=o(n);try{for(a.s();!(s=a.n()).done;){var u=s.value;if(""===u.path&&hm(u)!==Uy){var l=new og([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,i[hm(u)]=l}}}catch(c){a.e(c)}finally{a.f()}return i}(e,t,r,new og(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return ym(e,t,n)})}(e,n,r)){var a=new og(e.segments,function(e,t,n,r,i,s){var a,u={},l=o(r);try{for(l.s();!(a=l.n()).done;){var c=a.value;if(ym(e,n,c)&&!i[hm(c)]){var h=new og([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===s?e.segments.length:t.length,u[hm(c)]=h}}}catch(f){l.e(f)}finally{l.f()}return Object.assign(Object.assign({},i),u)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var u=new og(e.segments,e.children);return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:n}}function ym(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function gm(e,t,n,r){return!!(hm(e)===r||r!==Uy&&ym(t,n,e))&&("**"===e.path||pm(t,e,n).matched)}function mm(e,t,n){return 0===t.length&&!e.children[n]}var _m=function e(t){s(this,e),this.segmentGroup=t||null},bm=function e(t){s(this,e),this.urlTree=t};function wm(e){return new N(function(t){return t.error(new _m(e))})}function km(e){return new N(function(t){return t.error(new bm(e))})}function Sm(e){return new N(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var Em=function(){function t(e,n,r,i,o){s(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(bu)}return u(t,[{key:"apply",value:function(){var e=this,t=vm(this.urlTree.root,[],[],this.config).segmentGroup,n=new og(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Uy).pipe(B(function(t){return e.createUrlTree(Cm(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(ny(function(t){if(t instanceof bm)return e.allowRedirects=!1,e.match(t.urlTree);throw t instanceof _m?e.noMatchError(t):t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Uy).pipe(B(function(n){return t.createUrlTree(Cm(n),e.queryParams,e.fragment)})).pipe(ny(function(e){throw e instanceof _m?t.noMatchError(e):e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,n,r){var i=t.segments.length>0?new og([],e({},Uy,t)):t;return new ig(i,n,r)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(B(function(e){return new og([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],o=0,s=Object.keys(n.children);o<s.length;o++){var a=s[o];"primary"===a?i.unshift(a):i.push(a)}return $(i).pipe(oy(function(i){var o=n.children[i],s=fm(t,i);return r.expandSegmentGroup(e,s,o,i).pipe(B(function(e){return{segment:e,outlet:i}}))}),$v(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Xv(function(t,n){return e(t,n,r)}):P,sy(1),n?dy(t):ly(function(){return new Fv}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,o){var s=this;return $(n).pipe(oy(function(a){return s.expandSegmentAgainstRoute(e,t,n,a,r,i,o).pipe(ny(function(e){if(e instanceof _m)return Iv(null);throw e}))}),yy(function(e){return!!e}),ny(function(e,n){if(e instanceof Fv||"EmptyError"===e.name){if(mm(t,r,i))return Iv(new og([],{}));throw new _m(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,s){return gm(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):wm(t):wm(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?km(o):this.lineralizeSegments(n,o).pipe(ee(function(n){var o=new og(n,{});return i.expandSegment(e,o,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var s=this,a=pm(t,r,i),u=a.matched,l=a.consumedSegments,c=a.lastChild,h=a.positionalParamSegments;if(!u)return wm(t);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?km(f):this.lineralizeSegments(r,f).pipe(ee(function(r){return s.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Iv(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(B(function(e){return n._loadedConfig=e,new og(r,{})})):Iv(new og(r,{}));var s=pm(t,n,r),a=s.matched,u=s.consumedSegments,l=s.lastChild;if(!a)return wm(t);var c=r.slice(l);return this.getChildConfig(e,n,r).pipe(ee(function(e){var r=e.module,s=e.routes,a=vm(t,u,c,s),l=a.segmentGroup,h=a.slicedSegments,f=new og(l.segments,l.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,s,f).pipe(B(function(e){return new og(u,e)}));if(0===s.length&&0===h.length)return Iv(new og(u,{}));var d=hm(n)===i;return o.expandSegment(r,f,s,h,d?Uy:i,!0).pipe(B(function(e){return new og(u.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Iv(new tm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Iv(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(ee(function(n){return n?r.configLoader.load(e.injector,t).pipe(B(function(e){return t._loadedConfig=e,e})):function(e){return new N(function(t){return t.error(Wy("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):Iv(new tm([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;return i&&0!==i.length?Iv(i.map(function(r){var i,o=e.get(r);if(function(e){return e&&nm(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!nm(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Yy(i)})).pipe(om(),my(function(e){if(rm(e)){var t=Wy('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),B(function(e){return!0===e})):Iv(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Iv(n);if(r.numberOfChildren>1||!r.children[Uy])return Sm(e.redirectTo);r=r.children[Uy]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new ig(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return $y(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),s={};return $y(t.children,function(t,o){s[o]=i.createSegmentGroup(e,t,n,r)}),new og(o,s)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=o(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.path===e.path)return t.splice(r),s;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),t}();function Cm(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],o=Cm(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(e){if(1===e.numberOfChildren&&e.children[Uy]){var t=e.children[Uy];return new og(e.segments.concat(t.segments),t.children)}return e}(new og(e.segments,t))}var Tm=function e(t){s(this,e),this.path=t,this.route=this.path[this.path.length-1]},xm=function e(t,n){s(this,e),this.component=t,this.route=n};function Am(e,t,n){var r=e._root;return Im(r,t?t._root:null,n,[r.value])}function Om(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Im(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Ag(t);return e.children.forEach(function(e){(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ag(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ag(e.url,t.url)||!Qy(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fg(e,t)||!Qy(e.queryParams,t.queryParams);case"paramsChange":default:return!Fg(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Tm(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Im(e,t,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xm(a.outlet.component,s))}else s&&Rm(t,a,i),i.canActivateChecks.push(new Tm(r)),Im(e,null,o.component?a?a.children:null:n,r,i)})(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),$y(o,function(e,t){return Rm(e,n.getContext(t),i)}),i}function Rm(e,t,n){var r=Ag(e),i=e.value;$y(r,function(e,r){Rm(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new xm(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Pm=function e(){s(this,e)};function Nm(e){return new N(function(t){return t.error(e)})}var Mm=function(){function e(t,n,r,i,o,a){s(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return u(e,[{key:"recognize",value:function(){var e=vm(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Uy);if(null===t)return null;var n=new Ng([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Uy,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xg(n,t),i=new Mg(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Pg(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,i=Object.keys(t.children);r<i.length;r++){var o=i[r],s=t.children[o],a=fm(e,o),u=this.processSegmentGroup(a,s,o);if(null===u)return null;n.push.apply(n,y(u))}var l=Lm(n);return function(e){e.sort(function(e,t){return e.value.outlet===Uy?-1:t.value.outlet===Uy?1:e.value.outlet.localeCompare(t.value.outlet)})}(l),l}},{key:"processSegment",value:function(e,t,n,r){var i,s=o(e);try{for(s.s();!(i=s.n()).done;){var a=i.value,u=this.processSegmentAgainstRoute(a,t,n,r);if(null!==u)return u}}catch(l){s.e(l)}finally{s.f()}return mm(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!gm(e,t,n,r))return null;var i,o=[],s=[];if("**"===e.path){var a=n.length>0?Zy(n).parameters:{};i=new Ng(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fm(e),hm(e),e.component,e,jm(t),Dm(t)+n.length,Vm(e))}else{var u=pm(t,e,n);if(!u.matched)return null;o=u.consumedSegments,s=n.slice(u.lastChild),i=new Ng(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fm(e),hm(e),e.component,e,jm(t),Dm(t)+o.length,Vm(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=vm(t,o,s,l.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return null===d?null:[new xg(i,d)]}if(0===l.length&&0===f.length)return[new xg(i,[])];var p=hm(e)===r,v=this.processSegment(l,h,f,p?Uy:r);return null===v?null:[new xg(i,v)]}}]),e}();function Lm(e){var t,n=[],r=new Set,i=o(e);try{var s=function(){var e,i=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(i))return n.push(i),"continue";var o=n.find(function(e){return i.value.routeConfig===e.value.routeConfig});void 0!==o?((e=o.children).push.apply(e,y(i.children)),r.add(o)):n.push(i)};for(i.s();!(t=i.n()).done;)s()}catch(h){i.e(h)}finally{i.f()}var a,u=o(r);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=Lm(l.children);n.push(new xg(l.value,c))}}catch(h){u.e(h)}finally{u.f()}return n.filter(function(e){return!r.has(e)})}function jm(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Dm(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Fm(e){return e.data||{}}function Vm(e){return e.resolve||{}}function Um(e){return Hv(function(t){var n=e(t);return n?$(n).pipe(B(function(){return t})):Iv(t)})}var Bm=function(e){l(n,e);var t=h(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(function(){function e(){s(this,e)}return u(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),qm=new rr("ROUTES"),Hm=function(){function e(t,n,r,i){s(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return u(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe(B(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new tm(Gy(i.injector.get(qm,void 0,De.Self|De.Optional)).map(cm),i)}),ny(function(e){throw t._loader$=void 0,e}));return t._loader$=new le(r,function(){return new F}).pipe(se()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?$(this.loader.load(e)):Yy(e()).pipe(ee(function(e){return e instanceof wu?Iv(e):$(t.compiler.compileModuleAsync(e))}))}}]),e}(),Wm=function e(){s(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new zm,this.attachRef=null},zm=function(){function e(){s(this,e),this.contexts=new Map}return u(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Wm,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Qm=function(){function e(){s(this,e)}return u(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Km(e){throw e}function Gm(e,t,n){return t.parse("/")}function Zm(e,t){return Iv(null)}var $m={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ym={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jm=function(){var e=function(){function e(t,n,r,i,o,a,u,l){var c=this;s(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new F,this.errorHandler=Km,this.malformedUriErrorHandler=Gm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zm,afterPreactivation:Zm},this.urlHandlingStrategy=new Qm,this.routeReuseStrategy=new Bm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(bu),this.console=o.get(dl);var h=o.get(Tl);this.isNgZoneEnabled=h instanceof Tl&&Tl.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new ig(new og([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hm(a,u,function(e){return c.triggerEvent(new Ny(e))},function(e){return c.triggerEvent(new My(e))}),this.routerState=Ig(this.currentUrlTree,this.rootComponentType),this.transitions=new Rv({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return u(e,[{key:"browserPageId",get:function(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}},{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Xv(function(e){return 0!==e.id}),B(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Hv(function(e){var r=!1,i=!1;return Iv(e).pipe(my(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Hv(function(e){var r=t.browserUrlTree.toString(),o=!t.navigated||e.extractedUrl.toString()!==r||r!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||o)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Xm(e.source)&&(t.browserUrlTree=e.extractedUrl),Iv(e).pipe(Hv(function(e){var r=t.transitions.getValue();return n.next(new Ey(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Uv:Promise.resolve(e)}),function(e,t,n,r){return Hv(function(i){return function(e,t,n,r,i){return new Em(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(B(function(e){return Object.assign(Object.assign({},i),{urlAfterRedirects:e})}))})}(t.ngModule.injector,t.configLoader,t.urlSerializer,t.config),my(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,o,s){return ee(function(r){return function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new Mm(e,t,n,r,o,s).recognize();return null===a?Nm(new Pm):Iv(a)}catch(i){return Nm(i)}}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),o,s).pipe(B(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var a})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),my(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,e),t.browserUrlTree=e.urlAfterRedirects);var r=new Ay(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(o&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var s=e.id,a=e.extractedUrl,u=e.source,l=e.restoredState,c=e.extras,h=new Ey(s,t.serializeUrl(a),u,l);n.next(h);var f=Ig(a,t.rootComponentType).snapshot;return Iv(Object.assign(Object.assign({},e),{targetSnapshot:f,urlAfterRedirects:a,extras:Object.assign(Object.assign({},c),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Uv}),Um(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})}),my(function(e){var n=new Oy(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),B(function(e){return Object.assign(Object.assign({},e),{guards:Am(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return ee(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?Iv(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return $(e).pipe(ee(function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Iv(o.map(function(o){var s,a=Om(o,t,i);if(function(e){return e&&nm(e.canDeactivate)}(a))s=Yy(a.canDeactivate(e,t,n,r));else{if(!nm(a))throw new Error("Invalid CanDeactivate guard");s=Yy(a(e,t,n,r))}return s.pipe(yy())})).pipe(om()):Iv(!0)}(e.component,e.route,n,t,r)}),yy(function(e){return!0!==e},!0))}(a,r,i,e).pipe(ee(function(n){return n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return $(t).pipe(oy(function(t){return Vv(function(e,t){return null!==e&&t&&t(new Ly(e)),Iv(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Dy(e)),Iv(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return qv(function(){return Iv(t.guards.map(function(i){var o,s=Om(i,t.node,n);if(function(e){return e&&nm(e.canActivateChild)}(s))o=Yy(s.canActivateChild(r,e));else{if(!nm(s))throw new Error("Invalid CanActivateChild guard");o=Yy(s(r,e))}return o.pipe(yy())})).pipe(om())})});return Iv(i).pipe(om())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Iv(r.map(function(r){return qv(function(){var i,o=Om(r,t,n);if(function(e){return e&&nm(e.canActivate)}(o))i=Yy(o.canActivate(t,e));else{if(!nm(o))throw new Error("Invalid CanActivate guard");i=Yy(o(t,e))}return i.pipe(yy())})})).pipe(om()):Iv(!0)}(e,t.route,n))}),yy(function(e){return!0!==e},!0))}(r,s,e,t):Iv(n)}),B(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),my(function(e){if(rm(e.guardsResult)){var n=Wy('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new Iy(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),Xv(function(e){return!!e.guardsResult||(t.restoreHistory(e),t.cancelNavigationTransition(e,""),!1)}),Um(function(e){if(e.guards.canActivateChecks.length)return Iv(e).pipe(my(function(e){var n=new Ry(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Hv(function(e){var n=!1;return Iv(e).pipe(function(e,t){return ee(function(n){var r=n.targetSnapshot,i=n.guards.canActivateChecks;if(!i.length)return Iv(n);var o=0;return $(i).pipe(oy(function(n){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Iv({});var o={};return $(i).pipe(ee(function(i){return function(e,t,n,r){var i=Om(e,t,r);return Yy(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(my(function(e){o[i]=e}))}),sy(1),ee(function(){return Object.keys(o).length===i.length?Iv(o):Uv}))}(e._resolve,e,t,r).pipe(B(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Pg(e,n).resolve),null}))}(n.route,r,e,t)}),my(function(){return o++}),sy(1),ee(function(e){return o===i.length?Iv(n):Uv}))})}(t.paramsInheritanceStrategy,t.ngModule.injector),my({next:function(){return n=!0},complete:function(){n||(t.restoreHistory(e),t.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),my(function(e){var n=new Py(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),Um(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})}),B(function(e){var n=function(e,t,n){var r=Vg(e,t._root,n?n._root:void 0);return new Og(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),my(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,e),t.browserUrlTree=e.urlAfterRedirects)}),function(e,t,n){return B(function(r){return new Xg(t,r.targetRouterState,r.currentRouterState,n).activate(e),r})}(t.rootContexts,t.routeReuseStrategy,function(e){return t.triggerEvent(e)}),my({next:function(){r=!0},complete:function(){r=!0}}),function(e){return function(t){return t.lift(new wy(e))}}(function(){var n;if(!r&&!i){var o="Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId);"replace"===t.canceledNavigationResolution?(t.restoreHistory(e),t.cancelNavigationTransition(e,o)):t.cancelNavigationTransition(e,o)}(null===(n=t.currentNavigation)||void 0===n?void 0:n.id)===e.id&&(t.currentNavigation=null)}),ny(function(r){if(i=!0,function(e){return e&&e[Hy]}(r)){var o=rm(r.url);o||(t.navigated=!0,t.restoreHistory(e,!0));var s=new Ty(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(s),o?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree),i={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Xm(e.source)};t.scheduleNavigation(n,"imperative",null,i,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.restoreHistory(e,!0);var a=new xy(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(s){e.reject(s)}}return Uv}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var s=Object.assign({},r);delete s.navigationId,delete s.\u0275routerPageId,0!==Object.keys(s).length&&(o.state=s)}e.scheduleNavigation(i,t,r,o)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){am(e),this.config=e.map(cm),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.queryParamsHandling,s=t.preserveFragment,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i,l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return Hg(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new zg(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return $y(r.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),[].concat(y(e),[{outlets:o}])}if(r.segmentPath)return[].concat(y(e),[r.segmentPath])}return"string"!=typeof r?[].concat(y(e),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(y(e),[r])},[]);return new zg(n,t,r)}(n);if(o.toRoot())return Hg(t.root,new og([],{}),t,r,i);var s=function(e,t,n){if(e.isAbsolute)return new Qg(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Qg(r,r===t.root,0)}var i=Bg(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Qg(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Gg(s.segmentGroup,s.index,o.commands):Kg(s.segmentGroup,s.index,o.commands);return Hg(s.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,l,null!=u?u:null)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=rm(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){var n;if(n=!0===t?Object.assign({},$m):!1===t?Object.assign({},Ym):t,rm(e))return eg(this.currentUrlTree,e,n);var r=this.parseUrl(e);return eg(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.currentPageId=t.targetPageId,e.events.next(new Cy(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ".concat(t))})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);var a,u,l,c=this.getTransition(),h=Xm(t)&&c&&!Xm(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===e.toString();if(h&&f)return Promise.resolve(!0);i?(a=i.resolve,u=i.reject,l=i.promise):l=new Promise(function(e,t){a=e,u=t});var d,p=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),d=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):d=0,this.setTransition({id:p,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t){var n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}},{key:"restoreHistory",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(t=this.currentNavigation)||void 0===t?void 0:t.finalUrl)||0===i?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(e,t){var n=new Ty(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}},{key:"generateNgRouterState",value:function(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(or),Sr(ug),Sr(zm),Sr(mc),Sr(ys),Sr(Kl),Sr(Sl),Sr(void 0))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}();function Xm(e){return"imperative"!==e}var e_=function(){var e=function(){function e(t,n,r,i,o){s(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new F,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return u(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"onClick",value:function(){var e={skipLocationChange:n_(this.skipLocationChange),replaceUrl:n_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:n_(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Jm),Ps(Rg),er("tabindex"),Ps(Wa),Ps(Ba))},e.\u0275dir=lt({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Ws("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[wt]}),e}(),t_=function(){var e=function(){function e(t,n,r){var i=this;s(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new F,this.subscription=t.events.subscribe(function(e){e instanceof Cy&&i.updateTargetUrlAndHref()})}return u(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r,i){if(0!==e||t||n||r||i||"string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:n_(this.skipLocationChange),replaceUrl:n_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:n_(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Jm),Ps(Rg),Ps(dc))},e.\u0275dir=lt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Ws("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(_a("href",t.href,ui),Is("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[wt]}),e}();function n_(e){return""===e||!!e}var r_=function(){var e=function(){function e(t,n,r,i,o,a){var u=this;s(this,e),this.router=t,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(function(e){e instanceof Cy&&u.update()})}return u(e,[{key:"ngAfterContentInit",value:function(){var e=this;Iv(this.links.changes,this.linksWithHrefs.changes,Iv(null)).pipe(re()).subscribe(function(t){e.update(),e.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var n=[].concat(y(this.links.toArray()),y(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=$(n).pipe(re()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(e){var t=function(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return function(n){return e.isActive(n.urlTree,t)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Jm),Ps(Ba),Ps(Wa),Ps(fu),Ps(e_,8),Ps(t_,8))},e.\u0275dir=lt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;(1&e&&(el(n,e_,5),el(n,t_,5)),2&e)&&(Ju(r=tl())&&(t.links=r),Ju(r=tl())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[wt]}),e}(),i_=function(){var e=function(){function e(t,n,r,i,o){s(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Uu,this.deactivateEvents=new Uu,this.name=i||Uy,t.onChildOutletCreated(this.name,this)}return u(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new o_(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(zm),Ps(Su),Ps(Da),er("name"),Ps(fu))},e.\u0275dir=lt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),o_=function(){function e(t,n,r){s(this,e),this.route=t,this.childContexts=n,this.parent=r}return u(e,[{key:"get",value:function(e,t){return e===Rg?this.route:e===zm?this.childContexts:this.parent.get(e,t)}}]),e}(),s_=function e(){s(this,e)},a_=function(){function e(){s(this,e)}return u(e,[{key:"preload",value:function(e,t){return Iv(null)}}]),e}(),u_=function(){var e=function(){function e(t,n,r,i,o){s(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Hm(n,r,function(e){return t.triggerEvent(new Ny(e))},function(e){return t.triggerEvent(new My(e))})}return u(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Xv(function(e){return e instanceof Cy}),oy(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(bu);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=o(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var a=s._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children))}}catch(u){i.e(u)}finally{i.f()}return $(r).pipe(re(),B(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?Iv(t._loadedConfig):n.loader.load(e.injector,t)).pipe(ee(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(Jm),Sr(Kl),Sr(Sl),Sr(ys),Sr(s_))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),l_=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return u(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Ey?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cy&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Vy&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Vy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(Jm),Sr(Mc),Sr(void 0))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),c_=new rr("ROUTER_CONFIGURATION"),h_=new rr("ROUTER_FORROOT_GUARD"),f_=[mc,{provide:ug,useClass:lg},{provide:Jm,useFactory:function(e,t,n,r,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,c=new Jm(null,e,t,n,r,i,o,Gy(s));return u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(function(e){var t,n;null===(t=console.group)||void 0===t||t.call(console,"Router Event: ".concat(e.constructor.name)),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),c},deps:[ug,zm,mc,ys,Kl,Sl,qm,c_,[function(){return function e(){s(this,e)}}(),new Rr],[function(){return function e(){s(this,e)}}(),new Rr]]},zm,{provide:Rg,useFactory:function(e){return e.routerState.root},deps:[Jm]},{provide:Kl,useClass:$l},u_,a_,function(){function e(){s(this,e)}return u(e,[{key:"preload",value:function(e,t){return t().pipe(ny(function(){return Iv(null)}))}}]),e}(),{provide:c_,useValue:{enableTracing:!1}}];function d_(){return new Ul("Router",Jm)}var p_=function(){var e=function(){function e(t,n){s(this,e)}return u(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[f_,m_(t),{provide:h_,useFactory:g_,deps:[[Jm,new Rr,new Pr]]},{provide:c_,useValue:n||{}},{provide:dc,useFactory:y_,deps:[ic,[new Ir(vc),new Rr],c_]},{provide:l_,useFactory:v_,deps:[Jm,Mc,c_]},{provide:s_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:a_},{provide:Ul,multi:!0,useFactory:d_},[__,{provide:ol,multi:!0,useFactory:b_,deps:[__]},{provide:k_,useFactory:w_,deps:[__]},{provide:fl,multi:!0,useExisting:k_}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[m_(t)]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(h_,8),Sr(Jm,8))},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({}),e}();function v_(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new l_(e,t,n)}function y_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new gc(e,t):new yc(e,t)}function g_(e){return"guarded"}function m_(e){return[{provide:ir,multi:!0,useValue:e},{provide:qm,multi:!0,useValue:e}]}var __=function(){var e=function(){function e(t){s(this,e),this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new F}return u(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(sc,Promise.resolve(null)).then(function(){if(e.destroyed)return Promise.resolve(!0);var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(Jm),i=e.injector.get(c_);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?Iv(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(c_),n=this.injector.get(u_),r=this.injector.get(l_),i=this.injector.get(Jm),o=this.injector.get(zl);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(ys))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}();function b_(e){return e.appInitializer.bind(e)}function w_(e){return e.bootstrapListener.bind(e)}var k_=new rr("Router Initializer"),S_=(function(e){e[e.FirstLevel=1]="FirstLevel",e[e.SecondLevel=2]="SecondLevel",e[e.Cap=4]="Cap",e[e.Street=8]="Street",e[e.Rules=16]="Rules",e[e.Active=15]="Active"}(S_||(S_={})),S_),E_=[new(function(){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,e),this.Name=t,this.Icon=n,this.Route=r}}())("1 \u042d\u0442\u0430\u0436",'<span">1</span>',"/FirstLevel")],C_=function(){var e=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];s(this,e),this.Name=t,this.TopicLamp=n,this.TopicSwitch=r,this._description=i,this.Value=o,this.Index=0,this.controlValue=o,this.Index=e.counter++}return u(e,[{key:"Description",get:function(){return this._description||this.Name}}]),e}();return e.counter=0,e}(),T_=function(){var e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];s(this,e),this.Name=t,this.MenuItemValue=n,this.Items=r,this.Index=0,this.Index=e.counter++};return e.counter=0,e}(),x_=[new C_("\u041e\u0445\u0440\u0430\u043d\u0430","/devices/app_alarms/controls/security",null),new C_("1 \u043a\u043e\u043c\u0430\u043d\u0442\u0430","/devices/app_alarms/controls/alarm1",null),new C_("2 \u043a\u043e\u043c\u0430\u043d\u0442\u0430","/devices/app_alarms/controls/alarm2",null),new C_("\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e \u043f\u0438\u0442\u0430\u043d\u0438\u044e","/devices/app_alarms/controls/errorpower",null),new C_("\u043f\u0440\u043e\u0442\u0435\u0447\u043a\u0430 1","/devices/app_alarms/controls/water1",null),new C_("\u043f\u0440\u043e\u0442\u0435\u0447\u043a\u0430 2","/devices/app_alarms/controls/water2",null),new C_("\u043f\u0440\u043e\u0442\u0435\u0447\u043a\u0430 3","/devices/app_alarms/controls/water3",null)],A_=[new T_("\u0417\u0430\u043b",S_.FirstLevel,[new C_("\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 1","/devices/lyght_out/controls/lamp_1","/devices/lyght_in/controls/in_1"),new C_("\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 2","/devices/lyght_out/controls/lamp_2","/devices/lyght_in/controls/in_2")])],O_=function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return u(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){l(n,e);var t=h(n);function n(e,r){return s(this,n),t.call(this)}return u(n,[{key:"schedule",value:function(e){return this}}]),n}(T)),I_=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;s(this,e),this.SchedulerAction=t,this.now=n}return u(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),R_=function(e){l(n,e);var t=h(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I_.now;return s(this,n),(r=t.call(this,e,function(){return n.delegate&&n.delegate!==d(r)?n.delegate.now():i()})).actions=[],r.active=!1,r.scheduled=void 0,r}return u(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):i(v(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(I_),P_=new R_(O_),N_=function(){function e(t,n){s(this,e),this.dueTime=t,this.scheduler=n}return u(e,[{key:"call",value:function(e,t){return t.subscribe(new M_(e,this.dueTime,this.scheduler))}}]),e}(),M_=function(e){l(n,e);var t=h(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return u(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(L_,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(O);function L_(e){e.debouncedNext()}var j_=p(7334),D_=p(166),F_=new(function(e){l(n,e);var t=h(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(R_))(function(e){l(n,e);var t=h(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return u(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?i(v(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?i(v(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?i(v(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(O_)),V_=function(){function e(t,n,r){s(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return u(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Iv(this.value);case"E":return function(e,t){return new N(function(t){return t.error(e)})}(this.error);case"C":return Bv()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();V_.completeNotification=new V_("C"),V_.undefinedValueNotification=new V_("N",void 0);var U_=function(e){l(n,e);var t=h(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return u(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new B_(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(V_.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(V_.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(V_.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(O),B_=function e(t,n){s(this,e),this.notification=t,this.destination=n},q_=function(e){l(n,e);var t=h(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return s(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return u(n,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}i(v(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new H_(this._getNow(),e)),this._trimBufferThenGetEvents()),i(v(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new L;if(this.isStopped||this.hasError?t=T.EMPTY:(this.observers.push(e),t=new j(this,e)),i&&e.add(e=new U_(e,i)),n)for(var s=0;s<o&&!e.closed;s++)e.next(r[s]);else for(var a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||F_).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(F),H_=function e(t,n){s(this,e),this.time=t,this.value=n},W_=(function(e){e[e.CLOSED=0]="CLOSED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(W_||(W_={})),W_),z_=new rr("NgxMqttServiceConfig"),Q_=new rr("NgxMqttClientService"),K_=function(){var e=function(){function e(){s(this,e)}return u(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[{provide:z_,useValue:t},{provide:Q_,useValue:n}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({}),e}(),G_=function(){var e=function(){function e(t,n){var r=this;s(this,e),this.options=t,this.client=n,this.observables={},this.state=new Rv(W_.CLOSED),this.messages=new F,this._clientId=this._generateClientId(),this._connectTimeout=1e4,this._reconnectPeriod=1e4,this._url=void 0,this._onConnect=new Uu,this._onReconnect=new Uu,this._onClose=new Uu,this._onOffline=new Uu,this._onError=new Uu,this._onEnd=new Uu,this._onMessage=new Uu,this._onSuback=new Uu,this._onPacketsend=new Uu,this._onPacketreceive=new Uu,this._handleOnConnect=function(e){!0===r.options.connectOnCreate&&Object.keys(r.observables).forEach(function(e){r.client.subscribe(e)}),r.state.next(W_.CONNECTED),r._onConnect.emit(e)},this._handleOnReconnect=function(){!0===r.options.connectOnCreate&&Object.keys(r.observables).forEach(function(e){r.client.subscribe(e)}),r.state.next(W_.CONNECTING),r._onReconnect.emit()},this._handleOnClose=function(){r.state.next(W_.CLOSED),r._onClose.emit()},this._handleOnOffline=function(){r._onOffline.emit()},this._handleOnError=function(e){r._onError.emit(e),console.error(e)},this._handleOnEnd=function(){r._onEnd.emit()},this._handleOnMessage=function(e,t,n){r._onMessage.emit(n),"publish"===n.cmd&&r.messages.next(n)},this._handleOnPacketsend=function(e){r._onPacketsend.emit()},this._handleOnPacketreceive=function(e){r._onPacketreceive.emit()},!1!==t.connectOnCreate&&this.connect({},n),this.state.subscribe()}return u(e,[{key:"clientId",get:function(){return this._clientId}},{key:"onConnect",get:function(){return this._onConnect}},{key:"onReconnect",get:function(){return this._onReconnect}},{key:"onClose",get:function(){return this._onClose}},{key:"onOffline",get:function(){return this._onOffline}},{key:"onError",get:function(){return this._onError}},{key:"onEnd",get:function(){return this._onEnd}},{key:"onMessage",get:function(){return this._onMessage}},{key:"onPacketsend",get:function(){return this._onPacketsend}},{key:"onPacketreceive",get:function(){return this._onPacketreceive}},{key:"onSuback",get:function(){return this._onSuback}},{key:"connect",value:function(e,t){var n=D_(this.options||{},e),r=n.protocol||"ws",i=n.hostname||"localhost";n.url?this._url=n.url:(this._url="".concat(r,"://").concat(i),this._url+=n.port?":".concat(n.port):"",this._url+=n.path?"".concat(n.path):""),this.state.next(W_.CONNECTING);var o=D_({clientId:this._clientId,reconnectPeriod:this._reconnectPeriod,connectTimeout:this._connectTimeout},n);this.client&&this.client.end(!0),this.client=t||(0,j_.connect)(this._url,o),this._clientId=o.clientId,this.client.on("connect",this._handleOnConnect),this.client.on("reconnect",this._handleOnReconnect),this.client.on("close",this._handleOnClose),this.client.on("offline",this._handleOnOffline),this.client.on("error",this._handleOnError),this.client.stream.on("error",this._handleOnError),this.client.on("end",this._handleOnEnd),this.client.on("message",this._handleOnMessage),this.client.on("packetsend",this._handleOnPacketsend),this.client.on("packetreceive",this._handleOnPacketreceive)}},{key:"disconnect",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.client)throw new Error("mqtt client not connected");this.client.end(e)}},{key:"observeRetained",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{qos:1};return this._generalObserve(e,function(){return e=new q_(1,void 0,void 0),function(t){return fe(function(){return e},void 0)(t)};var e},t)}},{key:"observe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{qos:1};return this._generalObserve(e,function(){return fe(new F)},t)}},{key:"_generalObserve",value:function(t,n,r){var i=this;if(!this.client)throw new Error("mqtt client not connected");if(!this.observables[t]){var o=new F;this.observables[t]=function(e,t){return new N(function(t){var n,r;try{n=e()}catch(a){return void t.error(a)}try{r=oe(o,i.messages)}catch(a){return void t.error(a)}var s=(r?$(r):Uv).subscribe(t);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}(function(){var e=new T;return i.client.subscribe(t,r,function(e,n){n&&n.forEach(function(e){128===e.qos&&(delete i.observables[e.topic],i.client.unsubscribe(e.topic),o.error("subscription for '".concat(e.topic,"' rejected!"))),i._onSuback.emit({filter:t,granted:128!==e.qos})})}),e.add(function(){delete i.observables[t],i.client.unsubscribe(t)}),e}).pipe(Xv(function(n){return e.filterMatchesTopic(t,n.topic)}),n(),se())}return this.observables[t]}},{key:"publish",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.client)throw new Error("mqtt client not connected");return N.create(function(i){n.client.publish(e,t,r,function(e){e?i.error(e):(i.next(null),i.complete())})})}},{key:"unsafePublish",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.client)throw new Error("mqtt client not connected");this.client.publish(e,t,n,function(e){if(e)throw e})}},{key:"_generateClientId",value:function(){return"client-"+Math.random().toString(36).substr(2,19)}}],[{key:"filterMatchesTopic",value:function(e,t){if("#"===e[0]&&"$"===t[0])return!1;var n=(e||"").split("/").reverse(),r=(t||"").split("/").reverse();return function e(){var t=n.pop(),i=r.pop();switch(t){case"#":return!0;case"+":return!!i&&e();default:return t===i&&(void 0===t||e())}}()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Sr(z_),Sr(Q_))},e.\u0275prov=xe({factory:function(){return new e(Sr(z_),Sr(Q_))},token:e,providedIn:"root"}),e}(),Z_=function(e){return{"is-invalid":e}},$_=function(){var e=function(){function e(t,n){s(this,e),this.ref=t,this.config=n,this.password="",this.isError=!1,this.isError=n.data.hasError}return u(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){this.ref.close(this.password)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Ap),Ps(xp))},e.\u0275cmp=rt({type:e,selectors:[["app-auth"]],decls:9,vars:4,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],[1,"form-group"],["pInputText","","type","password","placeholder","\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","name","something",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(Ls(0,"div",0),Ls(1,"div",1),Ls(2,"div",2),Ls(3,"div",3),Ls(4,"label"),ya(5,"\u041f\u0430\u0440\u043e\u043b\u044c"),js(),Ls(6,"input",4),Ws("ngModelChange",function(e){return t.password=e}),js(),js(),Ls(7,"button",5),Ws("click",function(){return t.ok()}),ya(8,"\u041e\u043a"),js(),js(),js(),js()),2&e&&(oo(6),Ns("ngModel",t.password)("ngClass",Du(2,Z_,t.isError)))},directives:[Bp,Av,ov,Ev,Ec],styles:[""]}),e}(),Y_=function(){var e=function(){function e(t){s(this,e),this.dialogService=t,this._passwordValid="1234987"}return u(e,[{key:"IsAuth",get:function(){return JSON.parse(localStorage.getItem("Auth"))||(this.show(),!1)}},{key:"ngOnInit",value:function(){}},{key:"show",value:function(e){var t=this;this.dialogService.open($_,{data:{hasError:e},header:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c",style:{"max-height":"350px","max-width":"350px"}}).onClose.subscribe(function(e){void 0!==e&&(e===t._passwordValid?t.setAuth():t.show(!0))})}},{key:"setAuth",value:function(){localStorage.setItem("Auth",JSON.stringify(!0))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Mp))},e.\u0275cmp=rt({type:e,selectors:[["ng-component"]],features:[Ma([Mp])],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}();function J_(e,t){if(1&e&&(Ls(0,"span",10),ya(1),js()),2&e){var n=Ks(2);Is("id",n.id+"_header"),oo(1),ga(n.header)}}function X_(e,t){1&e&&Us(0)}function eb(e,t){}function tb(e,t){1&e&&Rs(0,eb,0,0,"ng-template")}function nb(e,t){if(1&e){var n=Bs();Ls(0,"button",11),Ws("click",function(e){return zt(n),Ks(2).onIconClick(e)})("keydown.enter",function(e){return zt(n),Ks(2).onIconClick(e)}),Ds(1,"span"),js()}if(2&e){var r=Ks(2);Is("id",r.id+"-label")("aria-controls",r.id+"-content")("aria-expanded",!r.collapsed),oo(1),oa(r.collapsed?r.expandIcon:r.collapseIcon)}}function rb(e,t){if(1&e){var n=Bs();Ls(0,"div",6),Ws("click",function(e){return zt(n),Ks().onHeaderClick(e)}),Rs(1,J_,2,2,"span",7),$s(2,1),Rs(3,X_,1,0,"ng-container",4),Ls(4,"div",8),Rs(5,tb,1,0,void 0,4),Rs(6,nb,2,5,"button",9),js(),js()}if(2&e){var r=Ks();Is("id",r.id+"-titlebar"),oo(1),Ns("ngIf",r.header),oo(2),Ns("ngTemplateOutlet",r.headerTemplate),oo(2),Ns("ngTemplateOutlet",r.iconTemplate),oo(1),Ns("ngIf",r.toggleable)}}function ib(e,t){1&e&&Us(0)}function ob(e,t){1&e&&Us(0)}function sb(e,t){if(1&e&&(Ls(0,"div",12),$s(1,2),Rs(2,ob,1,0,"ng-container",4),js()),2&e){var n=Ks();oo(2),Ns("ngTemplateOutlet",n.footerTemplate)}}var ab=["*",[["p-header"]],[["p-footer"]]],ub=function(e){return{"p-panel p-component":!0,"p-panel-toggleable":e}},lb=function(e){return{transitionParams:e,height:"0",opacity:"0"}},cb=function(e){return{value:"hidden",params:e}},hb=function(e){return{transitionParams:e,height:"*",opacity:"1"}},fb=function(e){return{value:"visible",params:e}},db=["*","p-header","p-footer"],pb=0,vb=function(){var e=function(){function e(t){s(this,e),this.el=t,this.collapsed=!1,this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new Uu,this.onBeforeToggle=new Uu,this.onAfterToggle=new Uu,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+pb++}return u(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"header":e.headerTemplate=t.template;break;case"content":e.contentTemplate=t.template;break;case"footer":e.footerTemplate=t.template;break;case"icons":e.iconTemplate=t.template;break;default:e.contentTemplate=t.template}})}},{key:"onHeaderClick",value:function(e){"header"===this.toggler&&this.toggle(e)}},{key:"onIconClick",value:function(e){"icon"===this.toggler&&this.toggle(e)}},{key:"toggle",value:function(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()}},{key:"expand",value:function(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}},{key:"collapse",value:function(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"onToggleDone",value:function(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Ba))},e.\u0275cmp=rt({type:e,selectors:[["p-panel"]],contentQueries:function(e,t,n){var r;(1&e&&(el(n,lp,5),el(n,cp,4)),2&e)&&(Ju(r=tl())&&(t.footerFacet=r.first),Ju(r=tl())&&(t.templates=r))},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:db,decls:7,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(e,t){1&e&&(Zs(ab),Ls(0,"div",0),Rs(1,rb,7,5,"div",1),Ls(2,"div",2),Ws("@panelContent.done",function(e){return t.onToggleDone(e)}),Ls(3,"div",3),$s(4),Rs(5,ib,1,0,"ng-container",4),js(),Rs(6,sb,3,1,"div",5),js(),js()),2&e&&(oa(t.styleClass),Ns("ngClass",Du(12,ub,t.toggleable))("ngStyle",t.style),Is("id",t.id),oo(1),Ns("ngIf",t.showHeader),oo(1),Ns("@panelContent",t.collapsed?Du(16,cb,Du(14,lb,t.animating?t.transitionOptions:"0ms")):Du(20,fb,Du(18,hb,t.animating?t.transitionOptions:"0ms"))),Is("id",t.id+"-content")("aria-hidden",t.collapsed)("aria-labelledby",t.id+"-titlebar"),oo(3),Ns("ngTemplateOutlet",t.contentTemplate),oo(1),Ns("ngIf",t.footerFacet||t.footerTemplate))},directives:[Ec,Rc,Ac,Pc,fp],styles:[".p-panel-header{display:flex;justify-content:space-between;align-items:center}.p-panel-title{line-height:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}"],encapsulation:2,data:{animation:[vh("panelContent",[_h("hidden",mh({height:"0",overflow:"hidden"})),_h("void",mh({height:"{{height}}"}),{params:{height:"0"}}),_h("visible",mh({height:"*"})),bh("visible <=> hidden",[mh({overflow:"hidden"}),yh("{{transitionParams}}")]),bh("void => hidden",yh("{{transitionParams}}")),bh("void => visible",yh("{{transitionParams}}"))])]},changeDetection:0}),e}(),yb=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({imports:[[Nc,hp,dp],hp]}),e}(),gb=function(e){return{active:e}};function mb(e,t){if(1&e){var n=Bs();Ls(0,"div",11),Ws("click",function(){zt(n);var e=Ks().$implicit;return Ks(2).coilChange(e,!e.Value)}),Ls(1,"h5"),ya(2),js(),Ds(3,"i",12),js()}if(2&e){var r=Ks().$implicit;oo(2),ga(r.Description),oo(1),Ns("ngClass",Du(2,gb,r.Value))}}function _b(e,t){if(1&e&&(Ls(0,"div",1),Rs(1,mb,4,4,"div",10),js()),2&e){var n=t.$implicit,r=Ks(2);oo(1),Ns("ngIf",!r.isOnlyActiveItems||r.isActiveElem(n))}}function bb(e,t){if(1&e){var n=Bs();Ls(0,"div",3),Ls(1,"p-panel",4),Ls(2,"p-header",5),Ls(3,"div"),Ls(4,"h4"),ya(5),js(),js(),Ls(6,"div"),Ls(7,"span",6),Ws("click",function(){var e=zt(n).$implicit;return Ks().sendMassCmd(e.Items,1)}),Ds(8,"i",7),js(),Ls(9,"span",6),Ws("click",function(){var e=zt(n).$implicit;return Ks().sendMassCmd(e.Items,0)}),Ds(10,"i",8),js(),js(),js(),Rs(11,_b,2,1,"div",9),js(),js()}if(2&e){var r=t.$implicit;oo(1),Ns("toggleable",!0),oo(4),ga(r.Name),oo(6),Ns("ngForOf",r.Items)}}var wb=function(){var e=function(){function e(t,n,r){var i=this;s(this,e),this.mqttService=t,this.authServiceComponent=r,this.isOnlyActiveItems=!1,this.items=A_,this.filterItems=[],this.localSubscription=new T,this.updateAcitveEvent$=new F,n.data.subscribe(function(e){var t=e.filter;i.items=A_.filter(function(e){return e.MenuItemValue&t}),i.isOnlyActiveItems=t===S_.Active,i.isOnlyActiveItems||(i.filterItems=i.items)})}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.items.forEach(function(t){t.Items.forEach(function(t){e.localSubscription.add(e.mqttService.observe(t.TopicLamp).subscribe(function(n){e.coilEventHandler(1===parseInt(n.payload.toString()),t.TopicLamp),e.updateAcitveEvent$.next()}))})}),this.localSubscription.add(this.updateAcitveEvent$.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P_;return function(n){return n.lift(new N_(e,t))}}(500),Xv(function(t){return e.isOnlyActiveItems})).subscribe(function(t){e._filterActiveItems()})),this.updateAcitveEvent$.next()}},{key:"isActiveElem",value:function(e){return this.isOnlyActiveItems&&e.Value}},{key:"ngOnDestroy",value:function(){this.localSubscription.unsubscribe()}},{key:"coilChange",value:function(e,t){!this.authServiceComponent.IsAuth||this.localSubscription.add(this.mqttService.unsafePublish(e.TopicSwitch,t?"1":"0",{qos:1,retain:!0}))}},{key:"sendMassCmd",value:function(e,t){var n=this;!this.authServiceComponent.IsAuth||e.forEach(function(e){n.coilChange(e,t)})}},{key:"coilEventHandler",value:function(e,t){A_.forEach(function(n){n.Items.filter(function(e){return e.TopicLamp===t}).forEach(function(t){return t.Value=e})})}},{key:"_filterActiveItems",value:function(){this.filterItems=A_.filter(function(e){return e.Items.some(function(e){return e.Value})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(G_),Ps(Rg),Ps(Y_))},e.\u0275cmp=rt({type:e,selectors:[["app-base-page"]],decls:3,vars:1,consts:[[1,"container-fluid"],[1,"row"],["class","col-lg-3 col-md-6 col-sm-12 item",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-6","col-sm-12","item"],[3,"toggleable"],[1,"header"],[1,"icon",3,"click"],[1,"fa","fa-check-square","fa-2x","green"],[1,"fa","fa-check-square","fa-2x"],["class","row",4,"ngFor","ngForOf"],["class","col-12 coil-item",3,"click",4,"ngIf"],[1,"col-12","coil-item",3,"click"],["aria-hidden","true",1,"fa","fa-lightbulb-o","fa-2x",3,"ngClass"]],template:function(e,t){1&e&&(Ls(0,"div",0),Ls(1,"div",1),Rs(2,bb,12,3,"div",2),js(),js()),2&e&&(oo(2),Ns("ngForOf",t.filterItems))},directives:[Tc,vb,up,Ac,Ec],styles:["[_nghost-%COMP%]     .ui-widget-header{display:flex}.item[_ngcontent-%COMP%]{padding-top:5px}.item[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.item[_ngcontent-%COMP%]   .coil-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;cursor:pointer}.item[_ngcontent-%COMP%]   .coil-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-right:10px}.item[_ngcontent-%COMP%]   .coil-item[_ngcontent-%COMP%]   i.active[_ngcontent-%COMP%]{color:#adff2f}button[_ngcontent-%COMP%]{width:65px;height:24px}.green[_ngcontent-%COMP%]{color:green}.icon[_ngcontent-%COMP%]{padding:0 5px;cursor:pointer}"]}),e}();function kb(e,t){if(1&e&&(Ls(0,"tr"),Ls(1,"td"),ya(2),Ds(3,"br"),ya(4),js(),Ls(5,"td"),ya(6),js(),js()),2&e){var n=t.$implicit,r=Ks();oo(2),ga(r.prefix[0]),oo(2),ga(r.prefix[1]),oo(2),ga(n)}}var Sb={"\u0441\u043f\u043e\u0440\u0442\u0437\u0430\u043b":["1_K2","1_K4"],"\u043f\u0440\u0430\u0447\u043a\u0443":["2_Q6"],"\u043b\u0435\u0441\u0442\u043d\u0438\u0446\u0443":["3_Q1"],"\u043a\u043e\u0442\u0435\u043b\u044c\u043d\u0443\u044e":["3_Q2"],"\u0442\u0435\u0440\u0430\u0441\u0441\u0443":["3_Q7"],"\u0441\u0442\u043e\u043b\u043e\u0432\u0443\u044e":["4_Q1","4_Q2"],"\u043a\u0443\u0445\u043d\u044f":["4_Q3","4_Q4"],"\u0433\u043e\u0441\u0442\u0438\u043d\u043d\u0443\u044e":["4_Q5","4_Q6","4_Q7","4_Q8"],"\u0441\u0442\u043e\u043b":["4_Q2"],"\u043b\u044e\u0441\u0442\u0440\u0443":["4_Q6"],"\u0431\u0440\u0430 \u0442\u0435\u043b\u0435\u0432\u0438\u0437\u043e\u0440":["4_Q7"],"\u0431\u0440\u0430 \u0434\u0438\u0432\u0430\u043d":["4_Q8"],"\u043a\u043e\u0440\u0438\u0434\u043e\u0440":["5_Q1","5_Q2"],"\u043f\u0440\u0438\u0445\u043e\u0436\u0443\u044e":["5_Q4"],"\u0433\u0430\u0440\u0434\u0435\u0440\u043e\u0431":["5_Q6"],"\u043f\u0435\u0440\u0435\u0445\u043e\u0434":["5_Q8"],"\u043a\u0430\u0431\u0438\u043d\u0435\u0442":["6_Q5"],"\u0442\u0430\u043c\u0431\u0443\u0440 \u0433\u0430\u0440\u0430\u0436":["6_Q8"],"\u0433\u0430\u0440\u0430\u0436":["7_Q1","7_Q2"],"\u043d\u0438\u043a\u0438\u0442\u0430":["7_Q6"],"\u0438\u0433\u0440\u043e\u0432\u0430\u044f":["8_Q3"],"\u043c\u0430\u0448\u0430":["8_Q5"],"\u0432\u0430\u0440\u044f":["9_Q1","9_Q4"],"\u0438\u0433\u0440\u043e\u0432\u0430\u044f \u043b\u044e\u0441\u0442\u0440\u0430":["9_Q5"],"\u0441\u043f\u0430\u043b\u044c\u043d\u044f \u0442\u0435\u043b\u0435\u0432\u0438\u0437\u043e\u0440":["10_Q3"],"\u0434\u043e\u043c":["10_Q6"],"\u0434\u043e\u0440\u043e\u0436\u043a\u0438":["10_Q7"],"\u0431\u0430\u043d\u044f":["10_Q8"]},Eb=[{path:"",redirectTo:"/Active",pathMatch:"full"},{path:"FirstLevel",component:wb,data:{filter:S_.FirstLevel}},{path:"SecondLevel",component:wb,data:{filter:S_.SecondLevel}},{path:"Cap",component:wb,data:{filter:S_.Cap}},{path:"Street",component:wb,data:{filter:S_.Street}},{path:"Active",component:wb,data:{filter:S_.Active}},{path:"Rules",component:function(){var e=function(){function e(){s(this,e),this.rooms=[],this.prefix=["\u0432\u043a\u043b\u044e\u0447\u0438/\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c","\u0432\u044b\u043a\u043b\u044e\u0447\u0438/\u0432\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c"],this.rooms=Object.keys(Sb)}return u(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=rt({type:e,selectors:[["app-rules"]],decls:15,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],[1,"table","table-dark","table-hover"],["scope","col","colspan","2"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(Ls(0,"div",0),Ls(1,"div",1),Ls(2,"div",2),Ls(3,"table",3),Ls(4,"thead"),Ls(5,"tr"),Ls(6,"th",4),ya(7,"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"),js(),js(),js(),Ls(8,"tbody"),Rs(9,kb,7,3,"tr",5),Ls(10,"tr"),Ls(11,"td"),ya(12,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f WEB"),js(),Ls(13,"td"),ya(14,"1234987"),js(),js(),js(),js(),js(),js(),js()),2&e&&(oo(9),Ns("ngForOf",t.rooms))},directives:[Tc],styles:[""]}),e}(),data:{filter:S_.Active}}],Cb=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({imports:[[p_.forRoot(Eb,{relativeLinkResolution:"legacy"})],p_]}),e}(),Tb=function(){var e=function(){function e(){s(this,e)}return u(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=rt({type:e,selectors:[["app-header"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"col-4","text-center"]],template:function(e,t){1&e&&(Ls(0,"div",0),Ds(1,"div",1),Ls(2,"div",2),ya(3,"\u0423\u043c\u043d\u044b\u0439 \u0434\u043e\u043c"),js(),Ds(4,"div",1),js())},styles:["[_nghost-%COMP%]{width:100%;color:#fff}"]}),e}();function xb(e,t){if(1&e&&(Fs(0),ya(1),Vs()),2&e){var n=Ks().$implicit;oo(1),ma(" - ",n.Name," ")}}function Ab(e,t){if(1&e&&(Ls(0,"a",5),Fs(1),Ds(2,"span",6),Vs(),Rs(3,xb,2,1,"ng-container",7),js()),2&e){var n=t.$implicit,r=Ks();Ns("routerLink",n.Route),oo(2),Ns("innerHtml",n.Icon,ai),oo(1),Ns("ngIf",r.isExpand&&r.isEndAnimateExpand)}}var Ob=function(e){return{"fa-rotate-180":e}},Ib=function(){var e=function(){function e(t){var n=this;s(this,e),this.MenuItems=E_,this.expandMenuEvent=new Uu,this.isExpand=!1,t.events.pipe(Xv(function(e){return e instanceof Cy})).subscribe(function(e){n.isExpand&&n.expandMenu()})}return u(e,[{key:"ngOnInit",value:function(){}},{key:"expandMenu",value:function(){this.isExpand=!this.isExpand,this.expandMenuEvent.emit(this.isExpand)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(Jm))},e.\u0275cmp=rt({type:e,selectors:[["app-menu"]],inputs:{isEndAnimateExpand:"isEndAnimateExpand"},outputs:{expandMenuEvent:"expandMenuEvent"},decls:5,vars:4,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"navbar-nav"],["class","nav-item nav-link","href","#","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],[1,"nav-item","nav-link",3,"click"],["aria-hidden","true",1,"fa","fa-angle-double-right",3,"ngClass"],["href","#","routerLinkActive","active",1,"nav-item","nav-link",3,"routerLink"],[3,"innerHtml"],[4,"ngIf"]],template:function(e,t){1&e&&(Ls(0,"nav",0),Ls(1,"div",1),Rs(2,Ab,4,3,"a",2),Ls(3,"a",3),Ws("click",function(){return t.expandMenu()}),Ds(4,"i",4),js(),js(),js()),2&e&&(oo(2),Ns("ngForOf",t.MenuItems),oo(2),Ns("ngClass",Du(2,Ob,t.isExpand)))},directives:[Tc,Ec,t_,r_,Ac],styles:["[_nghost-%COMP%]{font-size:24px}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{padding-left:10px;padding-right:5px}"]}),e}();function Rb(e,t){1&e&&(Ls(0,"div",3),Ls(1,"div",4),Ls(2,"strong"),ya(3,"\u0422\u0420\u0415\u0412\u041e\u0413\u0418"),js(),js(),js())}function Pb(e,t){if(1&e&&(Ls(0,"div",5),ya(1),js()),2&e){var n=t.$implicit;ia("active",n.Value),oo(1),ma(" ",n.Name," ")}}var Nb=function(){var e=function(){function e(t){s(this,e),this.mqttService=t,this.localSubscription=new T,this.ALARMS=x_,this.activeAlarms=[]}return u(e,[{key:"ngOnInit",value:function(){var e=this;x_.forEach(function(t){e.localSubscription.add(e.mqttService.observe(t.TopicLamp).subscribe(function(n){t.Value=Boolean(parseInt(n.payload.toString())),e.filterAlarms()}))})}},{key:"filterAlarms",value:function(){this.activeAlarms=x_.filter(function(e){return e.Value})}},{key:"ngOnDestroy",value:function(){this.localSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(G_))},e.\u0275cmp=rt({type:e,selectors:[["app-alarms"]],decls:3,vars:2,consts:[["class","row m-1",4,"ngIf"],[1,"row","justify-content-center","m-1"],["class","col m-1 text-center",3,"active",4,"ngFor","ngForOf"],[1,"row","m-1"],[1,"col","text-center"],[1,"col","m-1","text-center"]],template:function(e,t){1&e&&(Rs(0,Rb,4,0,"div",0),Ls(1,"div",1),Rs(2,Pb,2,3,"div",2),js()),2&e&&(Ns("ngIf",t.activeAlarms.length),oo(2),Ns("ngForOf",t.activeAlarms))},directives:[Ac,Tc],styles:[".active[_ngcontent-%COMP%]{background-color:green}[_nghost-%COMP%]{color:#fff}"]}),e}(),Mb=function(){var e=function(){function e(t){s(this,e),this.mqttService=t,this.title="\u0423\u043c\u043d\u044b\u0439 \u0434\u043e\u043c",this.isExpandMenu=!1,this.isEndAnimateExpand=!1,this.mqttService.onConnect.subscribe(function(e){console.log("status MQTT: "+status)}),this.mqttService.onError.subscribe(function(e){console.error(e)})}return u(e,[{key:"doneAnimate",value:function(){this.isEndAnimateExpand=this.isExpandMenu}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(G_))},e.\u0275cmp=rt({type:e,selectors:[["app-root"]],decls:9,vars:2,consts:[[1,"container-fluid","bg-dark"],[1,"row","header"],[1,"row","body"],[1,"col","menu","bg-dark"],[3,"isEndAnimateExpand","expandMenuEvent"],[1,"col","content"]],template:function(e,t){1&e&&(Ls(0,"div",0),Ls(1,"div",1),Ds(2,"app-header"),js(),Ls(3,"div",2),Ls(4,"div",3),Ws("@MinExpan.done",function(){return t.doneAnimate()}),Ls(5,"app-menu",4),Ws("expandMenuEvent",function(e){return t.isExpandMenu=e}),js(),js(),Ls(6,"div",5),Ds(7,"app-alarms"),Ds(8,"router-outlet"),js(),js(),js()),2&e&&(oo(4),Ns("@MinExpan",t.isExpandMenu?"expan":"min"),oo(1),Ns("isEndAnimateExpand",t.isEndAnimateExpand))},directives:[Tb,Ib,Nb,i_],styles:[".container-fluid[_ngcontent-%COMP%]{overflow:hidden}.container-fluid[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:30px;border-bottom:solid 2px black}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{height:calc(100vh - 30px)}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%] > .menu[_ngcontent-%COMP%]{top:30px;left:0;position:absolute;padding:0;border-right:solid 2px black;z-index:1;height:100%}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{height:100%;overflow:auto;padding-left:60px;z-index:0}"],data:{animation:[vh("MinExpan",[_h("min",mh({width:"60px"})),_h("expan",mh({width:"220px"})),bh("min => expan",[yh("0.3s")]),bh("expan => min",[yh("0.3s")])])]}}),e}(),Lb=function(e,t,n){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":e,"p-disabled":t,"p-focus":n}},jb={provide:Fp,useExisting:be(function(){return Db}),multi:!0},Db=function(){var e=function(){function e(t){s(this,e),this.cd=t,this.trueValue=!0,this.falseValue=!1,this.onChange=new Uu,this.modelValue=!1,this.focused=!1,this.onModelChange=function(){},this.onModelTouched=function(){}}return u(e,[{key:"onClick",value:function(e,t){!this.disabled&&!this.readonly&&(e.preventDefault(),this.toggle(e),t.focus())}},{key:"onInputChange",value:function(e){this.readonly||this.updateModel(e,e.target.checked)}},{key:"toggle",value:function(e){this.updateModel(e,!this.checked())}},{key:"updateModel",value:function(e,t){this.modelValue=t?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue})}},{key:"onFocus",value:function(e){this.focused=!0}},{key:"onBlur",value:function(e){this.focused=!1,this.onModelTouched()}},{key:"writeValue",value:function(e){this.modelValue=e,this.cd.markForCheck()}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cd.markForCheck()}},{key:"checked",value:function(){return this.modelValue===this.trueValue}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ps(fu))},e.\u0275cmp=rt({type:e,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[Ma([jb])],decls:5,vars:15,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(e,t){if(1&e){var n=Bs();Ls(0,"div",0),Ws("click",function(e){zt(n);var r=function(e,t){return e[23]}(Bt.lFrame.contextLView);return t.onClick(e,r)}),Ls(1,"div",1),Ls(2,"input",2,3),Ws("change",function(e){return t.onInputChange(e)})("focus",function(e){return t.onFocus(e)})("blur",function(e){return t.onBlur(e)}),js(),js(),Ds(4,"span",4),js()}2&e&&(oa(t.styleClass),Ns("ngClass",function(e,t,n,r,i,o){return function(e,t,n,r,i,o,s,a){var u=t+n;return function(e,t,n,r,i){var o=Os(e,t,n,r);return As(e,t+2,i)||o}(e,u,i,o,s)?xs(e,u+3,a?r.call(a,i,o,s):r(i,o,s)):Fu(e,u+3)}(Ht(),Xt(),e,t,n,r,i,o)}(11,Lb,t.checked(),t.disabled,t.focused))("ngStyle",t.style),oo(2),Ns("checked",t.checked())("disabled",t.disabled),Is("id",t.inputId)("name",t.name)("tabindex",t.tabindex)("aria-checked",t.checked())("aria-labelledby",t.ariaLabelledBy))},directives:[Ec,Rc],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}'],encapsulation:2,changeDetection:0}),e}(),Fb=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e}),e.\u0275inj=Ae({imports:[[Nc]]}),e}(),Vb=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=at({type:e,bootstrap:[Mb]}),e.\u0275inj=Ae({providers:[Y_,Mp],imports:[[fh,Cb,rp,K_.forRoot({hostname:window.location.hostname,protocol:"ws",port:18883,clientId:"SmartHouse: "+Math.ceil(10*Math.random())}),Fb,yb,xv,pp,Pp,Ov]]}),e}();(function(){if(Fl)throw new Error("Cannot enable prod mode after platform setup.");Dl=!1})(),ch().bootstrapModule(Vb).catch(function(e){return console.error(e)})}},function(e){e(e.s=3740)}])}();